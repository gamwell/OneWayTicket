function mp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function xd(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var vd={exports:{}},Yi={},wd={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),pp=Symbol.for("react.portal"),gp=Symbol.for("react.fragment"),yp=Symbol.for("react.strict_mode"),xp=Symbol.for("react.profiler"),vp=Symbol.for("react.provider"),wp=Symbol.for("react.context"),bp=Symbol.for("react.forward_ref"),jp=Symbol.for("react.suspense"),_p=Symbol.for("react.memo"),Np=Symbol.for("react.lazy"),kc=Symbol.iterator;function kp(e){return e===null||typeof e!="object"?null:(e=kc&&e[kc]||e["@@iterator"],typeof e=="function"?e:null)}var bd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jd=Object.assign,_d={};function gn(e,t,r){this.props=e,this.context=t,this.refs=_d,this.updater=r||bd}gn.prototype.isReactComponent={};gn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nd(){}Nd.prototype=gn.prototype;function pl(e,t,r){this.props=e,this.context=t,this.refs=_d,this.updater=r||bd}var gl=pl.prototype=new Nd;gl.constructor=pl;jd(gl,gn.prototype);gl.isPureReactComponent=!0;var Sc=Array.isArray,kd=Object.prototype.hasOwnProperty,yl={current:null},Sd={key:!0,ref:!0,__self:!0,__source:!0};function Ed(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)kd.call(t,n)&&!Sd.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:js,type:e,key:a,ref:o,props:s,_owner:yl.current}}function Sp(e,t){return{$$typeof:js,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xl(e){return typeof e=="object"&&e!==null&&e.$$typeof===js}function Ep(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ec=/\/+/g;function ba(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ep(""+e.key):t.toString(36)}function ai(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case js:case pp:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ba(o,0):n,Sc(s)?(r="",e!=null&&(r=e.replace(Ec,"$&/")+"/"),ai(s,t,r,"",function(u){return u})):s!=null&&(xl(s)&&(s=Sp(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ec,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Sc(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+ba(a,l);o+=ai(a,t,r,c,s)}else if(c=kp(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+ba(a,l++),o+=ai(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Rs(e,t,r){if(e==null)return e;var n=[],s=0;return ai(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Cp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},oi={transition:null},Tp={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:oi,ReactCurrentOwner:yl};function Cd(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Rs,forEach:function(e,t,r){Rs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Rs(e,function(){t++}),t},toArray:function(e){return Rs(e,function(t){return t})||[]},only:function(e){if(!xl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=gn;B.Fragment=gp;B.Profiler=xp;B.PureComponent=pl;B.StrictMode=yp;B.Suspense=jp;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tp;B.act=Cd;B.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=jd({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=yl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)kd.call(t,c)&&!Sd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:js,type:e.type,key:s,ref:a,props:n,_owner:o}};B.createContext=function(e){return e={$$typeof:wp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vp,_context:e},e.Consumer=e};B.createElement=Ed;B.createFactory=function(e){var t=Ed.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:bp,render:e}};B.isValidElement=xl;B.lazy=function(e){return{$$typeof:Np,_payload:{_status:-1,_result:e},_init:Cp}};B.memo=function(e,t){return{$$typeof:_p,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=oi.transition;oi.transition={};try{e()}finally{oi.transition=t}};B.unstable_act=Cd;B.useCallback=function(e,t){return Ce.current.useCallback(e,t)};B.useContext=function(e){return Ce.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};B.useEffect=function(e,t){return Ce.current.useEffect(e,t)};B.useId=function(){return Ce.current.useId()};B.useImperativeHandle=function(e,t,r){return Ce.current.useImperativeHandle(e,t,r)};B.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Ce.current.useMemo(e,t)};B.useReducer=function(e,t,r){return Ce.current.useReducer(e,t,r)};B.useRef=function(e){return Ce.current.useRef(e)};B.useState=function(e){return Ce.current.useState(e)};B.useSyncExternalStore=function(e,t,r){return Ce.current.useSyncExternalStore(e,t,r)};B.useTransition=function(){return Ce.current.useTransition()};B.version="18.3.1";wd.exports=B;var w=wd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=w,Op=Symbol.for("react.element"),Rp=Symbol.for("react.fragment"),Ap=Object.prototype.hasOwnProperty,Ip=Pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lp={key:!0,ref:!0,__self:!0,__source:!0};function Td(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Ap.call(t,n)&&!Lp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Op,type:e,key:a,ref:o,props:s,_owner:Ip.current}}Yi.Fragment=Rp;Yi.jsx=Td;Yi.jsxs=Td;vd.exports=Yi;var i=vd.exports,Pd={exports:{}},qe={},Od={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,z){var F=P.length;P.push(z);e:for(;0<F;){var ie=F-1>>>1,me=P[ie];if(0<s(me,z))P[ie]=z,P[F]=me,F=ie;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var z=P[0],F=P.pop();if(F!==z){P[0]=F;e:for(var ie=0,me=P.length,Ps=me>>>1;ie<Ps;){var ar=2*(ie+1)-1,wa=P[ar],or=ar+1,Os=P[or];if(0>s(wa,F))or<me&&0>s(Os,wa)?(P[ie]=Os,P[or]=F,ie=or):(P[ie]=wa,P[ar]=F,ie=ar);else if(or<me&&0>s(Os,F))P[ie]=Os,P[or]=F,ie=or;else break e}}return z}function s(P,z){var F=P.sortIndex-z.sortIndex;return F!==0?F:P.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=P)n(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(u)}}function j(P){if(v=!1,g(P),!x)if(r(c)!==null)x=!0,Xe(_);else{var z=r(u);z!==null&&va(j,z.startTime-P)}}function _(P,z){x=!1,v&&(v=!1,y(S),S=-1),p=!0;var F=f;try{for(g(z),h=r(c);h!==null&&(!(h.expirationTime>z)||P&&!N());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var me=ie(h.expirationTime<=z);z=e.unstable_now(),typeof me=="function"?h.callback=me:h===r(c)&&n(c),g(z)}else n(c);h=r(c)}if(h!==null)var Ps=!0;else{var ar=r(u);ar!==null&&va(j,ar.startTime-z),Ps=!1}return Ps}finally{h=null,f=F,p=!1}}var k=!1,C=null,S=-1,O=5,A=-1;function N(){return!(e.unstable_now()-A<O)}function $(){if(C!==null){var P=e.unstable_now();A=P;var z=!0;try{z=C(!0,P)}finally{z?U():(k=!1,C=null)}}else k=!1}var U;if(typeof m=="function")U=function(){m($)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,fe=q.port2;q.port1.onmessage=$,U=function(){fe.postMessage(null)}}else U=function(){b($,0)};function Xe(P){C=P,k||(k=!0,U())}function va(P,z){S=b(function(){P(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,Xe(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var F=f;f=z;try{return P()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=f;f=P;try{return z()}finally{f=F}},e.unstable_scheduleCallback=function(P,z,F){var ie=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ie+F:ie):F=ie,P){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=F+me,P={id:d++,callback:z,priorityLevel:P,startTime:F,expirationTime:me,sortIndex:-1},F>ie?(P.sortIndex=F,t(u,P),r(c)===null&&P===r(u)&&(v?(y(S),S=-1):v=!0,va(j,F-ie))):(P.sortIndex=me,t(c,P),x||p||(x=!0,Xe(_))),P},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(P){var z=f;return function(){var F=f;f=z;try{return P.apply(this,arguments)}finally{f=F}}}})(Rd);Od.exports=Rd;var $p=Od.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=w,Be=$p;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ad=new Set,ts={};function Cr(e,t){sn(e,t),sn(e+"Capture",t)}function sn(e,t){for(ts[e]=t,e=0;e<t.length;e++)Ad.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=Object.prototype.hasOwnProperty,Up=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cc={},Tc={};function Mp(e){return io.call(Tc,e)?!0:io.call(Cc,e)?!1:Up.test(e)?Tc[e]=!0:(Cc[e]=!0,!1)}function zp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fp(e,t,r,n){if(t===null||typeof t>"u"||zp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var vl=/[\-:]([a-z])/g;function wl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vl,wl);ve[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vl,wl);ve[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vl,wl);ve[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function bl(e,t,r,n){var s=ve.hasOwnProperty(t)?ve[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fp(t,r,s,n)&&(r=null),n||s===null?Mp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var At=Dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,As=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),zr=Symbol.for("react.fragment"),jl=Symbol.for("react.strict_mode"),ao=Symbol.for("react.profiler"),Id=Symbol.for("react.provider"),Ld=Symbol.for("react.context"),_l=Symbol.for("react.forward_ref"),oo=Symbol.for("react.suspense"),lo=Symbol.for("react.suspense_list"),Nl=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),$d=Symbol.for("react.offscreen"),Pc=Symbol.iterator;function Cn(e){return e===null||typeof e!="object"?null:(e=Pc&&e[Pc]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,ja;function Un(e){if(ja===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ja=t&&t[1]||""}return`
`+ja+e}var _a=!1;function Na(e,t){if(!e||_a)return"";_a=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{_a=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Un(e):""}function Bp(e){switch(e.tag){case 5:return Un(e.type);case 16:return Un("Lazy");case 13:return Un("Suspense");case 19:return Un("SuspenseList");case 0:case 2:case 15:return e=Na(e.type,!1),e;case 11:return e=Na(e.type.render,!1),e;case 1:return e=Na(e.type,!0),e;default:return""}}function co(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zr:return"Fragment";case Mr:return"Portal";case ao:return"Profiler";case jl:return"StrictMode";case oo:return"Suspense";case lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ld:return(e.displayName||"Context")+".Consumer";case Id:return(e._context.displayName||"Context")+".Provider";case _l:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nl:return t=e.displayName||null,t!==null?t:co(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return co(e(t))}catch{}}return null}function qp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return co(t);case 8:return t===jl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vp(e){var t=Dd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Is(e){e._valueTracker||(e._valueTracker=Vp(e))}function Ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Dd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uo(e,t){var r=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Oc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Md(e,t){t=t.checked,t!=null&&bl(e,"checked",t,!1)}function ho(e,t){Md(e,t);var r=Zt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fo(e,t.type,r):t.hasOwnProperty("defaultValue")&&fo(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fo(e,t,r){(t!=="number"||wi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Mn=Array.isArray;function Yr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ac(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(Mn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zt(r)}}function zd(e,t){var r=Zt(t.value),n=Zt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ic(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function po(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ls,Bd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ls=Ls||document.createElement("div"),Ls.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wp=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(e){Wp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qn[t]=qn[e]})});function qd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||qn.hasOwnProperty(e)&&qn[e]?(""+t).trim():t+"px"}function Vd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=qd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Hp=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(e,t){if(t){if(Hp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function yo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vo=null,Xr=null,Zr=null;function Lc(e){if(e=ks(e)){if(typeof vo!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ra(t),vo(e.stateNode,e.type,t))}}function Wd(e){Xr?Zr?Zr.push(e):Zr=[e]:Xr=e}function Hd(){if(Xr){var e=Xr,t=Zr;if(Zr=Xr=null,Lc(e),t)for(e=0;e<t.length;e++)Lc(t[e])}}function Kd(e,t){return e(t)}function Jd(){}var ka=!1;function Gd(e,t,r){if(ka)return e(t,r);ka=!0;try{return Kd(e,t,r)}finally{ka=!1,(Xr!==null||Zr!==null)&&(Jd(),Hd())}}function ns(e,t){var r=e.stateNode;if(r===null)return null;var n=ra(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var wo=!1;if(Ct)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{wo=!1}function Kp(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Vn=!1,bi=null,ji=!1,bo=null,Jp={onError:function(e){Vn=!0,bi=e}};function Gp(e,t,r,n,s,a,o,l,c){Vn=!1,bi=null,Kp.apply(Jp,arguments)}function Qp(e,t,r,n,s,a,o,l,c){if(Gp.apply(this,arguments),Vn){if(Vn){var u=bi;Vn=!1,bi=null}else throw Error(E(198));ji||(ji=!0,bo=u)}}function Tr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $c(e){if(Tr(e)!==e)throw Error(E(188))}function Yp(e){var t=e.alternate;if(!t){if(t=Tr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return $c(s),e;if(a===n)return $c(s),t;a=a.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function Yd(e){return e=Yp(e),e!==null?Xd(e):null}function Xd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xd(e);if(t!==null)return t;e=e.sibling}return null}var Zd=Be.unstable_scheduleCallback,Dc=Be.unstable_cancelCallback,Xp=Be.unstable_shouldYield,Zp=Be.unstable_requestPaint,oe=Be.unstable_now,eg=Be.unstable_getCurrentPriorityLevel,Sl=Be.unstable_ImmediatePriority,eh=Be.unstable_UserBlockingPriority,_i=Be.unstable_NormalPriority,tg=Be.unstable_LowPriority,th=Be.unstable_IdlePriority,Xi=null,gt=null;function rg(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Xi,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:ig,ng=Math.log,sg=Math.LN2;function ig(e){return e>>>=0,e===0?32:31-(ng(e)/sg|0)|0}var $s=64,Ds=4194304;function zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ni(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=zn(l):(a&=o,a!==0&&(n=zn(a)))}else o=r&~s,o!==0?n=zn(o):a!==0&&(n=zn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ot(t),s=1<<r,n|=e[r],t&=~s;return n}function ag(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function og(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=ag(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rh(){var e=$s;return $s<<=1,!($s&4194240)&&($s=64),e}function Sa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _s(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=r}function lg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ot(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function El(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var H=0;function nh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sh,Cl,ih,ah,oh,_o=!1,Us=[],Wt=null,Ht=null,Kt=null,ss=new Map,is=new Map,Mt=[],cg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uc(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":is.delete(t.pointerId)}}function Pn(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ks(t),t!==null&&Cl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ug(e,t,r,n,s){switch(t){case"focusin":return Wt=Pn(Wt,e,t,r,n,s),!0;case"dragenter":return Ht=Pn(Ht,e,t,r,n,s),!0;case"mouseover":return Kt=Pn(Kt,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return ss.set(a,Pn(ss.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,is.set(a,Pn(is.get(a)||null,e,t,r,n,s)),!0}return!1}function lh(e){var t=gr(e.target);if(t!==null){var r=Tr(t);if(r!==null){if(t=r.tag,t===13){if(t=Qd(r),t!==null){e.blockedOn=t,oh(e.priority,function(){ih(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=No(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xo=n,r.target.dispatchEvent(n),xo=null}else return t=ks(r),t!==null&&Cl(t),e.blockedOn=r,!1;t.shift()}return!0}function Mc(e,t,r){li(e)&&r.delete(t)}function dg(){_o=!1,Wt!==null&&li(Wt)&&(Wt=null),Ht!==null&&li(Ht)&&(Ht=null),Kt!==null&&li(Kt)&&(Kt=null),ss.forEach(Mc),is.forEach(Mc)}function On(e,t){e.blockedOn===t&&(e.blockedOn=null,_o||(_o=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,dg)))}function as(e){function t(s){return On(s,e)}if(0<Us.length){On(Us[0],e);for(var r=1;r<Us.length;r++){var n=Us[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wt!==null&&On(Wt,e),Ht!==null&&On(Ht,e),Kt!==null&&On(Kt,e),ss.forEach(t),is.forEach(t),r=0;r<Mt.length;r++)n=Mt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&(r=Mt[0],r.blockedOn===null);)lh(r),r.blockedOn===null&&Mt.shift()}var en=At.ReactCurrentBatchConfig,ki=!0;function hg(e,t,r,n){var s=H,a=en.transition;en.transition=null;try{H=1,Tl(e,t,r,n)}finally{H=s,en.transition=a}}function fg(e,t,r,n){var s=H,a=en.transition;en.transition=null;try{H=4,Tl(e,t,r,n)}finally{H=s,en.transition=a}}function Tl(e,t,r,n){if(ki){var s=No(e,t,r,n);if(s===null)$a(e,t,n,Si,r),Uc(e,n);else if(ug(s,e,t,r,n))n.stopPropagation();else if(Uc(e,n),t&4&&-1<cg.indexOf(e)){for(;s!==null;){var a=ks(s);if(a!==null&&sh(a),a=No(e,t,r,n),a===null&&$a(e,t,n,Si,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else $a(e,t,n,null,r)}}var Si=null;function No(e,t,r,n){if(Si=null,e=kl(n),e=gr(e),e!==null)if(t=Tr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Qd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Si=e,null}function ch(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eg()){case Sl:return 1;case eh:return 4;case _i:case tg:return 16;case th:return 536870912;default:return 16}default:return 16}}var Bt=null,Pl=null,ci=null;function uh(){if(ci)return ci;var e,t=Pl,r=t.length,n,s="value"in Bt?Bt.value:Bt.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return ci=s.slice(e,1<n?1-n:void 0)}function ui(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ms(){return!0}function zc(){return!1}function Ve(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ms:zc,this.isPropagationStopped=zc,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Ve(yn),Ns=ne({},yn,{view:0,detail:0}),mg=Ve(Ns),Ea,Ca,Rn,Zi=ne({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rn&&(Rn&&e.type==="mousemove"?(Ea=e.screenX-Rn.screenX,Ca=e.screenY-Rn.screenY):Ca=Ea=0,Rn=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),Fc=Ve(Zi),pg=ne({},Zi,{dataTransfer:0}),gg=Ve(pg),yg=ne({},Ns,{relatedTarget:0}),Ta=Ve(yg),xg=ne({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),vg=Ve(xg),wg=ne({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bg=Ve(wg),jg=ne({},yn,{data:0}),Bc=Ve(jg),_g={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ng={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kg[e])?!!t[e]:!1}function Rl(){return Sg}var Eg=ne({},Ns,{key:function(e){if(e.key){var t=_g[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ng[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(e){return e.type==="keypress"?ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cg=Ve(Eg),Tg=ne({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=Ve(Tg),Pg=ne({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),Og=Ve(Pg),Rg=ne({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ag=Ve(Rg),Ig=ne({},Zi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lg=Ve(Ig),$g=[9,13,27,32],Al=Ct&&"CompositionEvent"in window,Wn=null;Ct&&"documentMode"in document&&(Wn=document.documentMode);var Dg=Ct&&"TextEvent"in window&&!Wn,dh=Ct&&(!Al||Wn&&8<Wn&&11>=Wn),Vc=" ",Wc=!1;function hh(e,t){switch(e){case"keyup":return $g.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function Ug(e,t){switch(e){case"compositionend":return fh(t);case"keypress":return t.which!==32?null:(Wc=!0,Vc);case"textInput":return e=t.data,e===Vc&&Wc?null:e;default:return null}}function Mg(e,t){if(Fr)return e==="compositionend"||!Al&&hh(e,t)?(e=uh(),ci=Pl=Bt=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dh&&t.locale!=="ko"?null:t.data;default:return null}}var zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zg[e.type]:t==="textarea"}function mh(e,t,r,n){Wd(n),t=Ei(t,"onChange"),0<t.length&&(r=new Ol("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hn=null,os=null;function Fg(e){kh(e,0)}function ea(e){var t=Vr(e);if(Ud(t))return e}function Bg(e,t){if(e==="change")return t}var ph=!1;if(Ct){var Pa;if(Ct){var Oa="oninput"in document;if(!Oa){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),Oa=typeof Kc.oninput=="function"}Pa=Oa}else Pa=!1;ph=Pa&&(!document.documentMode||9<document.documentMode)}function Jc(){Hn&&(Hn.detachEvent("onpropertychange",gh),os=Hn=null)}function gh(e){if(e.propertyName==="value"&&ea(os)){var t=[];mh(t,os,e,kl(e)),Gd(Fg,t)}}function qg(e,t,r){e==="focusin"?(Jc(),Hn=t,os=r,Hn.attachEvent("onpropertychange",gh)):e==="focusout"&&Jc()}function Vg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ea(os)}function Wg(e,t){if(e==="click")return ea(t)}function Hg(e,t){if(e==="input"||e==="change")return ea(t)}function Kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:Kg;function ls(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!io.call(t,s)||!ct(e[s],t[s]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qc(e,t){var r=Gc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gc(r)}}function yh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xh(){for(var e=window,t=wi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wi(e.document)}return t}function Il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jg(e){var t=xh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yh(r.ownerDocument.documentElement,r)){if(n!==null&&Il(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Qc(r,a);var o=Qc(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gg=Ct&&"documentMode"in document&&11>=document.documentMode,Br=null,ko=null,Kn=null,So=!1;function Yc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;So||Br==null||Br!==wi(n)||(n=Br,"selectionStart"in n&&Il(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kn&&ls(Kn,n)||(Kn=n,n=Ei(ko,"onSelect"),0<n.length&&(t=new Ol("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Br)))}function zs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qr={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},Ra={},vh={};Ct&&(vh=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function ta(e){if(Ra[e])return Ra[e];if(!qr[e])return e;var t=qr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vh)return Ra[e]=t[r];return e}var wh=ta("animationend"),bh=ta("animationiteration"),jh=ta("animationstart"),_h=ta("transitionend"),Nh=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){Nh.set(e,t),Cr(t,[e])}for(var Aa=0;Aa<Xc.length;Aa++){var Ia=Xc[Aa],Qg=Ia.toLowerCase(),Yg=Ia[0].toUpperCase()+Ia.slice(1);tr(Qg,"on"+Yg)}tr(wh,"onAnimationEnd");tr(bh,"onAnimationIteration");tr(jh,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(_h,"onTransitionEnd");sn("onMouseEnter",["mouseout","mouseover"]);sn("onMouseLeave",["mouseout","mouseover"]);sn("onPointerEnter",["pointerout","pointerover"]);sn("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fn));function Zc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Qp(n,t,void 0,e),e.currentTarget=null}function kh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Zc(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Zc(s,l,u),a=c}}}if(ji)throw e=bo,ji=!1,bo=null,e}function Q(e,t){var r=t[Oo];r===void 0&&(r=t[Oo]=new Set);var n=e+"__bubble";r.has(n)||(Sh(t,e,2,!1),r.add(n))}function La(e,t,r){var n=0;t&&(n|=4),Sh(r,e,n,t)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function cs(e){if(!e[Fs]){e[Fs]=!0,Ad.forEach(function(r){r!=="selectionchange"&&(Xg.has(r)||La(r,!1,e),La(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fs]||(t[Fs]=!0,La("selectionchange",!1,t))}}function Sh(e,t,r,n){switch(ch(t)){case 1:var s=hg;break;case 4:s=fg;break;default:s=Tl}r=s.bind(null,t,r,e),s=void 0,!wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function $a(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=gr(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Gd(function(){var u=a,d=kl(r),h=[];e:{var f=Nh.get(e);if(f!==void 0){var p=Ol,x=e;switch(e){case"keypress":if(ui(r)===0)break e;case"keydown":case"keyup":p=Cg;break;case"focusin":x="focus",p=Ta;break;case"focusout":x="blur",p=Ta;break;case"beforeblur":case"afterblur":p=Ta;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Og;break;case wh:case bh:case jh:p=vg;break;case _h:p=Ag;break;case"scroll":p=mg;break;case"wheel":p=Lg;break;case"copy":case"cut":case"paste":p=bg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=qc}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,g;m!==null;){g=m;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,y!==null&&(j=ns(m,y),j!=null&&v.push(us(m,j,g)))),b)break;m=m.return}0<v.length&&(f=new p(f,x,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==xo&&(x=r.relatedTarget||r.fromElement)&&(gr(x)||x[Tt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?gr(x):null,x!==null&&(b=Tr(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(v=Fc,j="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=qc,j="onPointerLeave",y="onPointerEnter",m="pointer"),b=p==null?f:Vr(p),g=x==null?f:Vr(x),f=new v(j,m+"leave",p,r,d),f.target=b,f.relatedTarget=g,j=null,gr(d)===u&&(v=new v(y,m+"enter",x,r,d),v.target=g,v.relatedTarget=b,j=v),b=j,p&&x)t:{for(v=p,y=x,m=0,g=v;g;g=Or(g))m++;for(g=0,j=y;j;j=Or(j))g++;for(;0<m-g;)v=Or(v),m--;for(;0<g-m;)y=Or(y),g--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=Or(v),y=Or(y)}v=null}else v=null;p!==null&&eu(h,f,p,v,!1),x!==null&&b!==null&&eu(h,b,x,v,!0)}}e:{if(f=u?Vr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=Bg;else if(Hc(f))if(ph)_=Hg;else{_=Vg;var k=qg}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Wg);if(_&&(_=_(e,u))){mh(h,_,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&fo(f,"number",f.value)}switch(k=u?Vr(u):window,e){case"focusin":(Hc(k)||k.contentEditable==="true")&&(Br=k,ko=u,Kn=null);break;case"focusout":Kn=ko=Br=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,Yc(h,r,d);break;case"selectionchange":if(Gg)break;case"keydown":case"keyup":Yc(h,r,d)}var C;if(Al)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Fr?hh(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(dh&&r.locale!=="ko"&&(Fr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Fr&&(C=uh()):(Bt=d,Pl="value"in Bt?Bt.value:Bt.textContent,Fr=!0)),k=Ei(u,S),0<k.length&&(S=new Bc(S,e,null,r,d),h.push({event:S,listeners:k}),C?S.data=C:(C=fh(r),C!==null&&(S.data=C)))),(C=Dg?Ug(e,r):Mg(e,r))&&(u=Ei(u,"onBeforeInput"),0<u.length&&(d=new Bc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}kh(h,t)})}function us(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ei(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ns(e,r),a!=null&&n.unshift(us(e,a,s)),a=ns(e,t),a!=null&&n.push(us(e,a,s))),e=e.return}return n}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eu(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ns(r,a),c!=null&&o.unshift(us(r,c,l))):s||(c=ns(r,a),c!=null&&o.push(us(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Zg=/\r\n?/g,e0=/\u0000|\uFFFD/g;function tu(e){return(typeof e=="string"?e:""+e).replace(Zg,`
`).replace(e0,"")}function Bs(e,t,r){if(t=tu(t),tu(e)!==t&&r)throw Error(E(425))}function Ci(){}var Eo=null,Co=null;function To(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Po=typeof setTimeout=="function"?setTimeout:void 0,t0=typeof clearTimeout=="function"?clearTimeout:void 0,ru=typeof Promise=="function"?Promise:void 0,r0=typeof queueMicrotask=="function"?queueMicrotask:typeof ru<"u"?function(e){return ru.resolve(null).then(e).catch(n0)}:Po;function n0(e){setTimeout(function(){throw e})}function Da(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),as(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);as(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xn=Math.random().toString(36).slice(2),pt="__reactFiber$"+xn,ds="__reactProps$"+xn,Tt="__reactContainer$"+xn,Oo="__reactEvents$"+xn,s0="__reactListeners$"+xn,i0="__reactHandles$"+xn;function gr(e){var t=e[pt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tt]||r[pt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nu(e);e!==null;){if(r=e[pt])return r;e=nu(e)}return t}e=r,r=e.parentNode}return null}function ks(e){return e=e[pt]||e[Tt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ra(e){return e[ds]||null}var Ro=[],Wr=-1;function rr(e){return{current:e}}function Y(e){0>Wr||(e.current=Ro[Wr],Ro[Wr]=null,Wr--)}function G(e,t){Wr++,Ro[Wr]=e.current,e.current=t}var er={},_e=rr(er),Re=rr(!1),_r=er;function an(e,t){var r=e.type.contextTypes;if(!r)return er;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ae(e){return e=e.childContextTypes,e!=null}function Ti(){Y(Re),Y(_e)}function su(e,t,r){if(_e.current!==er)throw Error(E(168));G(_e,t),G(Re,r)}function Eh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,qp(e)||"Unknown",s));return ne({},r,n)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,_r=_e.current,G(_e,e),G(Re,Re.current),!0}function iu(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Eh(e,t,_r),n.__reactInternalMemoizedMergedChildContext=e,Y(Re),Y(_e),G(_e,e)):Y(Re),G(Re,r)}var jt=null,na=!1,Ua=!1;function Ch(e){jt===null?jt=[e]:jt.push(e)}function a0(e){na=!0,Ch(e)}function nr(){if(!Ua&&jt!==null){Ua=!0;var e=0,t=H;try{var r=jt;for(H=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jt=null,na=!1}catch(s){throw jt!==null&&(jt=jt.slice(e+1)),Zd(Sl,nr),s}finally{H=t,Ua=!1}}return null}var Hr=[],Kr=0,Oi=null,Ri=0,We=[],He=0,Nr=null,_t=1,Nt="";function dr(e,t){Hr[Kr++]=Ri,Hr[Kr++]=Oi,Oi=e,Ri=t}function Th(e,t,r){We[He++]=_t,We[He++]=Nt,We[He++]=Nr,Nr=e;var n=_t;e=Nt;var s=32-ot(n)-1;n&=~(1<<s),r+=1;var a=32-ot(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,_t=1<<32-ot(t)+s|r<<s|n,Nt=a+e}else _t=1<<a|r<<s|n,Nt=e}function Ll(e){e.return!==null&&(dr(e,1),Th(e,1,0))}function $l(e){for(;e===Oi;)Oi=Hr[--Kr],Hr[Kr]=null,Ri=Hr[--Kr],Hr[Kr]=null;for(;e===Nr;)Nr=We[--He],We[He]=null,Nt=We[--He],We[He]=null,_t=We[--He],We[He]=null}var Fe=null,ze=null,X=!1,at=null;function Ph(e,t){var r=Ke(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function au(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fe=e,ze=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fe=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nr!==null?{id:_t,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ke(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fe=e,ze=null,!0):!1;default:return!1}}function Ao(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Io(e){if(X){var t=ze;if(t){var r=t;if(!au(e,t)){if(Ao(e))throw Error(E(418));t=Jt(r.nextSibling);var n=Fe;t&&au(e,t)?Ph(n,r):(e.flags=e.flags&-4097|2,X=!1,Fe=e)}}else{if(Ao(e))throw Error(E(418));e.flags=e.flags&-4097|2,X=!1,Fe=e}}}function ou(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function qs(e){if(e!==Fe)return!1;if(!X)return ou(e),X=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!To(e.type,e.memoizedProps)),t&&(t=ze)){if(Ao(e))throw Oh(),Error(E(418));for(;t;)Ph(e,t),t=Jt(t.nextSibling)}if(ou(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ze=Jt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=Fe?Jt(e.stateNode.nextSibling):null;return!0}function Oh(){for(var e=ze;e;)e=Jt(e.nextSibling)}function on(){ze=Fe=null,X=!1}function Dl(e){at===null?at=[e]:at.push(e)}var o0=At.ReactCurrentBatchConfig;function An(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Vs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lu(e){var t=e._init;return t(e._payload)}function Rh(e){function t(y,m){if(e){var g=y.deletions;g===null?(y.deletions=[m],y.flags|=16):g.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Xt(y,m),y.index=0,y.sibling=null,y}function a(y,m,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags|=2,m):g):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,m,g,j){return m===null||m.tag!==6?(m=Wa(g,y.mode,j),m.return=y,m):(m=s(m,g),m.return=y,m)}function c(y,m,g,j){var _=g.type;return _===zr?d(y,m,g.props.children,j,g.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Dt&&lu(_)===m.type)?(j=s(m,g.props),j.ref=An(y,m,g),j.return=y,j):(j=yi(g.type,g.key,g.props,null,y.mode,j),j.ref=An(y,m,g),j.return=y,j)}function u(y,m,g,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Ha(g,y.mode,j),m.return=y,m):(m=s(m,g.children||[]),m.return=y,m)}function d(y,m,g,j,_){return m===null||m.tag!==7?(m=br(g,y.mode,j,_),m.return=y,m):(m=s(m,g),m.return=y,m)}function h(y,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Wa(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case As:return g=yi(m.type,m.key,m.props,null,y.mode,g),g.ref=An(y,null,m),g.return=y,g;case Mr:return m=Ha(m,y.mode,g),m.return=y,m;case Dt:var j=m._init;return h(y,j(m._payload),g)}if(Mn(m)||Cn(m))return m=br(m,y.mode,g,null),m.return=y,m;Vs(y,m)}return null}function f(y,m,g,j){var _=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:l(y,m,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case As:return g.key===_?c(y,m,g,j):null;case Mr:return g.key===_?u(y,m,g,j):null;case Dt:return _=g._init,f(y,m,_(g._payload),j)}if(Mn(g)||Cn(g))return _!==null?null:d(y,m,g,j,null);Vs(y,g)}return null}function p(y,m,g,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(g)||null,l(m,y,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case As:return y=y.get(j.key===null?g:j.key)||null,c(m,y,j,_);case Mr:return y=y.get(j.key===null?g:j.key)||null,u(m,y,j,_);case Dt:var k=j._init;return p(y,m,g,k(j._payload),_)}if(Mn(j)||Cn(j))return y=y.get(g)||null,d(m,y,j,_,null);Vs(m,j)}return null}function x(y,m,g,j){for(var _=null,k=null,C=m,S=m=0,O=null;C!==null&&S<g.length;S++){C.index>S?(O=C,C=null):O=C.sibling;var A=f(y,C,g[S],j);if(A===null){C===null&&(C=O);break}e&&C&&A.alternate===null&&t(y,C),m=a(A,m,S),k===null?_=A:k.sibling=A,k=A,C=O}if(S===g.length)return r(y,C),X&&dr(y,S),_;if(C===null){for(;S<g.length;S++)C=h(y,g[S],j),C!==null&&(m=a(C,m,S),k===null?_=C:k.sibling=C,k=C);return X&&dr(y,S),_}for(C=n(y,C);S<g.length;S++)O=p(C,y,S,g[S],j),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?S:O.key),m=a(O,m,S),k===null?_=O:k.sibling=O,k=O);return e&&C.forEach(function(N){return t(y,N)}),X&&dr(y,S),_}function v(y,m,g,j){var _=Cn(g);if(typeof _!="function")throw Error(E(150));if(g=_.call(g),g==null)throw Error(E(151));for(var k=_=null,C=m,S=m=0,O=null,A=g.next();C!==null&&!A.done;S++,A=g.next()){C.index>S?(O=C,C=null):O=C.sibling;var N=f(y,C,A.value,j);if(N===null){C===null&&(C=O);break}e&&C&&N.alternate===null&&t(y,C),m=a(N,m,S),k===null?_=N:k.sibling=N,k=N,C=O}if(A.done)return r(y,C),X&&dr(y,S),_;if(C===null){for(;!A.done;S++,A=g.next())A=h(y,A.value,j),A!==null&&(m=a(A,m,S),k===null?_=A:k.sibling=A,k=A);return X&&dr(y,S),_}for(C=n(y,C);!A.done;S++,A=g.next())A=p(C,y,S,A.value,j),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?S:A.key),m=a(A,m,S),k===null?_=A:k.sibling=A,k=A);return e&&C.forEach(function($){return t(y,$)}),X&&dr(y,S),_}function b(y,m,g,j){if(typeof g=="object"&&g!==null&&g.type===zr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case As:e:{for(var _=g.key,k=m;k!==null;){if(k.key===_){if(_=g.type,_===zr){if(k.tag===7){r(y,k.sibling),m=s(k,g.props.children),m.return=y,y=m;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Dt&&lu(_)===k.type){r(y,k.sibling),m=s(k,g.props),m.ref=An(y,k,g),m.return=y,y=m;break e}r(y,k);break}else t(y,k);k=k.sibling}g.type===zr?(m=br(g.props.children,y.mode,j,g.key),m.return=y,y=m):(j=yi(g.type,g.key,g.props,null,y.mode,j),j.ref=An(y,m,g),j.return=y,y=j)}return o(y);case Mr:e:{for(k=g.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(y,m.sibling),m=s(m,g.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=Ha(g,y.mode,j),m.return=y,y=m}return o(y);case Dt:return k=g._init,b(y,m,k(g._payload),j)}if(Mn(g))return x(y,m,g,j);if(Cn(g))return v(y,m,g,j);Vs(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,g),m.return=y,y=m):(r(y,m),m=Wa(g,y.mode,j),m.return=y,y=m),o(y)):r(y,m)}return b}var ln=Rh(!0),Ah=Rh(!1),Ai=rr(null),Ii=null,Jr=null,Ul=null;function Ml(){Ul=Jr=Ii=null}function zl(e){var t=Ai.current;Y(Ai),e._currentValue=t}function Lo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function tn(e,t){Ii=e,Ul=Jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oe=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if(Ul!==e)if(e={context:e,memoizedValue:t,next:null},Jr===null){if(Ii===null)throw Error(E(308));Jr=e,Ii.dependencies={lanes:0,firstContext:e}}else Jr=Jr.next=e;return t}var yr=null;function Fl(e){yr===null?yr=[e]:yr.push(e)}function Ih(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Fl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Pt(e,n)}function Pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ut=!1;function Bl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function St(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Pt(e,r)}return s=n.interleaved,s===null?(t.next=t,Fl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Pt(e,r)}function di(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,El(e,r)}}function cu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Li(e,t,r,n){var s=e.updateQueue;Ut=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(f=t,p=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=ne({},h,f);break e;case 2:Ut=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Sr|=o,e.lanes=o,e.memoizedState=h}}function uu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var Ss={},yt=rr(Ss),hs=rr(Ss),fs=rr(Ss);function xr(e){if(e===Ss)throw Error(E(174));return e}function ql(e,t){switch(G(fs,t),G(hs,e),G(yt,Ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:po(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=po(t,e)}Y(yt),G(yt,t)}function cn(){Y(yt),Y(hs),Y(fs)}function $h(e){xr(fs.current);var t=xr(yt.current),r=po(t,e.type);t!==r&&(G(hs,e),G(yt,r))}function Vl(e){hs.current===e&&(Y(yt),Y(hs))}var te=rr(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ma=[];function Wl(){for(var e=0;e<Ma.length;e++)Ma[e]._workInProgressVersionPrimary=null;Ma.length=0}var hi=At.ReactCurrentDispatcher,za=At.ReactCurrentBatchConfig,kr=0,re=null,de=null,pe=null,Di=!1,Jn=!1,ms=0,l0=0;function we(){throw Error(E(321))}function Hl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ct(e[r],t[r]))return!1;return!0}function Kl(e,t,r,n,s,a){if(kr=a,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hi.current=e===null||e.memoizedState===null?h0:f0,e=r(n,s),Jn){a=0;do{if(Jn=!1,ms=0,25<=a)throw Error(E(301));a+=1,pe=de=null,t.updateQueue=null,hi.current=m0,e=r(n,s)}while(Jn)}if(hi.current=Ui,t=de!==null&&de.next!==null,kr=0,pe=de=re=null,Di=!1,t)throw Error(E(300));return e}function Jl(){var e=ms!==0;return ms=0,e}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?re.memoizedState=pe=e:pe=pe.next=e,pe}function Qe(){if(de===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=pe===null?re.memoizedState:pe.next;if(t!==null)pe=t,de=e;else{if(e===null)throw Error(E(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},pe===null?re.memoizedState=pe=e:pe=pe.next=e}return pe}function ps(e,t){return typeof t=="function"?t(e):t}function Fa(e){var t=Qe(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=de,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((kr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,re.lanes|=d,Sr|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,ct(n,t.memoizedState)||(Oe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,re.lanes|=a,Sr|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ba(e){var t=Qe(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);ct(a,t.memoizedState)||(Oe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Dh(){}function Uh(e,t){var r=re,n=Qe(),s=t(),a=!ct(n.memoizedState,s);if(a&&(n.memoizedState=s,Oe=!0),n=n.queue,Gl(Fh.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||pe!==null&&pe.memoizedState.tag&1){if(r.flags|=2048,gs(9,zh.bind(null,r,n,s,t),void 0,null),ge===null)throw Error(E(349));kr&30||Mh(r,t,s)}return s}function Mh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zh(e,t,r,n){t.value=r,t.getSnapshot=n,Bh(t)&&qh(e)}function Fh(e,t,r){return r(function(){Bh(t)&&qh(e)})}function Bh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ct(e,r)}catch{return!0}}function qh(e){var t=Pt(e,1);t!==null&&lt(t,e,1,-1)}function du(e){var t=mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t.queue=e,e=e.dispatch=d0.bind(null,re,e),[t.memoizedState,e]}function gs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Vh(){return Qe().memoizedState}function fi(e,t,r,n){var s=mt();re.flags|=e,s.memoizedState=gs(1|t,r,void 0,n===void 0?null:n)}function sa(e,t,r,n){var s=Qe();n=n===void 0?null:n;var a=void 0;if(de!==null){var o=de.memoizedState;if(a=o.destroy,n!==null&&Hl(n,o.deps)){s.memoizedState=gs(t,r,a,n);return}}re.flags|=e,s.memoizedState=gs(1|t,r,a,n)}function hu(e,t){return fi(8390656,8,e,t)}function Gl(e,t){return sa(2048,8,e,t)}function Wh(e,t){return sa(4,2,e,t)}function Hh(e,t){return sa(4,4,e,t)}function Kh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jh(e,t,r){return r=r!=null?r.concat([e]):null,sa(4,4,Kh.bind(null,t,e),r)}function Ql(){}function Gh(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Qh(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Yh(e,t,r){return kr&21?(ct(r,t)||(r=rh(),re.lanes|=r,Sr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=r)}function c0(e,t){var r=H;H=r!==0&&4>r?r:4,e(!0);var n=za.transition;za.transition={};try{e(!1),t()}finally{H=r,za.transition=n}}function Xh(){return Qe().memoizedState}function u0(e,t,r){var n=Yt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zh(e))ef(t,r);else if(r=Ih(e,t,r,n),r!==null){var s=Ee();lt(r,e,n,s),tf(r,t,n)}}function d0(e,t,r){var n=Yt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zh(e))ef(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,ct(l,o)){var c=t.interleaved;c===null?(s.next=s,Fl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ih(e,t,s,n),r!==null&&(s=Ee(),lt(r,e,n,s),tf(r,t,n))}}function Zh(e){var t=e.alternate;return e===re||t!==null&&t===re}function ef(e,t){Jn=Di=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,El(e,r)}}var Ui={readContext:Ge,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},h0={readContext:Ge,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:hu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fi(4194308,4,Kh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return fi(4,2,e,t)},useMemo:function(e,t){var r=mt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=u0.bind(null,re,e),[n.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:du,useDebugValue:Ql,useDeferredValue:function(e){return mt().memoizedState=e},useTransition:function(){var e=du(!1),t=e[0];return e=c0.bind(null,e[1]),mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=re,s=mt();if(X){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),ge===null)throw Error(E(349));kr&30||Mh(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,hu(Fh.bind(null,n,a,e),[e]),n.flags|=2048,gs(9,zh.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=mt(),t=ge.identifierPrefix;if(X){var r=Nt,n=_t;r=(n&~(1<<32-ot(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ms++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=l0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f0={readContext:Ge,useCallback:Gh,useContext:Ge,useEffect:Gl,useImperativeHandle:Jh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Qh,useReducer:Fa,useRef:Vh,useState:function(){return Fa(ps)},useDebugValue:Ql,useDeferredValue:function(e){var t=Qe();return Yh(t,de.memoizedState,e)},useTransition:function(){var e=Fa(ps)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Dh,useSyncExternalStore:Uh,useId:Xh,unstable_isNewReconciler:!1},m0={readContext:Ge,useCallback:Gh,useContext:Ge,useEffect:Gl,useImperativeHandle:Jh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Qh,useReducer:Ba,useRef:Vh,useState:function(){return Ba(ps)},useDebugValue:Ql,useDeferredValue:function(e){var t=Qe();return de===null?t.memoizedState=e:Yh(t,de.memoizedState,e)},useTransition:function(){var e=Ba(ps)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Dh,useSyncExternalStore:Uh,useId:Xh,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $o(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ne({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ia={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ee(),s=Yt(e),a=St(n,s);a.payload=t,r!=null&&(a.callback=r),t=Gt(e,a,s),t!==null&&(lt(t,e,s,n),di(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ee(),s=Yt(e),a=St(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Gt(e,a,s),t!==null&&(lt(t,e,s,n),di(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ee(),n=Yt(e),s=St(r,n);s.tag=2,t!=null&&(s.callback=t),t=Gt(e,s,n),t!==null&&(lt(t,e,n,r),di(t,e,n))}};function fu(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!ls(r,n)||!ls(s,a):!0}function rf(e,t,r){var n=!1,s=er,a=t.contextType;return typeof a=="object"&&a!==null?a=Ge(a):(s=Ae(t)?_r:_e.current,n=t.contextTypes,a=(n=n!=null)?an(e,s):er),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function mu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function Do(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Bl(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ge(a):(a=Ae(t)?_r:_e.current,s.context=an(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($o(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ia.enqueueReplaceState(s,s.state,null),Li(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function un(e,t){try{var r="",n=t;do r+=Bp(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function qa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var p0=typeof WeakMap=="function"?WeakMap:Map;function nf(e,t,r){r=St(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zi||(zi=!0,Jo=n),Uo(e,t)},r}function sf(e,t,r){r=St(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Uo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Uo(e,t),typeof n!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function pu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new p0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=T0.bind(null,e,t,r),t.then(e,e))}function gu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=St(-1,1),t.tag=2,Gt(r,t,1))),r.lanes|=1),e)}var g0=At.ReactCurrentOwner,Oe=!1;function ke(e,t,r,n){t.child=e===null?Ah(t,null,r,n):ln(t,e.child,r,n)}function xu(e,t,r,n,s){r=r.render;var a=t.ref;return tn(t,s),n=Kl(e,t,r,n,a,s),r=Jl(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(X&&r&&Ll(t),t.flags|=1,ke(e,t,n,s),t.child)}function vu(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!sc(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,af(e,t,a,n,s)):(e=yi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:ls,r(o,n)&&e.ref===t.ref)return Ot(e,t,s)}return t.flags|=1,e=Xt(a,n),e.ref=t.ref,e.return=t,t.child=e}function af(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(ls(a,n)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,Ot(e,t,s)}return Mo(e,t,r,n,s)}function of(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Qr,$e),$e|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(Qr,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,G(Qr,$e),$e|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,G(Qr,$e),$e|=n;return ke(e,t,s,r),t.child}function lf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mo(e,t,r,n,s){var a=Ae(r)?_r:_e.current;return a=an(t,a),tn(t,s),r=Kl(e,t,r,n,a,s),n=Jl(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(X&&n&&Ll(t),t.flags|=1,ke(e,t,r,s),t.child)}function wu(e,t,r,n,s){if(Ae(r)){var a=!0;Pi(t)}else a=!1;if(tn(t,s),t.stateNode===null)mi(e,t),rf(t,r,n),Do(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ge(u):(u=Ae(r)?_r:_e.current,u=an(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&mu(t,o,n,u),Ut=!1;var f=t.memoizedState;o.state=f,Li(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Re.current||Ut?(typeof d=="function"&&($o(t,r,d,n),c=t.memoizedState),(l=Ut||fu(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Lh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:rt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ge(c):(c=Ae(r)?_r:_e.current,c=an(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&mu(t,o,n,c),Ut=!1,f=t.memoizedState,o.state=f,Li(t,n,o,s);var x=t.memoizedState;l!==h||f!==x||Re.current||Ut?(typeof p=="function"&&($o(t,r,p,n),x=t.memoizedState),(u=Ut||fu(t,r,u,n,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return zo(e,t,r,n,a,s)}function zo(e,t,r,n,s,a){lf(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&iu(t,r,!1),Ot(e,t,a);n=t.stateNode,g0.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ln(t,e.child,null,a),t.child=ln(t,null,l,a)):ke(e,t,l,a),t.memoizedState=n.state,s&&iu(t,r,!0),t.child}function cf(e){var t=e.stateNode;t.pendingContext?su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&su(e,t.context,!1),ql(e,t.containerInfo)}function bu(e,t,r,n,s){return on(),Dl(s),t.flags|=256,ke(e,t,r,n),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function uf(e,t,r){var n=t.pendingProps,s=te.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),G(te,s&1),e===null)return Io(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=la(o,n,0,null),e=br(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Bo(r),t.memoizedState=Fo,e):Yl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return y0(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Xt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Xt(l,a):(a=br(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Bo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Fo,n}return a=e.child,e=a.sibling,n=Xt(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yl(e,t){return t=la({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ws(e,t,r,n){return n!==null&&Dl(n),ln(t,e.child,null,r),e=Yl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y0(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=qa(Error(E(422))),Ws(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=la({mode:"visible",children:n.children},s,0,null),a=br(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ln(t,e.child,null,o),t.child.memoizedState=Bo(o),t.memoizedState=Fo,a);if(!(t.mode&1))return Ws(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(E(419)),n=qa(a,n,void 0),Ws(e,t,o,n)}if(l=(o&e.childLanes)!==0,Oe||l){if(n=ge,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Pt(e,s),lt(n,e,s,-1))}return nc(),n=qa(Error(E(421))),Ws(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=P0.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ze=Jt(s.nextSibling),Fe=t,X=!0,at=null,e!==null&&(We[He++]=_t,We[He++]=Nt,We[He++]=Nr,_t=e.id,Nt=e.overflow,Nr=t),t=Yl(t,n.children),t.flags|=4096,t)}function ju(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Lo(e.return,t,r)}function Va(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function df(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ke(e,t,n.children,r),n=te.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ju(e,r,t);else if(e.tag===19)ju(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(G(te,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&$i(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Va(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$i(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Va(t,!0,r,null,a);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Xt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function x0(e,t,r){switch(t.tag){case 3:cf(t),on();break;case 5:$h(t);break;case 1:Ae(t.type)&&Pi(t);break;case 4:ql(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;G(Ai,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(G(te,te.current&1),t.flags|=128,null):r&t.child.childLanes?uf(e,t,r):(G(te,te.current&1),e=Ot(e,t,r),e!==null?e.sibling:null);G(te,te.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return df(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(te,te.current),n)break;return null;case 22:case 23:return t.lanes=0,of(e,t,r)}return Ot(e,t,r)}var hf,qo,ff,mf;hf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qo=function(){};ff=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,xr(yt.current);var a=null;switch(r){case"input":s=uo(e,s),n=uo(e,n),a=[];break;case"select":s=ne({},s,{value:void 0}),n=ne({},n,{value:void 0}),a=[];break;case"textarea":s=mo(e,s),n=mo(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ci)}go(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ts.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ts.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Q("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};mf=function(e,t,r,n){r!==n&&(t.flags|=4)};function In(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function v0(e,t,r){var n=t.pendingProps;switch($l(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return Ae(t.type)&&Ti(),be(t),null;case 3:return n=t.stateNode,cn(),Y(Re),Y(_e),Wl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(Yo(at),at=null))),qo(e,t),be(t),null;case 5:Vl(t);var s=xr(fs.current);if(r=t.type,e!==null&&t.stateNode!=null)ff(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return be(t),null}if(e=xr(yt.current),qs(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[pt]=t,n[ds]=a,e=(t.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<Fn.length;s++)Q(Fn[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":Oc(n,a),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Q("invalid",n);break;case"textarea":Ac(n,a),Q("invalid",n)}go(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Bs(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Bs(n.textContent,l,e),s=["children",""+l]):ts.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Q("scroll",n)}switch(r){case"input":Is(n),Rc(n,a,!0);break;case"textarea":Is(n),Ic(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ci)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[pt]=t,e[ds]=n,hf(e,t,!1,!1),t.stateNode=e;e:{switch(o=yo(r,n),r){case"dialog":Q("cancel",e),Q("close",e),s=n;break;case"iframe":case"object":case"embed":Q("load",e),s=n;break;case"video":case"audio":for(s=0;s<Fn.length;s++)Q(Fn[s],e);s=n;break;case"source":Q("error",e),s=n;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=n;break;case"details":Q("toggle",e),s=n;break;case"input":Oc(e,n),s=uo(e,n),Q("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ne({},n,{value:void 0}),Q("invalid",e);break;case"textarea":Ac(e,n),s=mo(e,n),Q("invalid",e);break;default:s=n}go(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Vd(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bd(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&rs(e,c):typeof c=="number"&&rs(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ts.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Q("scroll",e):c!=null&&bl(e,a,c,o))}switch(r){case"input":Is(e),Rc(e,n,!1);break;case"textarea":Is(e),Ic(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Yr(e,!!n.multiple,a,!1):n.defaultValue!=null&&Yr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ci)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)mf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=xr(fs.current),xr(yt.current),qs(t)){if(n=t.stateNode,r=t.memoizedProps,n[pt]=t,(a=n.nodeValue!==r)&&(e=Fe,e!==null))switch(e.tag){case 3:Bs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bs(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pt]=t,t.stateNode=n}return be(t),null;case 13:if(Y(te),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(X&&ze!==null&&t.mode&1&&!(t.flags&128))Oh(),on(),t.flags|=98560,a=!1;else if(a=qs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(E(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(E(317));a[pt]=t}else on(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),a=!1}else at!==null&&(Yo(at),at=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?he===0&&(he=3):nc())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return cn(),qo(e,t),e===null&&cs(t.stateNode.containerInfo),be(t),null;case 10:return zl(t.type._context),be(t),null;case 17:return Ae(t.type)&&Ti(),be(t),null;case 19:if(Y(te),a=t.memoizedState,a===null)return be(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)In(a,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$i(e),o!==null){for(t.flags|=128,In(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return G(te,te.current&1|2),t.child}e=e.sibling}a.tail!==null&&oe()>dn&&(t.flags|=128,n=!0,In(a,!1),t.lanes=4194304)}else{if(!n)if(e=$i(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),In(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!X)return be(t),null}else 2*oe()-a.renderingStartTime>dn&&r!==1073741824&&(t.flags|=128,n=!0,In(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=oe(),t.sibling=null,r=te.current,G(te,n?r&1|2:r&1),t):(be(t),null);case 22:case 23:return rc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$e&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function w0(e,t){switch($l(t),t.tag){case 1:return Ae(t.type)&&Ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(),Y(Re),Y(_e),Wl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vl(t),null;case 13:if(Y(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(te),null;case 4:return cn(),null;case 10:return zl(t.type._context),null;case 22:case 23:return rc(),null;case 24:return null;default:return null}}var Hs=!1,je=!1,b0=typeof WeakSet=="function"?WeakSet:Set,T=null;function Gr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){se(e,t,n)}else r.current=null}function Vo(e,t,r){try{r()}catch(n){se(e,t,n)}}var _u=!1;function j0(e,t){if(Eo=ki,e=xh(),Il(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Co={focusedElem:e,selectionRange:r},ki=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,b=x.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:rt(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(j){se(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return x=_u,_u=!1,x}function Gn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Vo(t,r,a)}s=s.next}while(s!==n)}}function aa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pf(e){var t=e.alternate;t!==null&&(e.alternate=null,pf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pt],delete t[ds],delete t[Oo],delete t[s0],delete t[i0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gf(e){return e.tag===5||e.tag===3||e.tag===4}function Nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ho(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ci));else if(n!==4&&(e=e.child,e!==null))for(Ho(e,t,r),e=e.sibling;e!==null;)Ho(e,t,r),e=e.sibling}function Ko(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ko(e,t,r),e=e.sibling;e!==null;)Ko(e,t,r),e=e.sibling}var ye=null,st=!1;function It(e,t,r){for(r=r.child;r!==null;)yf(e,t,r),r=r.sibling}function yf(e,t,r){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Xi,r)}catch{}switch(r.tag){case 5:je||Gr(r,t);case 6:var n=ye,s=st;ye=null,It(e,t,r),ye=n,st=s,ye!==null&&(st?(e=ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ye.removeChild(r.stateNode));break;case 18:ye!==null&&(st?(e=ye,r=r.stateNode,e.nodeType===8?Da(e.parentNode,r):e.nodeType===1&&Da(e,r),as(e)):Da(ye,r.stateNode));break;case 4:n=ye,s=st,ye=r.stateNode.containerInfo,st=!0,It(e,t,r),ye=n,st=s;break;case 0:case 11:case 14:case 15:if(!je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Vo(r,t,o),s=s.next}while(s!==n)}It(e,t,r);break;case 1:if(!je&&(Gr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){se(r,t,l)}It(e,t,r);break;case 21:It(e,t,r);break;case 22:r.mode&1?(je=(n=je)||r.memoizedState!==null,It(e,t,r),je=n):It(e,t,r);break;default:It(e,t,r)}}function ku(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new b0),t.forEach(function(n){var s=O0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ze(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ye=l.stateNode,st=!1;break e;case 3:ye=l.stateNode.containerInfo,st=!0;break e;case 4:ye=l.stateNode.containerInfo,st=!0;break e}l=l.return}if(ye===null)throw Error(E(160));yf(a,o,s),ye=null,st=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xf(t,e),t=t.sibling}function xf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(t,e),ft(e),n&4){try{Gn(3,e,e.return),aa(3,e)}catch(v){se(e,e.return,v)}try{Gn(5,e,e.return)}catch(v){se(e,e.return,v)}}break;case 1:Ze(t,e),ft(e),n&512&&r!==null&&Gr(r,r.return);break;case 5:if(Ze(t,e),ft(e),n&512&&r!==null&&Gr(r,r.return),e.flags&32){var s=e.stateNode;try{rs(s,"")}catch(v){se(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Md(s,a),yo(l,o);var u=yo(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Vd(s,h):d==="dangerouslySetInnerHTML"?Bd(s,h):d==="children"?rs(s,h):bl(s,d,h,u)}switch(l){case"input":ho(s,a);break;case"textarea":zd(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Yr(s,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Yr(s,!!a.multiple,a.defaultValue,!0):Yr(s,!!a.multiple,a.multiple?[]:"",!1))}s[ds]=a}catch(v){se(e,e.return,v)}}break;case 6:if(Ze(t,e),ft(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){se(e,e.return,v)}}break;case 3:if(Ze(t,e),ft(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{as(t.containerInfo)}catch(v){se(e,e.return,v)}break;case 4:Ze(t,e),ft(e);break;case 13:Ze(t,e),ft(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ec=oe())),n&4&&ku(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(je=(u=je)||d,Ze(t,e),je=u):Ze(t,e),ft(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(T=e,d=e.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,p=f.child,f.tag){case 0:case 11:case 14:case 15:Gn(4,f,f.return);break;case 1:Gr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){se(n,r,v)}}break;case 5:Gr(f,f.return);break;case 22:if(f.memoizedState!==null){Eu(h);continue}}p!==null?(p.return=f,T=p):Eu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qd("display",o))}catch(v){se(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){se(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ze(t,e),ft(e),n&4&&ku(e);break;case 21:break;default:Ze(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gf(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(rs(s,""),n.flags&=-33);var a=Nu(e);Ko(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Nu(e);Ho(e,l,o);break;default:throw Error(E(161))}}catch(c){se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _0(e,t,r){T=e,vf(e)}function vf(e,t,r){for(var n=(e.mode&1)!==0;T!==null;){var s=T,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Hs;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||je;l=Hs;var u=je;if(Hs=o,(je=c)&&!u)for(T=s;T!==null;)o=T,c=o.child,o.tag===22&&o.memoizedState!==null?Cu(s):c!==null?(c.return=o,T=c):Cu(s);for(;a!==null;)T=a,vf(a),a=a.sibling;T=s,Hs=l,je=u}Su(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,T=a):Su(e)}}function Su(e){for(;T!==null;){var t=T;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||aa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!je)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:rt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&uu(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&as(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}je||t.flags&512&&Wo(t)}catch(f){se(t,t.return,f)}}if(t===e){T=null;break}if(r=t.sibling,r!==null){r.return=t.return,T=r;break}T=t.return}}function Eu(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var r=t.sibling;if(r!==null){r.return=t.return,T=r;break}T=t.return}}function Cu(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{aa(4,t)}catch(c){se(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){se(t,s,c)}}var a=t.return;try{Wo(t)}catch(c){se(t,a,c)}break;case 5:var o=t.return;try{Wo(t)}catch(c){se(t,o,c)}}}catch(c){se(t,t.return,c)}if(t===e){T=null;break}var l=t.sibling;if(l!==null){l.return=t.return,T=l;break}T=t.return}}var N0=Math.ceil,Mi=At.ReactCurrentDispatcher,Xl=At.ReactCurrentOwner,Je=At.ReactCurrentBatchConfig,V=0,ge=null,ce=null,xe=0,$e=0,Qr=rr(0),he=0,ys=null,Sr=0,oa=0,Zl=0,Qn=null,Pe=null,ec=0,dn=1/0,wt=null,zi=!1,Jo=null,Qt=null,Ks=!1,qt=null,Fi=0,Yn=0,Go=null,pi=-1,gi=0;function Ee(){return V&6?oe():pi!==-1?pi:pi=oe()}function Yt(e){return e.mode&1?V&2&&xe!==0?xe&-xe:o0.transition!==null?(gi===0&&(gi=rh()),gi):(e=H,e!==0||(e=window.event,e=e===void 0?16:ch(e.type)),e):1}function lt(e,t,r,n){if(50<Yn)throw Yn=0,Go=null,Error(E(185));_s(e,r,n),(!(V&2)||e!==ge)&&(e===ge&&(!(V&2)&&(oa|=r),he===4&&zt(e,xe)),Ie(e,n),r===1&&V===0&&!(t.mode&1)&&(dn=oe()+500,na&&nr()))}function Ie(e,t){var r=e.callbackNode;og(e,t);var n=Ni(e,e===ge?xe:0);if(n===0)r!==null&&Dc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Dc(r),t===1)e.tag===0?a0(Tu.bind(null,e)):Ch(Tu.bind(null,e)),r0(function(){!(V&6)&&nr()}),r=null;else{switch(nh(n)){case 1:r=Sl;break;case 4:r=eh;break;case 16:r=_i;break;case 536870912:r=th;break;default:r=_i}r=Ef(r,wf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wf(e,t){if(pi=-1,gi=0,V&6)throw Error(E(327));var r=e.callbackNode;if(rn()&&e.callbackNode!==r)return null;var n=Ni(e,e===ge?xe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Bi(e,n);else{t=n;var s=V;V|=2;var a=jf();(ge!==e||xe!==t)&&(wt=null,dn=oe()+500,wr(e,t));do try{E0();break}catch(l){bf(e,l)}while(!0);Ml(),Mi.current=a,V=s,ce!==null?t=0:(ge=null,xe=0,t=he)}if(t!==0){if(t===2&&(s=jo(e),s!==0&&(n=s,t=Qo(e,s))),t===1)throw r=ys,wr(e,0),zt(e,n),Ie(e,oe()),r;if(t===6)zt(e,n);else{if(s=e.current.alternate,!(n&30)&&!k0(s)&&(t=Bi(e,n),t===2&&(a=jo(e),a!==0&&(n=a,t=Qo(e,a))),t===1))throw r=ys,wr(e,0),zt(e,n),Ie(e,oe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:hr(e,Pe,wt);break;case 3:if(zt(e,n),(n&130023424)===n&&(t=ec+500-oe(),10<t)){if(Ni(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ee(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Po(hr.bind(null,e,Pe,wt),t);break}hr(e,Pe,wt);break;case 4:if(zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ot(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N0(n/1960))-n,10<n){e.timeoutHandle=Po(hr.bind(null,e,Pe,wt),n);break}hr(e,Pe,wt);break;case 5:hr(e,Pe,wt);break;default:throw Error(E(329))}}}return Ie(e,oe()),e.callbackNode===r?wf.bind(null,e):null}function Qo(e,t){var r=Qn;return e.current.memoizedState.isDehydrated&&(wr(e,t).flags|=256),e=Bi(e,t),e!==2&&(t=Pe,Pe=r,t!==null&&Yo(t)),e}function Yo(e){Pe===null?Pe=e:Pe.push.apply(Pe,e)}function k0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ct(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~Zl,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function Tu(e){if(V&6)throw Error(E(327));rn();var t=Ni(e,0);if(!(t&1))return Ie(e,oe()),null;var r=Bi(e,t);if(e.tag!==0&&r===2){var n=jo(e);n!==0&&(t=n,r=Qo(e,n))}if(r===1)throw r=ys,wr(e,0),zt(e,t),Ie(e,oe()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,Pe,wt),Ie(e,oe()),null}function tc(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(dn=oe()+500,na&&nr())}}function Er(e){qt!==null&&qt.tag===0&&!(V&6)&&rn();var t=V;V|=1;var r=Je.transition,n=H;try{if(Je.transition=null,H=1,e)return e()}finally{H=n,Je.transition=r,V=t,!(V&6)&&nr()}}function rc(){$e=Qr.current,Y(Qr)}function wr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,t0(r)),ce!==null)for(r=ce.return;r!==null;){var n=r;switch($l(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ti();break;case 3:cn(),Y(Re),Y(_e),Wl();break;case 5:Vl(n);break;case 4:cn();break;case 13:Y(te);break;case 19:Y(te);break;case 10:zl(n.type._context);break;case 22:case 23:rc()}r=r.return}if(ge=e,ce=e=Xt(e.current,null),xe=$e=t,he=0,ys=null,Zl=oa=Sr=0,Pe=Qn=null,yr!==null){for(t=0;t<yr.length;t++)if(r=yr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}yr=null}return e}function bf(e,t){do{var r=ce;try{if(Ml(),hi.current=Ui,Di){for(var n=re.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Di=!1}if(kr=0,pe=de=re=null,Jn=!1,ms=0,Xl.current=null,r===null||r.return===null){he=1,ys=t,ce=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=xe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gu(o);if(p!==null){p.flags&=-257,yu(p,o,l,a,t),p.mode&1&&pu(a,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){pu(a,u,t),nc();break e}c=Error(E(426))}}else if(X&&l.mode&1){var b=gu(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),yu(b,o,l,a,t),Dl(un(c,l));break e}}a=c=un(c,l),he!==4&&(he=2),Qn===null?Qn=[a]:Qn.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=nf(a,c,t);cu(a,y);break e;case 1:l=c;var m=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qt===null||!Qt.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=sf(a,l,t);cu(a,j);break e}}a=a.return}while(a!==null)}Nf(r)}catch(_){t=_,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(!0)}function jf(){var e=Mi.current;return Mi.current=Ui,e===null?Ui:e}function nc(){(he===0||he===3||he===2)&&(he=4),ge===null||!(Sr&268435455)&&!(oa&268435455)||zt(ge,xe)}function Bi(e,t){var r=V;V|=2;var n=jf();(ge!==e||xe!==t)&&(wt=null,wr(e,t));do try{S0();break}catch(s){bf(e,s)}while(!0);if(Ml(),V=r,Mi.current=n,ce!==null)throw Error(E(261));return ge=null,xe=0,he}function S0(){for(;ce!==null;)_f(ce)}function E0(){for(;ce!==null&&!Xp();)_f(ce)}function _f(e){var t=Sf(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?Nf(e):ce=t,Xl.current=null}function Nf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=w0(r,t),r!==null){r.flags&=32767,ce=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,ce=null;return}}else if(r=v0(r,t,$e),r!==null){ce=r;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);he===0&&(he=5)}function hr(e,t,r){var n=H,s=Je.transition;try{Je.transition=null,H=1,C0(e,t,r,n)}finally{Je.transition=s,H=n}return null}function C0(e,t,r,n){do rn();while(qt!==null);if(V&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(lg(e,a),e===ge&&(ce=ge=null,xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ks||(Ks=!0,Ef(_i,function(){return rn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Je.transition,Je.transition=null;var o=H;H=1;var l=V;V|=4,Xl.current=null,j0(e,r),xf(r,e),Jg(Co),ki=!!Eo,Co=Eo=null,e.current=r,_0(r),Zp(),V=l,H=o,Je.transition=a}else e.current=r;if(Ks&&(Ks=!1,qt=e,Fi=s),a=e.pendingLanes,a===0&&(Qt=null),rg(r.stateNode),Ie(e,oe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(zi)throw zi=!1,e=Jo,Jo=null,e;return Fi&1&&e.tag!==0&&rn(),a=e.pendingLanes,a&1?e===Go?Yn++:(Yn=0,Go=e):Yn=0,nr(),null}function rn(){if(qt!==null){var e=nh(Fi),t=Je.transition,r=H;try{if(Je.transition=null,H=16>e?16:e,qt===null)var n=!1;else{if(e=qt,qt=null,Fi=0,V&6)throw Error(E(331));var s=V;for(V|=4,T=e.current;T!==null;){var a=T,o=a.child;if(T.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Gn(8,d,a)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,p=d.return;if(pf(d),d===u){T=null;break}if(f!==null){f.return=p,T=f;break}T=p}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}T=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,T=o;else e:for(;T!==null;){if(a=T,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Gn(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,T=y;break e}T=a.return}}var m=e.current;for(T=m;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=m;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:aa(9,l)}}catch(_){se(l,l.return,_)}if(l===o){T=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,T=j;break e}T=l.return}}if(V=s,nr(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Xi,e)}catch{}n=!0}return n}finally{H=r,Je.transition=t}}return!1}function Pu(e,t,r){t=un(r,t),t=nf(e,t,1),e=Gt(e,t,1),t=Ee(),e!==null&&(_s(e,1,t),Ie(e,t))}function se(e,t,r){if(e.tag===3)Pu(e,e,r);else for(;t!==null;){if(t.tag===3){Pu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qt===null||!Qt.has(n))){e=un(r,e),e=sf(t,e,1),t=Gt(t,e,1),e=Ee(),t!==null&&(_s(t,1,e),Ie(t,e));break}}t=t.return}}function T0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ee(),e.pingedLanes|=e.suspendedLanes&r,ge===e&&(xe&r)===r&&(he===4||he===3&&(xe&130023424)===xe&&500>oe()-ec?wr(e,0):Zl|=r),Ie(e,t)}function kf(e,t){t===0&&(e.mode&1?(t=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):t=1);var r=Ee();e=Pt(e,t),e!==null&&(_s(e,t,r),Ie(e,r))}function P0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kf(e,r)}function O0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),kf(e,r)}var Sf;Sf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Re.current)Oe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Oe=!1,x0(e,t,r);Oe=!!(e.flags&131072)}else Oe=!1,X&&t.flags&1048576&&Th(t,Ri,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mi(e,t),e=t.pendingProps;var s=an(t,_e.current);tn(t,r),s=Kl(null,t,n,e,s,r);var a=Jl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(n)?(a=!0,Pi(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bl(t),s.updater=ia,t.stateNode=s,s._reactInternals=t,Do(t,n,e,r),t=zo(null,t,n,!0,a,r)):(t.tag=0,X&&a&&Ll(t),ke(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=A0(n),e=rt(n,e),s){case 0:t=Mo(null,t,n,e,r);break e;case 1:t=wu(null,t,n,e,r);break e;case 11:t=xu(null,t,n,e,r);break e;case 14:t=vu(null,t,n,rt(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),Mo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),wu(e,t,n,s,r);case 3:e:{if(cf(t),e===null)throw Error(E(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Lh(e,t),Li(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=un(Error(E(423)),t),t=bu(e,t,n,r,s);break e}else if(n!==s){s=un(Error(E(424)),t),t=bu(e,t,n,r,s);break e}else for(ze=Jt(t.stateNode.containerInfo.firstChild),Fe=t,X=!0,at=null,r=Ah(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(on(),n===s){t=Ot(e,t,r);break e}ke(e,t,n,r)}t=t.child}return t;case 5:return $h(t),e===null&&Io(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,To(n,s)?o=null:a!==null&&To(n,a)&&(t.flags|=32),lf(e,t),ke(e,t,o,r),t.child;case 6:return e===null&&Io(t),null;case 13:return uf(e,t,r);case 4:return ql(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ln(t,null,n,r):ke(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),xu(e,t,n,s,r);case 7:return ke(e,t,t.pendingProps,r),t.child;case 8:return ke(e,t,t.pendingProps.children,r),t.child;case 12:return ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,G(Ai,n._currentValue),n._currentValue=o,a!==null)if(ct(a.value,o)){if(a.children===s.children&&!Re.current){t=Ot(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=St(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Lo(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(E(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Lo(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ke(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,tn(t,r),s=Ge(s),n=n(s),t.flags|=1,ke(e,t,n,r),t.child;case 14:return n=t.type,s=rt(n,t.pendingProps),s=rt(n.type,s),vu(e,t,n,s,r);case 15:return af(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),mi(e,t),t.tag=1,Ae(n)?(e=!0,Pi(t)):e=!1,tn(t,r),rf(t,n,s),Do(t,n,s,r),zo(null,t,n,!0,e,r);case 19:return df(e,t,r);case 22:return of(e,t,r)}throw Error(E(156,t.tag))};function Ef(e,t){return Zd(e,t)}function R0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,r,n){return new R0(e,t,r,n)}function sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A0(e){if(typeof e=="function")return sc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_l)return 11;if(e===Nl)return 14}return 2}function Xt(e,t){var r=e.alternate;return r===null?(r=Ke(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yi(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")sc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zr:return br(r.children,s,a,t);case jl:o=8,s|=8;break;case ao:return e=Ke(12,r,t,s|2),e.elementType=ao,e.lanes=a,e;case oo:return e=Ke(13,r,t,s),e.elementType=oo,e.lanes=a,e;case lo:return e=Ke(19,r,t,s),e.elementType=lo,e.lanes=a,e;case $d:return la(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Id:o=10;break e;case Ld:o=9;break e;case _l:o=11;break e;case Nl:o=14;break e;case Dt:o=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Ke(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function br(e,t,r,n){return e=Ke(7,e,n,t),e.lanes=r,e}function la(e,t,r,n){return e=Ke(22,e,n,t),e.elementType=$d,e.lanes=r,e.stateNode={isHidden:!1},e}function Wa(e,t,r){return e=Ke(6,e,null,t),e.lanes=r,e}function Ha(e,t,r){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sa(0),this.expirationTimes=Sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ic(e,t,r,n,s,a,o,l,c){return e=new I0(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ke(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bl(a),e}function L0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Cf(e){if(!e)return er;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Ae(r))return Eh(e,r,t)}return t}function Tf(e,t,r,n,s,a,o,l,c){return e=ic(r,n,!0,e,s,a,o,l,c),e.context=Cf(null),r=e.current,n=Ee(),s=Yt(r),a=St(n,s),a.callback=t??null,Gt(r,a,s),e.current.lanes=s,_s(e,s,n),Ie(e,n),e}function ca(e,t,r,n){var s=t.current,a=Ee(),o=Yt(s);return r=Cf(r),t.context===null?t.context=r:t.pendingContext=r,t=St(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gt(s,t,o),e!==null&&(lt(e,s,o,a),di(e,s,o)),o}function qi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ou(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ac(e,t){Ou(e,t),(e=e.alternate)&&Ou(e,t)}function $0(){return null}var Pf=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}ua.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));ca(e,t,null,null)};ua.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Er(function(){ca(null,e,null,null)}),t[Tt]=null}};function ua(e){this._internalRoot=e}ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=ah();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&t!==0&&t<Mt[r].priority;r++);Mt.splice(r,0,e),r===0&&lh(e)}};function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ru(){}function D0(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=qi(o);a.call(u)}}var o=Tf(t,n,e,0,null,!1,!1,"",Ru);return e._reactRootContainer=o,e[Tt]=o.current,cs(e.nodeType===8?e.parentNode:e),Er(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=qi(c);l.call(u)}}var c=ic(e,0,!1,null,null,!1,!1,"",Ru);return e._reactRootContainer=c,e[Tt]=c.current,cs(e.nodeType===8?e.parentNode:e),Er(function(){ca(t,c,r,n)}),c}function ha(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=qi(o);l.call(c)}}ca(t,o,e,s)}else o=D0(r,t,e,s,n);return qi(o)}sh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zn(t.pendingLanes);r!==0&&(El(t,r|1),Ie(t,oe()),!(V&6)&&(dn=oe()+500,nr()))}break;case 13:Er(function(){var n=Pt(e,1);if(n!==null){var s=Ee();lt(n,e,1,s)}}),ac(e,1)}};Cl=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var r=Ee();lt(t,e,134217728,r)}ac(e,134217728)}};ih=function(e){if(e.tag===13){var t=Yt(e),r=Pt(e,t);if(r!==null){var n=Ee();lt(r,e,t,n)}ac(e,t)}};ah=function(){return H};oh=function(e,t){var r=H;try{return H=e,t()}finally{H=r}};vo=function(e,t,r){switch(t){case"input":if(ho(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ra(n);if(!s)throw Error(E(90));Ud(n),ho(n,s)}}}break;case"textarea":zd(e,r);break;case"select":t=r.value,t!=null&&Yr(e,!!r.multiple,t,!1)}};Kd=tc;Jd=Er;var U0={usingClientEntryPoint:!1,Events:[ks,Vr,ra,Wd,Hd,tc]},Ln={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M0={bundleType:Ln.bundleType,version:Ln.version,rendererPackageName:Ln.rendererPackageName,rendererConfig:Ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yd(e),e===null?null:e.stateNode},findFiberByHostInstance:Ln.findFiberByHostInstance||$0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Js.isDisabled&&Js.supportsFiber)try{Xi=Js.inject(M0),gt=Js}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U0;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(t))throw Error(E(200));return L0(e,t,null,r)};qe.createRoot=function(e,t){if(!lc(e))throw Error(E(299));var r=!1,n="",s=Pf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ic(e,1,!1,null,null,r,!1,n,s),e[Tt]=t.current,cs(e.nodeType===8?e.parentNode:e),new oc(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Yd(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Er(e)};qe.hydrate=function(e,t,r){if(!da(t))throw Error(E(200));return ha(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!lc(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=Pf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Tf(t,null,e,1,r??null,s,!1,a,o),e[Tt]=t.current,cs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ua(t)};qe.render=function(e,t,r){if(!da(t))throw Error(E(200));return ha(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!da(e))throw Error(E(40));return e._reactRootContainer?(Er(function(){ha(null,null,e,!1,function(){e._reactRootContainer=null,e[Tt]=null})}),!0):!1};qe.unstable_batchedUpdates=tc;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!da(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return ha(e,t,r,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function Of(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Of)}catch(e){console.error(e)}}Of(),Pd.exports=qe;var z0=Pd.exports,Rf,Au=z0;Rf=Au.createRoot,Au.hydrateRoot;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Iu="popstate";function F0(e={}){function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return Xo("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:xs(s)}return q0(t,r,null,e)}function Z(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ye(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B0(){return Math.random().toString(36).substring(2,10)}function Lu(e,t){return{usr:e.state,key:e.key,idx:t}}function Xo(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vn(t):t,state:r,key:t&&t.key||n||B0()}}function xs({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function q0(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){l="POP";let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:y})}function f(b,y){l="PUSH";let m=Xo(v.location,b,y);u=d()+1;let g=Lu(m,u),j=v.createHref(m);try{o.pushState(g,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}a&&c&&c({action:l,location:v.location,delta:1})}function p(b,y){l="REPLACE";let m=Xo(v.location,b,y);u=d();let g=Lu(m,u),j=v.createHref(m);o.replaceState(g,"",j),a&&c&&c({action:l,location:v.location,delta:0})}function x(b){return V0(b)}let v={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Iu,h),c=b,()=>{s.removeEventListener(Iu,h),c=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return o.go(b)}};return v}function V0(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Z(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:xs(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Af(e,t,r="/"){return W0(e,t,r,!1)}function W0(e,t,r,n){let s=typeof t=="string"?vn(t):t,a=Rt(s.pathname||"/",r);if(a==null)return null;let o=If(e);H0(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ny(a);l=ty(o[c],u,n)}return l}function If(e,t=[],r=[],n="",s=!1){let a=(o,l,c=s,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Z(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=Et([n,d.relativePath]),f=r.concat(d);o.children&&o.children.length>0&&(Z(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),If(o.children,t,f,h,c)),!(o.path==null&&!o.index)&&t.push({path:h,score:Z0(h,o.index),routesMeta:f})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let u of Lf(o.path))a(o,l,!0,u)}),t}function Lf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Lf(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function H0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ey(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var K0=/^:[\w-]+$/,J0=3,G0=2,Q0=1,Y0=10,X0=-2,$u=e=>e==="*";function Z0(e,t){let r=e.split("/"),n=r.length;return r.some($u)&&(n+=X0),t&&(n+=G0),r.filter(s=>!$u(s)).reduce((s,a)=>s+(K0.test(a)?J0:a===""?Q0:Y0),n)}function ey(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function ty(e,t,r=!1){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Vi({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Vi({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Et([a,h.pathname]),pathnameBase:oy(Et([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Et([a,h.pathnameBase]))}return o}function Vi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ry(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let x=l[f]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const p=l[f];return h&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function ry(e,t=!1,r=!0){Ye(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function ny(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ye(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Rt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function sy(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?vn(e):e;return{pathname:r?r.startsWith("/")?r:iy(r,t):t,search:ly(n),hash:cy(s)}}function iy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ka(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ay(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cc(e){let t=ay(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function uc(e,t,r,n=!1){let s;typeof e=="string"?s=vn(e):(s={...e},Z(!s.pathname||!s.pathname.includes("?"),Ka("?","pathname","search",s)),Z(!s.pathname||!s.pathname.includes("#"),Ka("#","pathname","hash",s)),Z(!s.search||!s.search.includes("#"),Ka("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=sy(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Et=e=>e.join("/").replace(/\/\/+/g,"/"),oy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ly=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $f=["POST","PUT","PATCH","DELETE"];new Set($f);var dy=["GET",...$f];new Set(dy);var wn=w.createContext(null);wn.displayName="DataRouter";var fa=w.createContext(null);fa.displayName="DataRouterState";w.createContext(!1);var Df=w.createContext({isTransitioning:!1});Df.displayName="ViewTransition";var hy=w.createContext(new Map);hy.displayName="Fetchers";var fy=w.createContext(null);fy.displayName="Await";var dt=w.createContext(null);dt.displayName="Navigation";var Es=w.createContext(null);Es.displayName="Location";var ht=w.createContext({outlet:null,matches:[],isDataRoute:!1});ht.displayName="Route";var dc=w.createContext(null);dc.displayName="RouteError";function my(e,{relative:t}={}){Z(bn(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(dt),{hash:s,pathname:a,search:o}=Cs(e,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:Et([r,a])),n.createHref({pathname:l,search:o,hash:s})}function bn(){return w.useContext(Es)!=null}function xt(){return Z(bn(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Es).location}var Uf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mf(e){w.useContext(dt).static||w.useLayoutEffect(e)}function vt(){let{isDataRoute:e}=w.useContext(ht);return e?Ey():py()}function py(){Z(bn(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(wn),{basename:t,navigator:r}=w.useContext(dt),{matches:n}=w.useContext(ht),{pathname:s}=xt(),a=JSON.stringify(cc(n)),o=w.useRef(!1);return Mf(()=>{o.current=!0}),w.useCallback((c,u={})=>{if(Ye(o.current,Uf),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=uc(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Et([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,s,e])}w.createContext(null);function zf(){let{matches:e}=w.useContext(ht),t=e[e.length-1];return t?t.params:{}}function Cs(e,{relative:t}={}){let{matches:r}=w.useContext(ht),{pathname:n}=xt(),s=JSON.stringify(cc(r));return w.useMemo(()=>uc(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function gy(e,t){return Ff(e,t)}function Ff(e,t,r,n,s){var m;Z(bn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(dt),{matches:o}=w.useContext(ht),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let g=h&&h.path||"";Bf(u,!h||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=xt(),p;if(t){let g=typeof t=="string"?vn(t):t;Z(d==="/"||((m=g.pathname)==null?void 0:m.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${g.pathname}" was given in the \`location\` prop.`),p=g}else p=f;let x=p.pathname||"/",v=x;if(d!=="/"){let g=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=Af(e,{pathname:v});Ye(h||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ye(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=by(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:Et([d,a.encodeLocation?a.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:Et([d,a.encodeLocation?a.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),o,r,n,s);return t&&y?w.createElement(Es.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function yy(){let e=Sy(),t=uy(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,o)}var xy=w.createElement(yy,null),vy=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(ht.Provider,{value:this.props.routeContext},w.createElement(dc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wy({routeContext:e,match:t,children:r}){let n=w.useContext(wn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(ht.Provider,{value:e},r)}function by(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=r==null?void 0:r.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Z(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=r,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,h)=>{let f,p=!1,x=null,v=null;r&&(f=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||xy,l&&(c<0&&h===0?(Bf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):c===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,h+1)),y=()=>{let m;return f?m=x:p?m=v:d.route.Component?m=w.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=u,w.createElement(wy,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:m})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(vy,{location:r.location,revalidation:r.revalidation,component:x,error:f,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):y()},null)}function hc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jy(e){let t=w.useContext(wn);return Z(t,hc(e)),t}function _y(e){let t=w.useContext(fa);return Z(t,hc(e)),t}function Ny(e){let t=w.useContext(ht);return Z(t,hc(e)),t}function fc(e){let t=Ny(e),r=t.matches[t.matches.length-1];return Z(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ky(){return fc("useRouteId")}function Sy(){var n;let e=w.useContext(dc),t=_y("useRouteError"),r=fc("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Ey(){let{router:e}=jy("useNavigate"),t=fc("useNavigate"),r=w.useRef(!1);return Mf(()=>{r.current=!0}),w.useCallback(async(s,a={})=>{Ye(r.current,Uf),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Du={};function Bf(e,t,r){!t&&!Du[e]&&(Du[e]=!0,Ye(!1,r))}w.memo(Cy);function Cy({routes:e,future:t,state:r,unstable_onError:n}){return Ff(e,void 0,r,n,t)}function Ty({to:e,replace:t,state:r,relative:n}){Z(bn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(dt);Ye(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(ht),{pathname:o}=xt(),l=vt(),c=uc(e,cc(a),o,n==="path"),u=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function ae(e){Z(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Py({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:a=!1}){Z(!bn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof r=="string"&&(r=vn(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,p=w.useMemo(()=>{let x=Rt(c,o);return x==null?null:{location:{pathname:x,search:u,hash:d,state:h,key:f},navigationType:n}},[o,c,u,d,h,f,n]);return Ye(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement(dt.Provider,{value:l},w.createElement(Es.Provider,{children:t,value:p}))}function Oy({children:e,location:t}){return gy(Zo(e),t)}function Zo(e,t=[]){let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let a=[...t,s];if(n.type===w.Fragment){r.push.apply(r,Zo(n.props.children,a));return}Z(n.type===ae,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Z(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Zo(n.props.children,a)),r.push(o)}),r}var xi="get",vi="application/x-www-form-urlencoded";function ma(e){return e!=null&&typeof e.tagName=="string"}function Ry(e){return ma(e)&&e.tagName.toLowerCase()==="button"}function Ay(e){return ma(e)&&e.tagName.toLowerCase()==="form"}function Iy(e){return ma(e)&&e.tagName.toLowerCase()==="input"}function Ly(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $y(e,t){return e.button===0&&(!t||t==="_self")&&!Ly(e)}function el(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Dy(e,t){let r=el(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}var Gs=null;function Uy(){if(Gs===null)try{new FormData(document.createElement("form"),0),Gs=!1}catch{Gs=!0}return Gs}var My=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ja(e){return e!=null&&!My.has(e)?(Ye(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vi}"`),null):e}function zy(e,t){let r,n,s,a,o;if(Ay(e)){let l=e.getAttribute("action");n=l?Rt(l,t):null,r=e.getAttribute("method")||xi,s=Ja(e.getAttribute("enctype"))||vi,a=new FormData(e)}else if(Ry(e)||Iy(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Rt(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||xi,s=Ja(e.getAttribute("formenctype"))||Ja(l.getAttribute("enctype"))||vi,a=new FormData(l,e),!Uy()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else u&&a.append(u,h)}}else{if(ma(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=xi,n=null,s=vi,o=e}return a&&s==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fy(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Rt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function By(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qy(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Vy(e,t,r){let n=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let o=await By(a,r);return o.links?o.links():[]}return[]}));return Jy(n.flat(1).filter(qy).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Uu(e,t,r,n,s,a){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Wy(e,t,{includeHydrateFallback:r}={}){return Hy(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Hy(e){return[...new Set(e)]}function Ky(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Jy(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let a=JSON.stringify(Ky(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function qf(){let e=w.useContext(wn);return mc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Gy(){let e=w.useContext(fa);return mc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var pc=w.createContext(void 0);pc.displayName="FrameworkContext";function Vf(){let e=w.useContext(pc);return mc(e,"You must render this element inside a <HydratedRouter> element"),e}function Qy(e,t){let r=w.useContext(pc),[n,s]=w.useState(!1),[a,o]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=y=>{y.forEach(m=>{o(m.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),w.useEffect(()=>{if(n){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[n]);let p=()=>{s(!0)},x=()=>{s(!1),o(!1)};return r?e!=="intent"?[a,f,{}]:[a,f,{onFocus:$n(l,p),onBlur:$n(c,x),onMouseEnter:$n(u,p),onMouseLeave:$n(d,x),onTouchStart:$n(h,p)}]:[!1,f,{}]}function $n(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Yy({page:e,...t}){let{router:r}=qf(),n=w.useMemo(()=>Af(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(Zy,{page:e,matches:n,...t}):null}function Xy(e){let{manifest:t,routeModules:r}=Vf(),[n,s]=w.useState([]);return w.useEffect(()=>{let a=!1;return Vy(e,t,r).then(o=>{a||s(o)}),()=>{a=!0}},[e,t,r]),n}function Zy({page:e,matches:t,...r}){let n=xt(),{manifest:s,routeModules:a}=Vf(),{basename:o}=qf(),{loaderData:l,matches:c}=Gy(),u=w.useMemo(()=>Uu(e,t,c,s,n,"data"),[e,t,c,s,n]),d=w.useMemo(()=>Uu(e,t,c,s,n,"assets"),[e,t,c,s,n]),h=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,v=!1;if(t.forEach(y=>{var g;let m=s.routes[y.route.id];!m||!m.hasLoader||(!u.some(j=>j.route.id===y.route.id)&&y.route.id in l&&((g=a[y.route.id])!=null&&g.shouldRevalidate)||m.hasClientLoader?v=!0:x.add(y.route.id))}),x.size===0)return[];let b=Fy(e,o,"data");return v&&x.size>0&&b.searchParams.set("_routes",t.filter(y=>x.has(y.route.id)).map(y=>y.route.id).join(",")),[b.pathname+b.search]},[o,l,n,s,u,t,e,a]),f=w.useMemo(()=>Wy(d,s),[d,s]),p=Xy(d);return w.createElement(w.Fragment,null,h.map(x=>w.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),f.map(x=>w.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),p.map(({key:x,link:v})=>w.createElement("link",{key:x,nonce:r.nonce,...v})))}function ex(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Wf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wf&&(window.__reactRouterVersion="7.9.5")}catch{}function tx({basename:e,children:t,window:r}){let n=w.useRef();n.current==null&&(n.current=F0({window:r,v5Compat:!0}));let s=n.current,[a,o]=w.useState({action:s.action,location:s.location}),l=w.useCallback(c=>{w.startTransition(()=>o(c))},[o]);return w.useLayoutEffect(()=>s.listen(l),[s,l]),w.createElement(Py,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var Hf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},p){let{basename:x}=w.useContext(dt),v=typeof u=="string"&&Hf.test(u),b,y=!1;if(typeof u=="string"&&v&&(b=u,Wf))try{let O=new URL(window.location.href),A=u.startsWith("//")?new URL(O.protocol+u):new URL(u),N=Rt(A.pathname,x);A.origin===O.origin&&N!=null?u=N+A.search+A.hash:y=!0}catch{Ye(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=my(u,{relative:s}),[g,j,_]=Qy(n,f),k=ix(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function C(O){t&&t(O),O.defaultPrevented||k(O)}let S=w.createElement("a",{...f,..._,href:b||m,onClick:y||a?t:C,ref:ex(p,j),target:c,"data-discover":!v&&r==="render"?"true":void 0});return g&&!v?w.createElement(w.Fragment,null,S,w.createElement(Yy,{page:m})):S});M.displayName="Link";var rx=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:o,viewTransition:l,children:c,...u},d){let h=Cs(o,{relative:u.relative}),f=xt(),p=w.useContext(fa),{navigator:x,basename:v}=w.useContext(dt),b=p!=null&&dx(h)&&l===!0,y=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,m=f.pathname,g=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(m=m.toLowerCase(),g=g?g.toLowerCase():null,y=y.toLowerCase()),g&&v&&(g=Rt(g,v)||g);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=m===y||!s&&m.startsWith(y)&&m.charAt(j)==="/",k=g!=null&&(g===y||!s&&g.startsWith(y)&&g.charAt(y.length)==="/"),C={isActive:_,isPending:k,isTransitioning:b},S=_?t:void 0,O;typeof n=="function"?O=n(C):O=[n,_?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let A=typeof a=="function"?a(C):a;return w.createElement(M,{...u,"aria-current":S,className:O,ref:d,style:A,to:o,viewTransition:l},typeof c=="function"?c(C):c)});rx.displayName="NavLink";var nx=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:a,method:o=xi,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},p)=>{let x=cx(),v=ux(l,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&Hf.test(l),m=g=>{if(c&&c(g),g.defaultPrevented)return;g.preventDefault();let j=g.nativeEvent.submitter,_=(j==null?void 0:j.getAttribute("formmethod"))||o;x(j||g.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:s,state:a,relative:u,preventScrollReset:d,viewTransition:h})};return w.createElement("form",{ref:p,method:b,action:v,onSubmit:n?c:m,...f,"data-discover":!y&&e==="render"?"true":void 0})});nx.displayName="Form";function sx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kf(e){let t=w.useContext(wn);return Z(t,sx(e)),t}function ix(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:o}={}){let l=vt(),c=xt(),u=Cs(e,{relative:a});return w.useCallback(d=>{if($y(d,t)){d.preventDefault();let h=r!==void 0?r:xs(c)===xs(u);l(e,{replace:h,state:n,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,n,t,e,s,a,o])}function ax(e){Ye(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(el(e)),r=w.useRef(!1),n=xt(),s=w.useMemo(()=>Dy(n.search,r.current?null:t.current),[n.search]),a=vt(),o=w.useCallback((l,c)=>{const u=el(typeof l=="function"?l(new URLSearchParams(s)):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}var ox=0,lx=()=>`__${String(++ox)}__`;function cx(){let{router:e}=Kf("useSubmit"),{basename:t}=w.useContext(dt),r=ky();return w.useCallback(async(n,s={})=>{let{action:a,method:o,encType:l,formData:c,body:u}=zy(n,t);if(s.navigate===!1){let d=s.fetcherKey||lx();await e.fetch(d,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function ux(e,{relative:t}={}){let{basename:r}=w.useContext(dt),n=w.useContext(ht);Z(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...Cs(e||".",{relative:t})},o=xt();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Et([r,a.pathname])),xs(a)}function dx(e,{relative:t}={}){let r=w.useContext(Df);Z(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Kf("useViewTransitionState"),s=Cs(e,{relative:t});if(!r.isTransitioning)return!1;let a=Rt(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Rt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Vi(s.pathname,o)!=null||Vi(s.pathname,a)!=null}const hx=w.createContext(void 0),fx=({children:e})=>{const[t,r]=w.useState([]),n=w.useCallback((l,c)=>{const u=Math.random().toString(36).substring(7);r(d=>[...d,{id:u,message:l,type:c}]),setTimeout(()=>{r(d=>d.filter(h=>h.id!==u))},3e3)},[]),s=w.useCallback(l=>n(l,"success"),[n]),a=w.useCallback(l=>n(l,"error"),[n]),o=w.useCallback(l=>n(l,"info"),[n]);return i.jsxs(hx.Provider,{value:{success:s,error:a,info:o},children:[e,i.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(l=>i.jsx("div",{className:`px-6 py-3 rounded-lg shadow-lg text-white font-medium animate-slide-in ${l.type==="success"?"bg-green-500":l.type==="error"?"bg-red-500":"bg-blue-500"}`,children:l.message},l.id))})]})};var tl=function(e,t){return tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},tl(e,t)};function Jf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wi=function(){return Wi=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Wi.apply(this,arguments)};function jn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Gf(e,t,r,n){var s=arguments.length,a=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,r,a):o(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function Qf(e,t){return function(r,n){t(r,n,e)}}function Yf(e,t,r,n,s,a){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,p=r.length-1;p>=0;p--){var x={};for(var v in n)x[v]=v==="access"?{}:n[v];for(var v in n.access)x.access[v]=n.access[v];x.addInitializer=function(y){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(y||null))};var b=(0,r[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],x);if(l==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=o(b.get))&&(d.get=h),(h=o(b.set))&&(d.set=h),(h=o(b.init))&&s.unshift(h)}else(h=o(b))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function Xf(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Zf(e){return typeof e=="symbol"?e:"".concat(e)}function em(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function tm(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function R(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function rm(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var pa=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function nm(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pa(t,e,r)}function Hi(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gc(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,a=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)a.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function sm(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gc(arguments[t]));return e}function im(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n}function am(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function hn(e){return this instanceof hn?(this.v=e,this):new hn(e)}function om(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(x){return Promise.resolve(x).then(p,h)}}function l(p,x){n[p]&&(s[p]=function(v){return new Promise(function(b,y){a.push([p,v,b,y])>1||c(p,v)})},x&&(s[p]=x(s[p])))}function c(p,x){try{u(n[p](x))}catch(v){f(a[0][3],v)}}function u(p){p.value instanceof hn?Promise.resolve(p.value.v).then(d,h):f(a[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function f(p,x){p(x),a.shift(),a.length&&c(a[0][0],a[0][1])}}function lm(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,a){t[s]=e[s]?function(o){return(r=!r)?{value:hn(e[s](o)),done:!1}:a?a(o):o}:a}}function cm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Hi=="function"?Hi(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(l,c){o=e[a](o),s(l,c,o.done,o.value)})}}function s(a,o,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},o)}}function um(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var mx=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},rl=function(e){return rl=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},rl(e)};function dm(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=rl(e),n=0;n<r.length;n++)r[n]!=="default"&&pa(t,e,r[n]);return mx(t,e),t}function hm(e){return e&&e.__esModule?e:{default:e}}function fm(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function mm(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function pm(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function gm(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var px=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function ym(e){function t(a){e.error=e.hasError?new px(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function xm(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,a,o){return n?t?".jsx":".js":s&&(!a||!o)?r:s+a+"."+o.toLowerCase()+"js"}):e}const gx={__extends:Jf,__assign:Wi,__rest:jn,__decorate:Gf,__param:Qf,__esDecorate:Yf,__runInitializers:Xf,__propKey:Zf,__setFunctionName:em,__metadata:tm,__awaiter:R,__generator:rm,__createBinding:pa,__exportStar:nm,__values:Hi,__read:gc,__spread:sm,__spreadArrays:im,__spreadArray:am,__await:hn,__asyncGenerator:om,__asyncDelegator:lm,__asyncValues:cm,__makeTemplateObject:um,__importStar:dm,__importDefault:hm,__classPrivateFieldGet:fm,__classPrivateFieldSet:mm,__classPrivateFieldIn:pm,__addDisposableResource:gm,__disposeResources:ym,__rewriteRelativeImportExtension:xm},yx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:gm,get __assign(){return Wi},__asyncDelegator:lm,__asyncGenerator:om,__asyncValues:cm,__await:hn,__awaiter:R,__classPrivateFieldGet:fm,__classPrivateFieldIn:pm,__classPrivateFieldSet:mm,__createBinding:pa,__decorate:Gf,__disposeResources:ym,__esDecorate:Yf,__exportStar:nm,__extends:Jf,__generator:rm,__importDefault:hm,__importStar:dm,__makeTemplateObject:um,__metadata:tm,__param:Qf,__propKey:Zf,__read:gc,__rest:jn,__rewriteRelativeImportExtension:xm,__runInitializers:Xf,__setFunctionName:em,__spread:sm,__spreadArray:am,__spreadArrays:im,__values:Hi,default:gx},Symbol.toStringTag,{value:"Module"})),xx="modulepreload",vx=function(e){return"/"+e},Mu={},_n=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=vx(c),c in Mu)return;Mu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":xx,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},wx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_n(async()=>{const{default:n}=await Promise.resolve().then(()=>Pr);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class yc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class zu extends yc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Fu extends yc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Bu extends yc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nl||(nl={}));class bx{constructor(t,{headers:r={},customFetch:n,region:s=nl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=wx(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return R(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:a,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)):f=l;const p=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:f,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new zu(y)}),x=p.headers.get("x-relay-error");if(x&&x==="true")throw new Fu(p);if(!p.ok)throw new Bu(p);let v=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield p.json():v==="application/octet-stream"||v==="application/pdf"?b=yield p.blob():v==="text/event-stream"?b=p:v==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new zu(a)}:{data:null,error:a,response:a instanceof Bu||a instanceof Fu?a.context:void 0}}})}}var Se={};const Nn=xd(yx);var Qs={},Ys={},Xs={},Zs={},ei={},jx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fn=jx();const _x=fn.fetch,vm=fn.fetch.bind(fn),wm=fn.Headers,Nx=fn.Request,kx=fn.Response,Pr=Object.freeze(Object.defineProperty({__proto__:null,Headers:wm,Request:Nx,Response:kx,default:vm,fetch:_x},Symbol.toStringTag,{value:"Module"})),Sx=xd(Pr);var ti={},qu;function bm(){if(qu)return ti;qu=1,Object.defineProperty(ti,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ti.default=e,ti}var Vu;function jm(){if(Vu)return ei;Vu=1,Object.defineProperty(ei,"__esModule",{value:!0});const e=Nn,t=e.__importDefault(Sx),r=e.__importDefault(bm());class n{constructor(a){var o,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,f,p;let x=null,v=null,b=null,y=u.status,m=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?v=k:v=JSON.parse(k))}const j=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");j&&_&&_.length>1&&(b=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(x={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,b=null,y=406,m="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const j=await u.text();try{x=JSON.parse(j),Array.isArray(x)&&u.status===404&&(v=[],x=null,y=200,m="OK")}catch{u.status===404&&j===""?(y=204,m="No Content"):x={message:j}}if(x&&this.isMaybeSingle&&(!((p=x==null?void 0:x.details)===null||p===void 0)&&p.includes("0 rows"))&&(x=null,y=200,m="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:v,count:b,status:y,statusText:m}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,h,f;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}}return ei.default=n,ei}var Wu;function _m(){if(Wu)return Zs;Wu=1,Object.defineProperty(Zs,"__esModule",{value:!0});const t=Nn.__importDefault(jm());class r extends t.default{select(s){let a=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Zs.default=r,Zs}var Hu;function xc(){if(Hu)return Xs;Hu=1,Object.defineProperty(Xs,"__esModule",{value:!0});const t=Nn.__importDefault(_m()),r=new RegExp("[,()]");class n extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${u}fts${d}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}}return Xs.default=n,Xs}var Ku;function Nm(){if(Ku)return Ys;Ku=1,Object.defineProperty(Ys,"__esModule",{value:!0});const t=Nn.__importDefault(xc());class r{constructor(s,{headers:a={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(s,a){const{head:o=!1,count:l}=a??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:o=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var a;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Ys.default=r,Ys}var Ju;function Ex(){if(Ju)return Qs;Ju=1,Object.defineProperty(Qs,"__esModule",{value:!0});const e=Nn,t=e.__importDefault(Nm()),r=e.__importDefault(xc());class n{constructor(a,{headers:o={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${a}`);let p;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{f.searchParams.append(v,b)})):(h="POST",p=o);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:x,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Qs.default=n,Qs}Object.defineProperty(Se,"__esModule",{value:!0});var km=Se.PostgrestError=Lm=Se.PostgrestBuilder=Am=Se.PostgrestTransformBuilder=Om=Se.PostgrestFilterBuilder=Tm=Se.PostgrestQueryBuilder=Em=Se.PostgrestClient=void 0;const kn=Nn,Sm=kn.__importDefault(Ex());var Em=Se.PostgrestClient=Sm.default;const Cm=kn.__importDefault(Nm());var Tm=Se.PostgrestQueryBuilder=Cm.default;const Pm=kn.__importDefault(xc());var Om=Se.PostgrestFilterBuilder=Pm.default;const Rm=kn.__importDefault(_m());var Am=Se.PostgrestTransformBuilder=Rm.default;const Im=kn.__importDefault(jm());var Lm=Se.PostgrestBuilder=Im.default;const $m=kn.__importDefault(bm());km=Se.PostgrestError=$m.default;var Dm=Se.default={PostgrestClient:Sm.default,PostgrestQueryBuilder:Cm.default,PostgrestFilterBuilder:Pm.default,PostgrestTransformBuilder:Rm.default,PostgrestBuilder:Im.default,PostgrestError:$m.default};const Cx=mp({__proto__:null,get PostgrestBuilder(){return Lm},get PostgrestClient(){return Em},get PostgrestError(){return km},get PostgrestFilterBuilder(){return Om},get PostgrestQueryBuilder(){return Tm},get PostgrestTransformBuilder(){return Am},default:Dm},[Se]),{PostgrestClient:Tx,PostgrestQueryBuilder:Gb,PostgrestFilterBuilder:Qb,PostgrestTransformBuilder:Yb,PostgrestBuilder:Xb,PostgrestError:Zb}=Dm||Cx;class Px{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ox="2.78.0",Rx=`realtime-js/${Ox}`,Ax="1.0.0",sl=1e4,Ix=1e3,Lx=100;var Xn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xn||(Xn={}));var ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ue||(ue={}));var it;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(it||(it={}));var il;(function(e){e.websocket="websocket"})(il||(il={}));var mr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(mr||(mr={}));class $x{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Um{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(J||(J={}));const Gu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=Dx(o,e,t,s),a),{}):{}},Dx=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?Mm(a,o):al(o)},Mm=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Fx(t,r)}switch(e){case J.bool:return Ux(t);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Mx(t);case J.json:case J.jsonb:return zx(t);case J.timestamp:return Bx(t);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return al(t);default:return al(t)}},al=e=>e,Ux=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Mx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Fx=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Mm(t,l))}return e},Bx=e=>typeof e=="string"?e.replace(" ","T"):e,zm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ga{constructor(t,r,n={},s=sl){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Qu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Qu||(Qu={}));class Zn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zn.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Zn.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zn.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),x=d.filter(b=>p.indexOf(b.presence_ref)<0),v=h.filter(b=>f.indexOf(b.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Yu||(Yu={}));var es;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(es||(es={}));var bt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bt||(bt={}));class vc{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ga(this,it.join,this.params,this.timeout),this.rejoinTimer=new Um(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Zn(this),this.broadcastEndpointURL=zm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[es.PRESENCE]&&this.bindings[es.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(bt.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(bt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(bt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,y=[];for(let m=0;m<b;m++){const g=v[m],{filter:{event:j,schema:_,table:k,filter:C}}=g,S=p&&p[m];if(S&&S.event===j&&S.schema===_&&S.table===k&&S.filter===C)y.push(Object.assign(Object.assign({},g),{id:S.id}));else{this.unsubscribe(),this.state=ue.errored,t==null||t(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(bt.SUBSCRIBED);return}}).receive("error",p=>{this.state=ue.errored,t==null||t(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ue.joined&&t===es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ga(this,it.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ga(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Lx){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=it;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,v,b;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(v=p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var x,v,b,y,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(m=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return j==="*"||j===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:v,table:b,commit_timestamp:y,type:m,errors:g}=x;f=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:y,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(x))}p.callback(f,n)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&vc.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(it.close,{},t)}_onError(t){this._on(it.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gu(t.columns,t.old_record)),r}}const Qa=()=>{},ri={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qx=[1e3,2e3,5e3,1e4],Vx=1e4,Wx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hx{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sl,this.transport=null,this.heartbeatIntervalMs=ri.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qa,this.ref=0,this.reconnectTimer=null,this.logger=Qa,this.conn=null,this.sendBuffer=[],this.serializer=new $x,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>_n(async()=>{const{default:l}=await Promise.resolve().then(()=>Pr);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${il.websocket}`,this.httpEndpoint=zm(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Px.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ax}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xn.connecting:return mr.Connecting;case Xn.open:return mr.Open;case Xn.closing:return mr.Closing;default:return mr.Closed}}isConnected(){return this.connectionState()===mr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new vc(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Ix,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ri.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(it.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Wx],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Rx};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(it.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Um(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ri.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:sl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ri.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Qa,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>qx[h-1]||Vx,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class wc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ee(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Kx extends wc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ol extends wc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const bc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_n(async()=>{const{default:n}=await Promise.resolve().then(()=>Pr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Jx=()=>R(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _n(()=>Promise.resolve().then(()=>Pr),void 0)).Response:Response}),ll=e=>{if(Array.isArray(e))return e.map(r=>ll(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=ll(n)}),t},Gx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ya=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Qx=(e,t,r)=>R(void 0,void 0,void 0,function*(){const n=yield Jx();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,o=(s==null?void 0:s.statusCode)||a+"";t(new Kx(Ya(s),a,o))}).catch(s=>{t(new ol(Ya(s),s))}):t(new ol(Ya(e),e))}),Yx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Gx(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ts(e,t,r,n,s,a){return R(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Yx(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Qx(c,l,n))})})}function vs(e,t,r,n){return R(this,void 0,void 0,function*(){return Ts(e,"GET",t,r,n)})}function nt(e,t,r,n,s){return R(this,void 0,void 0,function*(){return Ts(e,"POST",t,n,s,r)})}function cl(e,t,r,n,s){return R(this,void 0,void 0,function*(){return Ts(e,"PUT",t,n,s,r)})}function Xx(e,t,r,n){return R(this,void 0,void 0,function*(){return Ts(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jc(e,t,r,n,s){return R(this,void 0,void 0,function*(){return Ts(e,"DELETE",t,n,s,r)})}class Zx{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return R(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ee(t))return{data:null,error:t};throw t}})}}var Fm;class ev{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Fm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Zx(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return R(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ee(t))return{data:null,error:t};throw t}})}}Fm=Symbol.toStringTag;const tv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rv{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=bc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return R(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Xu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?cl:nt)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ee(a))return{data:null,error:a};throw a}})}upload(t,r,n){return R(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return R(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Xu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield cl(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ee(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return R(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield nt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new wc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}update(t,r,n){return R(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return R(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}copy(t,r,n){return R(this,void 0,void 0,function*(){try{return{data:{path:(yield nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return R(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield nt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return R(this,void 0,void 0,function*(){try{const s=yield nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>vs(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new ev(c,this.shouldThrowOnError)}info(t){return R(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ll(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}exists(t){return R(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Xx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n)&&n instanceof ol){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return R(this,void 0,void 0,function*(){try{return{data:yield jc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}list(t,r,n){return R(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tv),r),{prefix:t||""});return{data:yield nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}listV2(t,r){return R(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield nt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Bm="2.78.0",qm={"X-Client-Info":`storage-js/${Bm}`};class nv{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qm),r),this.fetch=bc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return R(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield vs(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}getBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}createBucket(t){return R(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield nt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return R(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}emptyBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}deleteBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield jc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class sv{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qm),r),this.fetch=bc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}listBuckets(t){return R(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield vs(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}deleteBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield jc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}}const _c={"X-Client-Info":`storage-js/${Bm}`,"Content-Type":"application/json"};class Vm extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ue(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Xa extends Vm{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class iv extends Vm{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Zu;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Zu||(Zu={}));const Nc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_n(async()=>{const{default:n}=await Promise.resolve().then(()=>Pr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},av=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ed=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ov=(e,t,r)=>R(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Xa(ed(o),s,l))}).catch(()=>{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new Xa(l,s,o))});else{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new Xa(l,s,o))}}else t(new iv(ed(e),e))}),lv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(av(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function cv(e,t,r,n,s,a){return R(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,lv(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>ov(c,l,n))})})}function Me(e,t,r,n,s){return R(this,void 0,void 0,function*(){return cv(e,"POST",t,n,s,r)})}class uv{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_c),r),this.fetch=Nc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return R(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}getIndex(t,r){return R(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}listIndexes(t){return R(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return R(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}}class dv{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_c),r),this.fetch=Nc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return R(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Me(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}getVectors(t){return R(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}listVectors(t){return R(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Me(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}queryVectors(t){return R(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}deleteVectors(t){return R(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Me(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}}class hv{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_c),r),this.fetch=Nc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return R(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}getBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}listBuckets(){return R(this,arguments,void 0,function*(t={}){try{return{data:yield Me(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return R(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}}class fv extends hv{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new mv(this.url,this.headers,t,this.fetch)}}class mv extends uv{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return R(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return R(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return R(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return R(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new pv(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class pv extends dv{constructor(t,r,n,s,a){super(t,r,a),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return R(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return R(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return R(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return R(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return R(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gv extends nv{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new rv(this.url,this.headers,t,this.fetch)}get vectors(){return new fv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sv(this.url+"/iceberg",this.headers,this.fetch)}}const yv="2.78.0";let Bn="";typeof Deno<"u"?Bn="deno":typeof document<"u"?Bn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bn="react-native":Bn="node";const xv={"X-Client-Info":`supabase-js-${Bn}/${yv}`},vv={headers:xv},wv={schema:"public"},bv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jv={},_v=e=>{let t;return e?t=e:typeof fetch>"u"?t=vm:t=fetch,(...r)=>t(...r)},Nv=()=>typeof Headers>"u"?wm:Headers,kv=(e,t,r)=>{const n=_v(r),s=Nv();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))}};function Sv(e){return e.endsWith("/")?e:e+"/"}function Ev(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Cv(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Sv(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Wm="2.78.0",Dr=30*1e3,ul=3,Za=ul*Dr,Tv="http://localhost:9999",Pv="supabase.auth.token",Ov={"X-Client-Info":`gotrue-js/${Wm}`},dl="X-Supabase-Api-Version",Hm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Av=10*60*1e3;class ws extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Iv extends ws{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Lv(e){return I(e)&&e.name==="AuthApiError"}class pr extends ws{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class sr extends ws{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class et extends sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $v(e){return I(e)&&e.name==="AuthSessionMissingError"}class Rr extends sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ni extends sr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class si extends sr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dv(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}class td extends sr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hl extends sr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function eo(e){return I(e)&&e.name==="AuthRetryableFetchError"}class rd extends sr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fl extends sr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nd=` 	
\r=`.split(""),Uv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<nd.length;t+=1)e[nd[t].charCodeAt(0)]=-2;for(let t=0;t<Ki.length;t+=1)e[Ki[t].charCodeAt(0)]=t;return e})();function sd(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ki[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ki[n]),t.queuedBits-=6}}function Km(e,t,r){const n=Uv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function id(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{Fv(o,n,r)};for(let o=0;o<e.length;o+=1)Km(e.charCodeAt(o),s,a);return t.join("")}function Mv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function zv(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Mv(n,t)}}function Fv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function nn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Km(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Bv(e){const t=[];return zv(e,r=>t.push(r)),new Uint8Array(t)}function vr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>sd(s,r,n)),sd(null,r,n),t.join("")}function qv(e){return Math.round(Date.now()/1e3)+e}function Vv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ne=()=>typeof window<"u"&&typeof document<"u",lr={tested:!1,writable:!1},Jm=()=>{if(!Ne())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lr.tested)return lr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lr.tested=!0,lr.writable=!0}catch{lr.tested=!0,lr.writable=!1}return lr.writable};function Wv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Gm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_n(async()=>{const{default:n}=await Promise.resolve().then(()=>Pr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Hv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ur=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},cr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lt=async(e,t)=>{await e.removeItem(t)};class ga{constructor(){this.promise=new ga.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ga.promiseConstructor=Promise;function to(e){const t=e.split(".");if(t.length!==3)throw new fl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Rv.test(t[n]))throw new fl("JWT not in base64url format");return{header:JSON.parse(id(t[0])),payload:JSON.parse(id(t[1])),signature:nn(t[2]),raw:{header:t[0],payload:t[1]}}}async function Kv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Jv(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function Gv(e){return("0"+e.toString(16)).substr(-2)}function Qv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Gv).join("")}async function Yv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Xv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Yv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ar(e,t,r=!1){const n=Qv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ur(e,`${t}-code-verifier`,s);const a=await Xv(n);return[a,n===a?"plain":"s256"]}const Zv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ew(e){const t=e.headers.get(dl);if(!t||!t.match(Zv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(e){if(!nw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ro(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sw(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function ad(e){return JSON.parse(JSON.stringify(e))}const fr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iw=[502,503,504];async function od(e){var t;if(!Hv(e))throw new hl(fr(e),0);if(iw.includes(e.status))throw new hl(fr(e),e.status);let r;try{r=await e.json()}catch(a){throw new pr(fr(a),a)}let n;const s=ew(e);if(s&&s.getTime()>=Hm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new rd(fr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new et}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new rd(fr(r),e.status,r.weak_password.reasons);throw new Iv(fr(r),e.status||500,n)}const aw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[dl]||(a[dl]=Hm["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await ow(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function ow(e,t,r,n,s,a){const o=aw(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new hl(fr(c),0)}if(l.ok||await od(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await od(c)}}function tt(e){var t;let r=null;uw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=qv(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ld(e){const t=tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ft(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lw(e){return{data:e,error:null}}function cw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=jn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function cd(e){return e}function uw(e){return e.access_token&&e.refresh_token&&e.expires_in}const no=["global","local","others"];class dw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Gm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=no[0]){if(no.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${no.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ft})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=jn(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ft})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:cd});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ir(t);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ft})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ir(t);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ft})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ir(t);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ft})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ir(t.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ir(t.userId),Ir(t.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:cd});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await D(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}}function ud(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Lr={debug:!!(globalThis&&Jm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hw extends Qm{}async function fw(e,t,r){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function mw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ym(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pw(e){return parseInt(e,16)}function gw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function yw(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Ym(e.address),x=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${p}

${v}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}y+=m}return`${b}
${y}`}class le extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Ji extends le{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function xw({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new le({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Xm(o)){if(a.rp.id!==o)return new le({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function vw({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new le({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Xm(n)){if(r.rpId!==n)return new le({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ww{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const bw=new ww;function jw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=jn(e,["challenge","user","excludeCredentials"]),a=nn(t).buffer,o=Object.assign(Object.assign({},r),{id:nn(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:nn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function _w(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=jn(e,["challenge","allowCredentials"]),s=nn(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:nn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Nw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:vr(new Uint8Array(e.response.attestationObject)),clientDataJSON:vr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:vr(new Uint8Array(s.authenticatorData)),clientDataJSON:vr(new Uint8Array(s.clientDataJSON)),signature:vr(new Uint8Array(s.signature)),userHandle:s.userHandle?vr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Xm(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function dd(){var e,t;return!!(Ne()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Sw(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ji("Browser returned unexpected credential type",t)}:{data:null,error:new Ji("Empty credential response",t)}}catch(t){return{data:null,error:xw({error:t,options:e})}}}async function Ew(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ji("Browser returned unexpected credential type",t)}:{data:null,error:new Ji("Empty credential response",t)}}catch(t){return{data:null,error:vw({error:t,options:e})}}}const Cw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Tw={userVerification:"preferred",hints:["security-key"]};function Gi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=Gi(l,o):n[a]=Gi(o)}else n[a]=o}return n}function Pw(e,t){return Gi(Cw,e,t||{})}function Ow(e,t){return Gi(Tw,e,t||{})}class Rw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??bw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Pw(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:h}=await Sw({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Ow(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:h}=await Ew(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new pr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!r)return{data:null,error:new ws("rpId is required for WebAuthn authentication")};try{if(!dd())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new pr("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!r)return{data:null,error:new ws("rpId is required for WebAuthn registration")};try{if(!dd())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new pr("Unexpected error in register",o)}}}}mw();const Aw={url:Tv,storageKey:Pv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ov,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hd(e,t,r){return await r()}const $r={};class bs{get jwks(){var t,r;return(r=(t=$r[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=$r[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bs.nextInstanceID,bs.nextInstanceID+=1,this.instanceID>0&&Ne()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Aw),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new dw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Gm(s.fetch),this.lock=s.lock||hd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ne()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=fw:this.lock=hd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Rw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Jm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ud(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ud(this.memoryStorage)),Ne()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Wv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ne()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Dv(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?{error:r}:{error:new pr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:tt}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(I(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Ar(this.storage,this.storageKey)),a=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:x},xform:tt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:tt})}else throw new ni("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(I(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ld})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ld})}else throw new ni("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Rr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,c,u,d,h,f;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:v,wallet:b,statement:y,options:m}=t;let g;if(Ne())if(typeof b=="object")g=b;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")g=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=b}const j=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),_=await g.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Ym(_[0]);let C=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const O=await g.request({method:"eth_chainId"});C=pw(O)}const S={domain:j.host,address:k,statement:y,uri:j.href,version:"1",chainId:C,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=yw(S),x=await g.request({method:"personal_sign",params:[gw(p),k]})}try{const{data:v,error:b}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:tt});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Rr}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(I(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,h,f,p;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:b,wallet:y,statement:m,options:g}=t;let j;if(Ne())if(typeof y=="object")j=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:b,error:y}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:vr(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:tt});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Rr}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(I(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await cr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:tt});if(await Lt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Rr}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(I(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Rr}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ar(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ni("You must provide either an email or phone number.")}catch(l){if(I(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:tt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Ar(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:lw})}catch(a){if(I(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new et;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ni("You must provide either an email or phone number and a type")}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await cr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Za:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await cr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ro()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=sw(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ft}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new et}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Ft})})}catch(r){if(I(r))return $v(r)&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new et;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ar(this.storage,this.storageKey));const{data:u,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ft});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new et;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=to(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(I(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new et;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ne())throw new si("No browser detected.");if(t.error||t.error_description||t.error_code)throw new si(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new td("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new si("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new td("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new si("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:v,error:b}=await this._getUser(a);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(I(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await cr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Lv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Vv(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ar(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(I(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ne()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(I(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tt}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Rr}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Jv(async s=>(s>0&&await Kv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tt})),(s,a)=>{const o=200*Math.pow(2,s);return a&&eo(a)&&Date.now()+o-n<Dr})}catch(n){if(this._debug(r,"error",n),I(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ne()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await cr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await cr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ur(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ro()}else if(s&&!s.user&&!s.user){const o=await cr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Lt(this.storage,this.storageKey+"-user"),await Ur(this.storage,this.storageKey,s)):s.user=ro()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Za;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Za}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),eo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ga;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new et;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),I(a)){const o={data:null,error:a};return eo(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ur(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=ad(s);await Ur(this.storage,this.storageKey,a)}else{const s=ad(r);await Ur(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Lt(this.storage,this.storageKey),await Lt(this.storage,this.storageKey+"-code-verifier"),await Lt(this.storage,this.storageKey+"-user"),this.userStorage&&await Lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ne()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Dr}ms, refresh threshold is ${ul} ticks`),s<=ul&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Qm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ne()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ar(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await D(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Nw(t.webauthn.credential_response):kw(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:jw(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_w(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=to(n.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?{data:null,error:s}:n?await D(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new et}})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return{data:null,error:a};if(!s)return{data:null,error:new et};const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ne()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return{data:null,error:a};if(!s)return{data:null,error:new et};const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ne()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(I(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Av>s)return n;const{data:a,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=to(n);r!=null&&r.allowExpired||tw(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:o},error:null}}const d=rw(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Bv(`${l}.${c}`)))throw new fl("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}bs.nextInstanceID=0;const Iw=bs;class Lw extends Iw{constructor(t){super(t)}}class $w{constructor(t,r,n){var s,a,o;this.supabaseUrl=t,this.supabaseKey=r;const l=Cv(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:wv,realtime:jv,auth:Object.assign(Object.assign({},bv),{storageKey:c}),global:vv},d=Ev(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=kv(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Tx(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new gv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new bx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lw({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Hx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dw=(e,t,r)=>new $w(e,t,r);function Uw(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Uw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mw="https://duxacynikjnfgwsrirha.supabase.co",zw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR1eGFjeW5pa2puZmd3c3JpcmhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4NzMxNTEsImV4cCI6MjA3NzQ0OTE1MX0.d5N1o30aVhahH1nmcpEcQeCjHIg9PpXnMwrjAz5OJRQ",W=Dw(Mw,zw),$t={async signUp(e){const{email:t,password:r,nom:n,prenom:s,telephone:a,role:o="client"}=e;console.log(""),console.log(" DBUT INSCRIPTION"),console.log(""),console.log(" Email:",t),console.log(" Nom:",n),console.log(" Prnom:",s),console.log(" Tlphone:",a),console.log(" Rle:",o),console.log(" Password length:",r.length),console.log("");const{data:l,error:c}=await W.auth.signUp({email:t,password:r,options:{data:{nom:n,prenom:s,telephone:a,role:o},emailRedirectTo:void 0}});if(console.log(""),console.log(" RPONSE SUPABASE AUTH"),console.log(""),console.log("authData:",JSON.stringify(l,null,2)),console.log("authError:",c?JSON.stringify(c,null,2):"null"),console.log(""),c)throw console.error(" ERREUR AUTH:",c.message),console.error(" Code:",c.status),console.error(" Dtails:",c),c;if(!l.user)throw console.error(" PAS D'UTILISATEUR RETOURN"),console.error("Session:",l.session),new Error("User creation failed - no user returned");return console.log(" UTILISATEUR CR:",l.user.id),console.log(" Session cre:",!!l.session),console.log(" User email:",l.user.email),console.log(" User confirmed_at:",l.user.confirmed_at),console.log(" User metadata:",l.user.user_metadata),console.log(""),l},async signIn(e){const{data:t,error:r}=await W.auth.signInWithPassword(e);if(r)throw r;return t},async signInWithGoogle(){const{data:e,error:t}=await W.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(t)throw t;return e},async signOut(){const{error:e}=await W.auth.signOut();if(e)throw e},async getCurrentUser(){const{data:{user:e}}=await W.auth.getUser();if(console.log(" getCurrentUser - auth.user:",e==null?void 0:e.id),!e)return null;const{data:t,error:r}=await W.from("users").select("*").eq("id",e.id).single();if(console.log(" getCurrentUser - public.users query:",{data:t,error:r}),r)throw console.error(" Error fetching user from public.users:",r),r;return t},async resetPassword(e){const{error:t}=await W.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/reset-password`});if(t)throw t},async updatePassword(e){const{error:t}=await W.auth.updateUser({password:e});if(t)throw t},async updateProfile(e,t){const{data:r,error:n}=await W.from("users").update(t).eq("id",e).select().single();if(n)throw n;return r},onAuthStateChange(e){return W.auth.onAuthStateChange(async(t,r)=>{if(r!=null&&r.user){const n=await this.getCurrentUser();e(n)}else e(null)})}},Zm=w.createContext(void 0),Fw=({children:e})=>{const[t,r]=w.useState(null),[n,s]=w.useState(!0);w.useEffect(()=>{$t.getCurrentUser().then(r).catch(console.error).finally(()=>s(!1));const{data:{subscription:u}}=$t.onAuthStateChange(r);return()=>{u==null||u.unsubscribe()}},[]);const a=async(u,d)=>{await $t.signIn({email:u,password:d});const h=await $t.getCurrentUser();r(h)},o=async u=>{await $t.signUp(u);const d=await $t.getCurrentUser();r(d)},l=async()=>{await $t.signOut(),r(null)},c=async()=>{await $t.signInWithGoogle()};return i.jsx(Zm.Provider,{value:{user:t,loading:n,signIn:a,signUp:o,signOut:l,signInWithGoogle:c},children:e})},ir=()=>{const e=w.useContext(Zm);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},ep=w.createContext(void 0),Bw=({children:e})=>{const[t,r]=w.useState(()=>{const u=localStorage.getItem("cart");return u?JSON.parse(u):[]});w.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);const n=u=>{r(d=>d.find(f=>f.ticketTypeId===u.ticketTypeId)?d.map(f=>f.ticketTypeId===u.ticketTypeId?{...f,quantity:f.quantity+1}:f):[...d,{...u,quantity:1}])},s=u=>{r(d=>d.filter(h=>h.ticketTypeId!==u))},a=(u,d)=>{if(d<=0){s(u);return}r(h=>h.map(f=>f.ticketTypeId===u?{...f,quantity:d}:f))},o=()=>{r([])},l=t.reduce((u,d)=>u+d.quantity,0),c=t.reduce((u,d)=>u+d.price*d.quantity,0);return i.jsx(ep.Provider,{value:{items:t,addToCart:n,removeFromCart:s,updateQuantity:a,clearCart:o,totalItems:l,totalPrice:c},children:e})},ya=()=>{const e=w.useContext(ep);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),L=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>w.createElement("svg",{ref:d,...qw,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${Vw(e)}`,l].join(" "),...u},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=L("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=L("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=L("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=L("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=L("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=L("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=L("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=L("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=L("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=L("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=L("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=L("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=L("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=L("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=L("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=L("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=L("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=L("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=L("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=L("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=L("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=L("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=L("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=L("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=L("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=L("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=L("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=L("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=L("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=L("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=L("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=L("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=L("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=L("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=L("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=L("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=L("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=L("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=L("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=L("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=L("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=L("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=L("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=L("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=L("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=L("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=L("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=L("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function fp({event:e,ticketTypes:t,onViewDetails:r}){var o;const n=new Date(e.date_debut),s=n.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),a=n.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-shadow duration-300",children:[i.jsxs("div",{className:"relative h-56 overflow-hidden",children:[i.jsx("img",{src:((o=e.image_urls)==null?void 0:o[0])||"https://images.pexels.com/photos/1105666/pexels-photo-1105666.jpeg",alt:e.titre,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),i.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1 rounded-full text-sm font-semibold text-orange-600",children:e.statut})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:e.titre}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Le,{className:"w-5 h-5 mr-2 text-orange-500"}),i.jsxs("span",{className:"text-sm",children:[s,"  ",a]})]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Sn,{className:"w-5 h-5 mr-2 text-orange-500"}),i.jsxs("span",{className:"text-sm",children:[e.lieu,", ",e.ville]})]})]}),e.description&&i.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),t&&t.length>0&&i.jsxs("div",{className:"mb-4 text-sm text-gray-700",children:[i.jsx("span",{className:"font-semibold",children:" partir de "}),i.jsxs("span",{className:"text-orange-600 font-bold text-lg",children:[Math.min(...t.map(l=>l.price)),""]})]}),r&&i.jsx("button",{onClick:()=>r(e),className:"w-full bg-gradient-to-r from-orange-500 to-red-600 text-white py-3 rounded-lg font-semibold hover:from-orange-600 hover:to-red-700 transition-all duration-300 shadow-md hover:shadow-lg",children:"Voir les billets"})]})]})}function xb({ticketType:e,quantity:t,onQuantityChange:r}){const n=e.quantity_available-e.quantity_sold,s=n>0,a=()=>{t>0&&r(e.id,t-1)},o=()=>{t<n&&r(e.id,t+1)};return i.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-5 hover:border-orange-400 transition-colors duration-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ut,{className:"w-5 h-5 text-orange-500"}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e.name})]}),e.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),i.jsx("p",{className:"text-sm text-gray-500",children:s?i.jsxs("span",{className:"text-green-600 font-medium",children:[n," billet",n>1?"s":""," disponible",n>1?"s":""]}):i.jsx("span",{className:"text-red-600 font-medium",children:"puis"})})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[e.price.toFixed(2)," ",e.currency]})})]}),s&&i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quantit :"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:a,disabled:t===0,className:"w-10 h-10 rounded-full bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:i.jsx(op,{className:"w-5 h-5"})}),i.jsx("span",{className:"text-xl font-bold w-12 text-center",children:t}),i.jsx("button",{onClick:o,disabled:t>=n,className:"w-10 h-10 rounded-full bg-orange-500 hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-white transition-colors",children:i.jsx(Vt,{className:"w-5 h-5"})})]})]})]})}function vb({items:e,onRemoveItem:t,onCheckout:r,isProcessing:n}){var o;const s=e.reduce((l,c)=>l+c.ticketType.price*c.quantity,0),a=e.reduce((l,c)=>l+c.quantity,0);return e.length===0?null:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 sticky top-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[i.jsx(En,{className:"w-6 h-6 text-orange-500"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Panier"}),i.jsx("span",{className:"ml-auto bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:a})]}),i.jsx("div",{className:"space-y-4 mb-6",children:e.map(l=>i.jsxs("div",{className:"flex items-start justify-between border-b border-gray-200 pb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:l.ticketType.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[l.quantity,"  ",l.ticketType.price.toFixed(2)," ",l.ticketType.currency]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("p",{className:"font-bold text-gray-900",children:[(l.ticketType.price*l.quantity).toFixed(2)," ",l.ticketType.currency]}),i.jsx("button",{onClick:()=>t(l.ticketType.id),className:"text-red-500 hover:text-red-700 transition-colors",children:i.jsx(kt,{className:"w-5 h-5"})})]})]},l.ticketType.id))}),i.jsx("div",{className:"border-t-2 border-gray-300 pt-4 mb-6",children:i.jsxs("div",{className:"flex items-center justify-between text-xl font-bold",children:[i.jsx("span",{className:"text-gray-900",children:"Total"}),i.jsxs("span",{className:"text-orange-600",children:[s.toFixed(2)," ",((o=e[0])==null?void 0:o.ticketType.currency)||"EUR"]})]})}),i.jsx("button",{onClick:r,disabled:n,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 text-white py-4 rounded-lg font-bold text-lg hover:from-orange-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-lg hover:shadow-xl",children:n?"Traitement en cours...":"Procder au paiement"})]})}function wb({isOpen:e,onClose:t,onSubmit:r,isProcessing:n}){const[s,a]=w.useState(""),[o,l]=w.useState("");if(!e)return null;const c=u=>{u.preventDefault(),s&&o&&r(s,o)};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Informations de contact"}),i.jsx("button",{onClick:t,disabled:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(kt,{className:"w-6 h-6"})})]}),i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),i.jsx("input",{type:"text",id:"name",value:o,onChange:u=>l(u.target.value),required:!0,disabled:n,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:opacity-50",placeholder:"Jean Dupont"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",id:"email",value:s,onChange:u=>a(u.target.value),required:!0,disabled:n,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:opacity-50",placeholder:"jean.dupont@example.com"})]}),i.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:i.jsx("p",{className:"text-sm text-gray-700",children:"Vos billets seront envoys  cette adresse email aprs le paiement."})}),i.jsx("button",{type:"submit",disabled:n||!s||!o,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 text-white py-3 rounded-lg font-bold hover:from-orange-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-lg hover:shadow-xl",children:n?"Traitement en cours...":"Continuer vers le paiement"})]})]})})}function bb(){const[e,t]=w.useState(!1),[r,n]=w.useState([{role:"assistant",content:"Bonjour ! Je suis votre assistant virtuel OneWayTicket. Comment puis-je vous aider  trouver l'vnement parfait ? "}]),[s,a]=w.useState(""),[o,l]=w.useState(!1),c=w.useRef(null),u=()=>{var f;(f=c.current)==null||f.scrollIntoView({behavior:"smooth"})};w.useEffect(()=>{u()},[r]);const d=async()=>{if(!s.trim()||o)return;const f=s.trim();a(""),n(p=>[...p,{role:"user",content:f}]),l(!0);try{const p=r.slice(1),x=await fetch("https://duxacynikjnfgwsrirha.supabase.co/functions/v1/chatbot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:f,conversationHistory:p})});if(!x.ok)throw new Error("Failed to get response");const v=await x.json();n(b=>[...b,{role:"assistant",content:v.message}])}catch(p){console.error("Chatbot error:",p),n(x=>[...x,{role:"assistant",content:"Dsol, une erreur est survenue. Veuillez ressayer."}])}finally{l(!1)}},h=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),d())};return i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>t(!e),className:"fixed bottom-6 right-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 z-50","aria-label":"Chat assistant",children:e?i.jsx(kt,{size:24}):i.jsx(ib,{size:24})}),e&&i.jsxs("div",{className:"fixed bottom-24 right-6 w-96 h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 border border-gray-200",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-2xl",children:[i.jsx("h3",{className:"font-semibold text-lg",children:"Assistant OneWayTicket"}),i.jsx("p",{className:"text-sm text-blue-100",children:"Posez-moi vos questions sur nos vnements !"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[r.map((f,p)=>i.jsx("div",{className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:i.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl ${f.role==="user"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white text-gray-800 shadow-sm border border-gray-200"}`,children:i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:f.content})})},p)),o&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-white p-3 rounded-2xl shadow-sm border border-gray-200",children:i.jsx(ip,{className:"animate-spin text-blue-600",size:20})})}),i.jsx("div",{ref:c})]}),i.jsx("div",{className:"p-4 border-t border-gray-200 bg-white rounded-b-2xl",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:s,onChange:f=>a(f.target.value),onKeyPress:h,placeholder:"Posez votre question...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o}),i.jsx("button",{onClick:d,disabled:!s.trim()||o,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-2 rounded-full hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Send message",children:i.jsx(up,{size:20})})]})})]})]})}function jb(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,a]=w.useState(null);w.useEffect(()=>{o()},[]);const o=async()=>{n(!0),a(null);try{const l=await fetch("https://duxacynikjnfgwsrirha.supabase.co/functions/v1/recommendations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userPreferences:{interests:[],priceRange:{min:0,max:1e3}}})});if(!l.ok)throw new Error("Failed to load recommendations");const c=await l.json();t(c.recommendations||[])}catch(l){console.error("Recommendations error:",l),a("Impossible de charger les recommandations")}finally{n(!1)}};return r?i.jsx("div",{className:"py-16 px-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[i.jsx(ii,{className:"text-yellow-500",size:32}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Recommandations IA"})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(ip,{className:"animate-spin text-blue-600",size:48})})]})}):s||e.length===0?null:i.jsx("div",{className:"py-16 px-4 bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(ii,{className:"text-yellow-500",size:32}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Recommandations pour vous"})]}),i.jsx("p",{className:"text-center text-gray-600 mb-12 max-w-2xl mx-auto",children:"Notre IA a slectionn ces vnements spcialement pour vous"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(l=>i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"absolute -top-3 -right-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg z-10 flex items-center gap-1",children:[i.jsx(ii,{size:12}),l.score,"% match"]}),i.jsx(fp,{event:{id:l.event.id,titre:l.event.titre,description:l.event.description,lieu:l.event.lieu,ville:l.event.ville,date_debut:l.event.date_debut,image_urls:l.event.image_urls,statut:l.event.statut,created_at:l.event.created_at,updated_at:l.event.updated_at},ticketTypes:l.event.ticket_types}),i.jsx("div",{className:"mt-2 bg-white p-3 rounded-lg shadow-sm border border-gray-200",children:i.jsxs("p",{className:"text-sm text-gray-600 flex items-start gap-2",children:[i.jsx(ii,{className:"text-yellow-500 flex-shrink-0 mt-0.5",size:16}),i.jsx("span",{children:l.reason})]})})]},l.eventId))})]})})}function _b(){const[e,t]=w.useState([]),[r,n]=w.useState(null),[s,a]=w.useState([]),[o,l]=w.useState(new Map),[c,u]=w.useState(!0),[d,h]=w.useState(!1),[f,p]=w.useState(null),[x,v]=w.useState(!1);w.useEffect(()=>{b()},[]),w.useEffect(()=>{r&&y(r.id)},[r]);async function b(){try{u(!0),p(null);const{data:S,error:O}=await W.from("events").select("*").eq("statut","publie").order("date_debut",{ascending:!0});if(O)throw O;t(S||[])}catch(S){p("Erreur lors du chargement des vnements"),console.error(S)}finally{u(!1)}}async function y(S){try{const{data:O,error:A}=await W.from("ticket_types").select("*").eq("event_id",S).order("price",{ascending:!0});if(A)throw A;a(O||[])}catch(O){p("Erreur lors du chargement des billets"),console.error(O)}}function m(S,O){l(A=>{const N=new Map(A);return O===0?N.delete(S):N.set(S,O),N})}function g(S){l(O=>{const A=new Map(O);return A.delete(S),A})}function j(){return Array.from(o.entries()).map(([S,O])=>{const A=s.find(N=>N.id===S);return A?{ticketType:A,quantity:O}:null}).filter(S=>S!==null)}function _(){v(!0)}async function k(S,O){h(!0),p(null);try{const N=j().map(q=>({ticketTypeId:q.ticketType.id,quantity:q.quantity})),$=await fetch("https://duxacynikjnfgwsrirha.supabase.co/functions/v1/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR1eGFjeW5pa2puZmd3c3JpcmhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4NzMxNTEsImV4cCI6MjA3NzQ0OTE1MX0.d5N1o30aVhahH1nmcpEcQeCjHIg9PpXnMwrjAz5OJRQ"},body:JSON.stringify({eventId:r==null?void 0:r.id,items:N,customerEmail:S,customerName:O})}),U=await $.json();if(!$.ok)throw new Error(U.error||"Failed to create checkout session");if(U.url)window.location.href=U.url;else throw new Error("No checkout URL returned")}catch(A){p(A.message||"Erreur lors du traitement du paiement"),console.error(A),h(!1),v(!1)}}function C(){n(null),a([]),l(new Map)}return c?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-orange-500 border-t-transparent mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 text-lg",children:"Chargement..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50",children:[i.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ut,{className:"w-10 h-10 text-orange-600"}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"OneWayTicket"})]}),r&&i.jsx("button",{onClick:C,className:"mt-4 text-orange-600 hover:text-orange-700 font-semibold",children:" Retour aux vnements"})]})}),i.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[f&&i.jsx("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:f}),r?i.jsxs("div",{children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:r.title}),i.jsx("p",{className:"text-gray-600 text-lg",children:r.description})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Slectionnez vos billets"}),s.map(S=>i.jsx(xb,{ticketType:S,quantity:o.get(S.id)||0,onQuantityChange:m},S.id))]}),i.jsx("div",{className:"lg:col-span-1",children:i.jsx(vb,{items:j(),onRemoveItem:g,onCheckout:_,isProcessing:d})})]})]}):i.jsxs("div",{children:[i.jsx(jb,{}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 mt-16",children:"Tous les vnements"}),e.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-600 text-lg",children:"Aucun vnement disponible pour le moment."})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(S=>i.jsx(fp,{event:S,onViewDetails:n},S.id))})]})]}),i.jsx(wb,{isOpen:x,onClose:()=>v(!1),onSubmit:k,isProcessing:d}),i.jsx(bb,{})]})}function Nb(){const[e,t]=w.useState(null);return w.useEffect(()=>{const r=new URLSearchParams(window.location.search);t(r.get("session_id"))},[]),i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50",children:[i.jsx("header",{className:"bg-white shadow-md",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ut,{className:"w-10 h-10 text-orange-600"}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"OneWayTicket"})]})})}),i.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 text-center",children:[i.jsx("div",{className:"mb-6",children:i.jsx(tp,{className:"w-24 h-24 text-green-500 mx-auto"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Paiement russi !"}),i.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Votre commande a t confirme avec succs. Vous recevrez vos billets par email dans quelques instants."}),e&&i.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Numro de confirmation : ",i.jsx("span",{className:"font-mono font-semibold",children:e})]})}),i.jsx("div",{className:"space-y-3",children:i.jsx("a",{href:"/",className:"block w-full bg-gradient-to-r from-orange-500 to-red-600 text-white py-3 rounded-lg font-semibold hover:from-orange-600 hover:to-red-700 transition-all duration-300 shadow-md hover:shadow-lg",children:"Retour  l'accueil"})})]})})]})}function pn(e,t){const r=typeof e=="string"?new Date(e):e;if(isNaN(r.getTime()))return"Date invalide";const n=o=>o.toString().padStart(2,"0"),s={yyyy:r.getFullYear().toString(),yy:r.getFullYear().toString().slice(-2),MMMM:md(r.getMonth()),MMM:md(r.getMonth()).slice(0,3),MM:n(r.getMonth()+1),M:(r.getMonth()+1).toString(),dd:n(r.getDate()),d:r.getDate().toString(),EEEE:pd(r.getDay()),EEE:pd(r.getDay()).slice(0,3),HH:n(r.getHours()),H:r.getHours().toString(),hh:n(r.getHours()%12||12),h:(r.getHours()%12||12).toString(),mm:n(r.getMinutes()),m:r.getMinutes().toString(),ss:n(r.getSeconds()),s:r.getSeconds().toString(),a:r.getHours()>=12?"PM":"AM"};let a=t;return Object.keys(s).sort((o,l)=>l.length-o.length).forEach(o=>{a=a.replace(new RegExp(o,"g"),s[o])}),a}function md(e){return["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"][e]}function pd(e){return["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"][e]}const kb=()=>{const[e,t]=w.useState([]),[r,n]=w.useState({totalEvents:0,totalTickets:0,totalUsers:0}),[s,a]=w.useState(!0);return w.useEffect(()=>{(async()=>{try{const{data:l}=await W.from("events").select("*, category:categories(*)").eq("statut","publie").gte("date_debut",new Date().toISOString()).order("date_debut",{ascending:!0}).limit(6);l&&t(l);const{data:c}=await W.from("public_stats").select("*").single();c&&n({totalEvents:c.total_events||0,totalTickets:c.total_tickets||0,totalUsers:c.total_users||0})}catch(l){console.error("Error fetching data:",l)}finally{a(!1)}})()},[]),i.jsxs("div",{children:[i.jsx("section",{className:"relative bg-gradient-to-br from-primary-900 via-secondary-600 to-secondary-500 text-white py-20 px-4",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl md:text-6xl font-display font-bold mb-6",children:"Trouvez votre prochain vnement"}),i.jsx("p",{className:"text-xl md:text-2xl mb-8 opacity-95",children:"Concerts, confrences, spectacles et bien plus encore"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(M,{to:"/events",className:"inline-flex items-center justify-center space-x-2 px-8 py-4 bg-white text-secondary-600 rounded-lg font-semibold hover:bg-neutral-100 transition-all shadow-lg",children:[i.jsx(cp,{className:"w-5 h-5"}),i.jsx("span",{children:"Explorer les vnements"})]}),i.jsxs(M,{to:"/register",className:"inline-flex items-center justify-center space-x-2 px-8 py-4 bg-transparent border-2 border-white text-white rounded-lg font-semibold hover:bg-white hover:text-secondary-600 transition-all",children:[i.jsx(ut,{className:"w-5 h-5"}),i.jsx("span",{children:"Crer un compte"})]})]})]})})}),i.jsx("section",{className:"py-16 px-4 bg-white",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-secondary-50 to-secondary-100 rounded-xl",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-secondary-600 text-white rounded-full mb-4",children:i.jsx(Le,{className:"w-8 h-8"})}),i.jsxs("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:[r.totalEvents,"+"]}),i.jsx("p",{className:"text-gray-600",children:"vnements disponibles"})]}),i.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-accent-50 to-accent-100 rounded-xl",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-accent-600 text-white rounded-full mb-4",children:i.jsx(ut,{className:"w-8 h-8"})}),i.jsxs("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:[r.totalTickets,"+"]}),i.jsx("p",{className:"text-gray-600",children:"Billets vendus"})]}),i.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 text-white rounded-full mb-4",children:i.jsx(xa,{className:"w-8 h-8"})}),i.jsxs("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:[r.totalUsers,"+"]}),i.jsx("p",{className:"text-gray-600",children:"Utilisateurs inscrits"})]})]})})}),i.jsx("section",{className:"py-16 px-4 bg-gray-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"vnements  venir"}),i.jsx("p",{className:"text-gray-600",children:"Dcouvrez les prochains vnements prs de chez vous"})]}),i.jsxs(M,{to:"/events",className:"hidden md:inline-flex items-center space-x-2 text-secondary-600 hover:text-secondary-700 font-semibold",children:[i.jsx("span",{children:"Voir tout"}),i.jsx(so,{className:"w-5 h-5"})]})]}),s?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(o=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[i.jsx("div",{className:"h-48 bg-gray-300"}),i.jsxs("div",{className:"p-6 space-y-3",children:[i.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"}),i.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"})]})]},o))}):e.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(o=>{var l;return i.jsxs(M,{to:`/events/${o.id}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow",children:[i.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-gray-200 to-gray-300",children:[(l=o.image_urls)!=null&&l[0]?i.jsx("img",{src:o.image_urls[0],alt:o.titre,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Le,{className:"w-16 h-16 text-gray-400"})}),o.category&&i.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 rounded-full text-xs font-semibold text-white",style:{backgroundColor:o.category.couleur},children:o.category.nom})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-1",children:o.titre}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:pn(new Date(o.date_debut),"d MMMM yyyy '' HH'h'mm")}),i.jsx("p",{className:"text-sm text-gray-600 flex items-center space-x-1",children:i.jsxs("span",{children:[o.lieu,", ",o.ville]})})]})]},o.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Le,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Aucun vnement  venir pour le moment"})]}),i.jsx("div",{className:"text-center mt-8 md:hidden",children:i.jsxs(M,{to:"/events",className:"inline-flex items-center space-x-2 text-secondary-600 hover:text-secondary-700 font-semibold",children:[i.jsx("span",{children:"Voir tous les vnements"}),i.jsx(so,{className:"w-5 h-5"})]})})]})}),i.jsx("section",{className:"py-16 px-4 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[i.jsx(hp,{className:"w-16 h-16 text-accent-500 mx-auto mb-6"}),i.jsx("h2",{className:"text-3xl font-display font-bold text-gray-900 mb-4",children:"Organisateur d'vnements ?"}),i.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Crez et grez vos vnements facilement avec notre plateforme intuitive. Profitez d'outils professionnels pour maximiser vos ventes."}),i.jsxs(M,{to:"/register",className:"inline-flex items-center space-x-2 px-8 py-4 bg-gradient-to-r from-accent-500 to-secondary-500 text-white rounded-lg font-semibold hover:from-accent-600 hover:to-secondary-600 transition-all shadow-lg",children:[i.jsx("span",{children:"Devenir organisateur"}),i.jsx(so,{className:"w-5 h-5"})]})]})})]})},Sb=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[s,a]=w.useState(!0),[o,l]=w.useState(""),[c,u]=w.useState("");w.useEffect(()=>{d(),h()},[c]);const d=async()=>{const{data:p}=await W.from("categories").select("*").order("nom");p&&n(p)},h=async()=>{a(!0);let p=W.from("events").select("*, category:categories(*)").eq("statut","publie").gte("date_debut",new Date().toISOString()).order("date_debut",{ascending:!0});c&&(p=p.eq("category_id",c));const{data:x}=await p;x&&t(x),a(!1)},f=e.filter(p=>p.titre.toLowerCase().includes(o.toLowerCase())||p.lieu.toLowerCase().includes(o.toLowerCase())||p.ville.toLowerCase().includes(o.toLowerCase())||p.description&&p.description.toLowerCase().includes(o.toLowerCase()));return i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:"vnements"}),i.jsx("p",{className:"text-lg text-gray-600",children:"Dcouvrez tous les vnements disponibles"})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(cp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:o,onChange:p=>l(p.target.value),placeholder:"Rechercher un vnement, une ville...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Xw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent appearance-none",children:[i.jsx("option",{value:"",children:"Toutes les catgories"}),r.map(p=>i.jsx("option",{value:p.id,children:p.nom},p.id))]})]})]})}),s?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(p=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[i.jsx("div",{className:"h-48 bg-gray-300"}),i.jsxs("div",{className:"p-6 space-y-3",children:[i.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"}),i.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"})]})]},p))}):f.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:f.map(p=>{var x;return i.jsxs(M,{to:`/events/${p.id}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow",children:[i.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-gray-200 to-gray-300",children:[(x=p.image_urls)!=null&&x[0]?i.jsx("img",{src:p.image_urls[0],alt:p.titre,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Le,{className:"w-16 h-16 text-gray-400"})}),p.category&&i.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 rounded-full text-xs font-semibold text-white",style:{backgroundColor:p.category.couleur},children:p.category.nom})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-1",children:p.titre}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:pn(new Date(p.date_debut),"d MMMM yyyy '' HH'h'mm")}),i.jsx("p",{className:"text-sm text-gray-600 flex items-center space-x-1",children:i.jsxs("span",{children:[p.lieu,", ",p.ville]})}),i.jsx("p",{className:"text-sm text-gray-500 mt-3 line-clamp-2",children:p.description})]})]},p.id)})}):i.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[i.jsx(Le,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 mb-2",children:"Aucun vnement trouv"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Essayez de modifier vos critres de recherche"})]})]})})},K={success:e=>{ur(e,"success")},error:e=>{ur(e,"error")},info:e=>{ur(e,"info")},loading:e=>{ur(e,"info")},promise:async(e,t)=>{ur(t.loading,"info");try{const r=await e;return ur(t.success,"success"),r}catch(r){throw ur(t.error,"error"),r}}};function ur(e,t){const r=Eb(),n=Cb(e,t);r.appendChild(n),setTimeout(()=>{n.style.opacity="0",setTimeout(()=>n.remove(),300)},3e3)}function Eb(){let e=document.getElementById("toast-container");return e||(e=document.createElement("div"),e.id="toast-container",e.style.cssText="position: fixed; top: 1rem; right: 1rem; z-index: 9999; display: flex; flex-direction: column; gap: 0.5rem;",document.body.appendChild(e)),e}function Cb(e,t){const r=document.createElement("div"),n={success:"background: #10b981; color: white;",error:"background: #ef4444; color: white;",info:"background: #3b82f6; color: white;"};if(r.style.cssText=`
    ${n[t]}
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    font-weight: 500;
    opacity: 1;
    transition: opacity 0.3s;
    animation: slideIn 0.3s ease-out;
    max-width: 20rem;
  `,r.textContent=e,!document.getElementById("toast-keyframes")){const s=document.createElement("style");s.id="toast-keyframes",s.textContent=`
      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
    `,document.head.appendChild(s)}return r}const Tb=()=>{const{id:e}=zf(),{addToCart:t}=ya(),[r,n]=w.useState(null),[s,a]=w.useState([]),[o,l]=w.useState(!0),c=d=>{var h;r&&(t({eventId:r.id,eventTitle:r.titre,eventDate:r.date_debut,eventImage:((h=r.image_urls)==null?void 0:h[0])||"",ticketTypeId:d.id,ticketTypeName:d.nom,price:parseFloat(d.prix.toString())}),K.success("Billet ajout au panier"))};w.useEffect(()=>{e&&u()},[e]);const u=async()=>{try{const{data:d}=await W.from("events").select("*, category:categories(*), organisateur:users(*)").eq("id",e).single();d&&n(d);const{data:h}=await W.from("ticket_types").select("*").eq("event_id",e).order("prix");h&&a(h)}catch(d){console.error("Error fetching event:",d),K.error("Erreur lors du chargement de l'vnement")}finally{l(!1)}};return o?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-secondary-500"})}):r?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs("div",{className:"relative h-96 bg-gradient-to-br from-gray-300 to-gray-400",children:[r.image_urls&&r.image_urls.length>0?i.jsx("img",{src:r.image_urls[0],alt:r.titre,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Le,{className:"w-24 h-24 text-gray-500"})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 -mt-32 relative z-10 pb-12",children:[i.jsxs(M,{to:"/events",className:"inline-flex items-center space-x-2 text-white hover:text-secondary-400 transition-colors mb-6",children:[i.jsx(Hw,{className:"w-5 h-5"}),i.jsx("span",{children:"Retour aux vnements"})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"flex items-start justify-between mb-6",children:i.jsxs("div",{className:"flex-1",children:[r.category&&i.jsx("div",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold text-white mb-4",style:{backgroundColor:r.category.couleur},children:r.category.nom}),i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:r.titre})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[i.jsx(Le,{className:"w-6 h-6 text-secondary-500 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-900",children:"Date"}),i.jsx("div",{className:"text-sm",children:pn(new Date(r.date_debut),"d MMMM yyyy")})]})]}),i.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[i.jsx(Jw,{className:"w-6 h-6 text-secondary-500 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-900",children:"Horaire"}),i.jsx("div",{className:"text-sm",children:pn(new Date(r.date_debut),"HH'h'mm")})]})]}),i.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[i.jsx(Sn,{className:"w-6 h-6 text-secondary-500 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-900",children:"Lieu"}),i.jsxs("div",{className:"text-sm",children:[r.lieu,", ",r.ville]})]})]})]}),i.jsxs("div",{className:"prose max-w-none mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Description"}),i.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-line",children:r.description})]}),s.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Billets disponibles"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(d=>{const h=d.quantite_disponible-d.quantite_vendue,f=h>0;return i.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-secondary-500 transition-colors",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:d.nom}),d.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:d.description}),i.jsxs("div",{className:"text-3xl font-bold text-secondary-600 mb-4",children:[parseFloat(d.prix.toString()).toFixed(2)," "]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[i.jsx(xa,{className:"w-4 h-4"}),i.jsxs("span",{children:[h," places restantes"]})]}),i.jsxs("button",{onClick:()=>c(d),disabled:!f,className:`w-full flex items-center justify-center space-x-2 py-3 rounded-lg font-semibold transition-all ${f?"bg-gradient-to-r from-secondary-500 to-accent-500 text-white hover:from-secondary-600 hover:to-accent-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[f&&i.jsx(En,{className:"w-5 h-5"}),i.jsx("span",{children:f?"Ajouter au panier":"Complet"})]})]},d.id)})})]})]})})]})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Le,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"vnement non trouv"}),i.jsx(M,{to:"/events",className:"text-secondary-600 hover:text-secondary-700 mt-2 inline-block",children:"Retour aux vnements"})]})})},Pb=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,a]=w.useState(!1),{signIn:o,signInWithGoogle:l}=ir(),c=vt(),u=async h=>{h.preventDefault(),a(!0);try{await o(e,r),K.success("Connexion russie !"),c("/")}catch(f){K.error(f.message||"Erreur lors de la connexion")}finally{a(!1)}},d=async()=>{try{await l()}catch(h){K.error(h.message||"Erreur lors de la connexion avec Google")}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-secondary-50 to-accent-50 px-4 py-12",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-secondary-500 to-accent-500 rounded-full mb-4",children:i.jsx(ap,{className:"w-8 h-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-display font-bold text-gray-900 mb-2",children:"Connexion"}),i.jsx("p",{className:"text-gray-600",children:"Accdez  votre compte ONEWAYTICKET"})]}),i.jsxs("form",{onSubmit:u,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),i.jsxs("div",{className:"relative",children:[i.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"votre@email.com"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{id:"password",type:"password",value:r,onChange:h=>n(h.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:""})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-secondary-500 focus:ring-secondary-500"}),i.jsx("span",{className:"ml-2 text-gray-600",children:"Se souvenir de moi"})]}),i.jsx(M,{to:"/auth/forgot-password",className:"text-secondary-600 hover:text-secondary-700 font-medium",children:"Mot de passe oubli ?"})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Connexion...":"Se connecter"})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Ou continuer avec"})})]}),i.jsxs("button",{onClick:d,className:"mt-4 w-full flex items-center justify-center space-x-2 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx(Kw,{className:"w-5 h-5 text-gray-600"}),i.jsx("span",{className:"text-gray-700 font-medium",children:"Google"})]})]}),i.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Pas encore de compte ?"," ",i.jsx(M,{to:"/register",className:"text-secondary-600 hover:text-secondary-700 font-semibold",children:"Crer un compte"})]})]})})},Ob=()=>{const[e,t]=w.useState({email:"",password:"",confirmPassword:"",nom:"",prenom:"",telephone:"",role:"client"}),[r,n]=w.useState(!1),{signUp:s}=ir(),a=vt(),o=async l=>{if(l.preventDefault(),e.password!==e.confirmPassword){K.error("Les mots de passe ne correspondent pas");return}if(e.password.length<6){K.error("Le mot de passe doit contenir au moins 6 caractres");return}console.log(" RegisterPage - Starting signup with:",{email:e.email,nom:e.nom,prenom:e.prenom,role:e.role}),n(!0);try{console.log(" RegisterPage - Calling signUp..."),await s(e),console.log(" RegisterPage - Signup successful!"),K.success("Compte cr avec succs !"),a("/")}catch(c){console.error(" RegisterPage - Signup failed:",c),K.error(c.message||"Erreur lors de la cration du compte")}finally{n(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-secondary-50 to-accent-50 px-4 py-12",children:i.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-secondary-500 to-accent-500 rounded-full mb-4",children:i.jsx(gb,{className:"w-8 h-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-display font-bold text-gray-900 mb-2",children:"Crer un compte"}),i.jsx("p",{className:"text-gray-600",children:"Rejoignez ONEWAYTICKET ds aujourd'hui"})]}),i.jsxs("form",{onSubmit:o,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"prenom",className:"block text-sm font-medium text-gray-700 mb-2",children:"Prnom *"}),i.jsxs("div",{className:"relative",children:[i.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{id:"prenom",type:"text",value:e.prenom,onChange:l=>t({...e,prenom:l.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"Jean"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"nom",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom *"}),i.jsxs("div",{className:"relative",children:[i.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{id:"nom",type:"text",value:e.nom,onChange:l=>t({...e,nom:l.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"Dupont"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email *"}),i.jsxs("div",{className:"relative",children:[i.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{id:"email",type:"email",value:e.email,onChange:l=>t({...e,email:l.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"jean.dupont@email.com"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"telephone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone"}),i.jsxs("div",{className:"relative",children:[i.jsx(mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{id:"telephone",type:"tel",value:e.telephone,onChange:l=>t({...e,telephone:l.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"+33 6 12 34 56 78"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{id:"password",type:"password",value:e.password,onChange:l=>t({...e,password:l.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:""})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le mot de passe *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{id:"confirmPassword",type:"password",value:e.confirmPassword,onChange:l=>t({...e,confirmPassword:l.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:""})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Type de compte *"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("button",{type:"button",onClick:()=>t({...e,role:"client"}),className:`p-4 border-2 rounded-lg transition-all ${e.role==="client"?"border-secondary-500 bg-secondary-50 text-secondary-700":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx("div",{className:"font-semibold mb-1",children:"Client"}),i.jsx("div",{className:"text-xs text-gray-600",children:"Acheter des billets"})]}),i.jsxs("button",{type:"button",onClick:()=>t({...e,role:"organisateur"}),className:`p-4 border-2 rounded-lg transition-all ${e.role==="organisateur"?"border-secondary-500 bg-secondary-50 text-secondary-700":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx("div",{className:"font-semibold mb-1",children:"Organisateur"}),i.jsx("div",{className:"text-xs text-gray-600",children:"Crer des vnements"})]})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("input",{type:"checkbox",required:!0,className:"mt-1 rounded border-gray-300 text-secondary-500 focus:ring-secondary-500"}),i.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["J'accepte les"," ",i.jsx(M,{to:"/terms",className:"text-secondary-600 hover:text-secondary-700 font-medium",children:"conditions gnrales"})," ","et la"," ",i.jsx(M,{to:"/privacy",className:"text-secondary-600 hover:text-secondary-700 font-medium",children:"politique de confidentialit"})]})]}),i.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Cration du compte...":"Crer mon compte"})]}),i.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Vous avez dj un compte ?"," ",i.jsx(M,{to:"/login",className:"text-secondary-600 hover:text-secondary-700 font-semibold",children:"Se connecter"})]})]})})},Rb=()=>{const{user:e}=ir(),[t,r]=w.useState(!1),[n,s]=w.useState(!1),[a,o]=w.useState({nom:"",prenom:"",email:"",telephone:""});w.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const{data:u,error:d}=await W.from("users").select("*").eq("id",e==null?void 0:e.id).single();if(d)throw d;u&&o({nom:u.nom||"",prenom:u.prenom||"",email:u.email||"",telephone:u.telephone||""})}catch(u){console.error("Error fetching profile:",u),K.error("Erreur lors du chargement du profil")}},c=async u=>{u.preventDefault(),s(!0);try{const{error:d}=await W.from("users").update({nom:a.nom,prenom:a.prenom,telephone:a.telephone,updated_at:new Date().toISOString()}).eq("id",e==null?void 0:e.id);if(d)throw d;K.success("Profil mis  jour avec succs"),r(!1)}catch(d){console.error("Error updating profile:",d),K.error("Erreur lors de la mise  jour")}finally{s(!1)}};return i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-secondary-500 to-accent-500 h-32"}),i.jsxs("div",{className:"relative px-8 pb-8",children:[i.jsx("div",{className:"absolute -top-16 left-8",children:i.jsx("div",{className:"w-32 h-32 bg-white rounded-full border-4 border-white shadow-lg flex items-center justify-center",children:i.jsx("div",{className:"w-28 h-28 bg-gradient-to-br from-secondary-100 to-accent-100 rounded-full flex items-center justify-center",children:i.jsx(jr,{className:"w-14 h-14 text-secondary-600"})})})}),i.jsxs("div",{className:"pt-20 flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-display font-bold text-gray-900 mb-2",children:[a.prenom," ",a.nom]}),i.jsx("p",{className:"text-gray-600",children:a.email})]}),!t&&i.jsxs("button",{onClick:()=>r(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-600 hover:bg-secondary-50 rounded-lg transition-colors",children:[i.jsx(ab,{className:"w-4 h-4"}),i.jsx("span",{children:"Modifier"})]})]}),i.jsx("div",{className:"mt-8",children:i.jsxs("form",{onSubmit:c,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prnom *"}),i.jsx("input",{type:"text",value:a.prenom,onChange:u=>o({...a,prenom:u.target.value}),disabled:!t,required:!0,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent ${t?"":"bg-gray-50 cursor-not-allowed"}`})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom *"}),i.jsx("input",{type:"text",value:a.nom,onChange:u=>o({...a,nom:u.target.value}),disabled:!t,required:!0,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent ${t?"":"bg-gray-50 cursor-not-allowed"}`})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:a.email,disabled:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"L'email ne peut pas tre modifi"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone"}),i.jsxs("div",{className:"relative",children:[i.jsx(mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"tel",value:a.telephone,onChange:u=>o({...a,telephone:u.target.value}),disabled:!t,className:`w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent ${t?"":"bg-gray-50 cursor-not-allowed"}`,placeholder:"+33 6 12 34 56 78"})]})]}),t&&i.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:()=>{r(!1),l()},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Annuler"}),i.jsxs("button",{type:"submit",disabled:n,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(lp,{className:"w-5 h-5"}),i.jsx("span",{children:n?"Enregistrement...":"Enregistrer"})]})]})]})})]})]}),i.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-display font-bold text-gray-900 mb-4",children:"Statistiques"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-3xl font-bold text-secondary-600",children:"0"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Billets achets"})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-3xl font-bold text-accent-600",children:"0"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"vnements  venir"})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-3xl font-bold text-primary-600",children:"0"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Favoris"})]})]})]})]})})},Ab=()=>{const e=vt(),{user:t}=ir(),[r,n]=w.useState([]),[s,a]=w.useState({totalEvents:0,totalTicketsSold:0,totalRevenue:0,activeEvents:0}),[o,l]=w.useState(!0);w.useEffect(()=>{t&&c()},[t]);const c=async()=>{try{const{data:d,error:h}=await W.from("events").select("*").eq("organisateur_id",t==null?void 0:t.id).order("date_debut",{ascending:!1});if(h)throw h;if(n(d||[]),d&&d.length>0){const f=d.map(m=>m.id),{data:p,error:x}=await W.from("ticket_types").select("quantite_vendue, prix").in("event_id",f);if(x)throw x;const v=(p==null?void 0:p.reduce((m,g)=>m+(g.quantite_vendue||0),0))||0,b=(p==null?void 0:p.reduce((m,g)=>m+(g.quantite_vendue||0)*parseFloat(g.prix),0))||0,y=d.filter(m=>m.statut==="publie").length;a({totalEvents:d.length,totalTicketsSold:v,totalRevenue:b,activeEvents:y})}}catch(d){console.error("Error fetching dashboard data:",d),K.error("Erreur lors du chargement des donnes")}finally{l(!1)}},u=async(d,h)=>{if(confirm(`tes-vous sr de vouloir supprimer l'vnement "${h}" ?`))try{const{error:f}=await W.from("events").delete().eq("id",d);if(f)throw f;K.success("vnement supprim avec succs"),c()}catch(f){console.error("Error deleting event:",f),K.error("Erreur lors de la suppression")}};return o?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-secondary-500"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900",children:"Tableau de Bord Organisateur"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Grez vos vnements et suivez vos performances"})]}),i.jsxs("button",{onClick:()=>e("/dashboard/events/new"),className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all shadow-lg",children:[i.jsx(Vt,{className:"w-5 h-5"}),i.jsx("span",{children:"Crer un vnement"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total vnements"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalEvents})]}),i.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:i.jsx(Le,{className:"w-6 h-6 text-primary-600"})})]}),i.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:[s.activeEvents," actifs"]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Billets Vendus"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalTicketsSold})]}),i.jsx("div",{className:"w-12 h-12 bg-secondary-100 rounded-lg flex items-center justify-center",children:i.jsx(ut,{className:"w-6 h-6 text-secondary-600"})})]}),i.jsxs("p",{className:"text-sm text-green-600 mt-4 flex items-center",children:[i.jsx(hp,{className:"w-4 h-4 mr-1"}),"Performance solide"]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Revenus Totaux"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalRevenue.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]}),i.jsx("div",{className:"w-12 h-12 bg-accent-100 rounded-lg flex items-center justify-center",children:i.jsx(Qw,{className:"w-6 h-6 text-accent-600"})})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Ce mois-ci"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Taux de Remplissage"}),i.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.length>0?Math.round(s.totalTicketsSold/r.reduce((d,h)=>d+h.capacite_totale,0)*100):0,"%"]})]}),i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx(xa,{className:"w-6 h-6 text-green-600"})})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Moyenne globale"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h2",{className:"text-xl font-display font-bold text-gray-900",children:"Mes vnements"})}),r.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Le,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun vnement"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez par crer votre premier vnement"}),i.jsxs("button",{onClick:()=>e("/dashboard/events/new"),className:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all",children:[i.jsx(Vt,{className:"w-5 h-5"}),i.jsx("span",{children:"Crer un vnement"})]})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"vnement"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lieu"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacit"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(d=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:d.image_urls[0],alt:d.titre,className:"w-10 h-10 rounded object-cover mr-3"}),i.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.titre})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900",children:d.lieu}),i.jsx("div",{className:"text-sm text-gray-500",children:d.ville})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:new Date(d.date_debut).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${d.statut==="publie"?"bg-green-100 text-green-800":d.statut==="brouillon"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:d.statut==="publie"?"Publi":d.statut==="brouillon"?"Brouillon":"Annul"})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[d.capacite_totale," places"]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[i.jsx("button",{onClick:()=>e(`/events/${d.id}`),className:"p-2 text-gray-600 hover:text-secondary-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Voir",children:i.jsx(sp,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>e(`/dashboard/events/${d.id}/edit`),className:"p-2 text-gray-600 hover:text-secondary-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Modifier",children:i.jsx(hb,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>u(d.id,d.titre),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Supprimer",children:i.jsx(dp,{className:"w-4 h-4"})})]})})]},d.id))})]})})]})]})})},gd=async e=>{try{const t=document.createElement("canvas"),r=300;t.width=r,t.height=r;const n=t.getContext("2d");if(!n)throw new Error("Canvas context not available");const s=encodeURIComponent(e),a=`https://api.qrserver.com/v1/create-qr-code/?size=${r}x${r}&data=${s}&format=png&margin=10&ecc=H`,o=new Image;return o.crossOrigin="anonymous",new Promise((l,c)=>{o.onload=()=>{n.fillStyle="#FFFFFF",n.fillRect(0,0,r,r),n.drawImage(o,0,0,r,r);const u=t.toDataURL("image/png");l(u)},o.onerror=()=>{Ib(e,t,n).then(l).catch(c)},o.src=a})}catch(t){throw console.error("Error generating QR code:",t),new Error("Failed to generate QR code")}},Ib=async(e,t,r)=>{r.fillStyle="#FFFFFF",r.fillRect(0,0,300,300),r.fillStyle="#1F2937";const o=Lb(e);for(let c=0;c<25;c++)for(let u=0;u<25;u++){const d=c*25+u,h=o>>d%32&1;c<7&&u<7||c<7&&u>=18||c>=18&&u<7?(c===0||c===6||u===0||u===6||c>=2&&c<=4&&u>=2&&u<=4)&&r.fillRect(u*12,c*12,12,12):(h||(c+u)%3===0)&&r.fillRect(u*12,c*12,12,12)}r.font="10px monospace",r.fillStyle="#6B7280",r.textAlign="center";const l=e.substring(0,20);return r.fillText(l,300/2,295),t.toDataURL("image/png")},Lb=e=>{let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return Math.abs(t)},$b=async e=>{const{ticket:t,event:r,qrCodeDataURL:n}=e,s=pn(new Date(r.date_debut),"d MMMM yyyy '' HH'h'mm"),a=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>Billet - ${r.titre}</title>
      <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
          font-family: Arial, sans-serif;
          padding: 20px;
          background: white;
        }
        .ticket {
          max-width: 800px;
          margin: 0 auto;
          border: 2px solid #fdb022;
          border-radius: 12px;
          overflow: hidden;
          box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .header {
          background: linear-gradient(135deg, #fdb022 0%, #ff8c42 100%);
          color: white;
          padding: 20px;
          text-align: center;
        }
        .logo {
          font-size: 28px;
          font-weight: bold;
          margin-bottom: 10px;
        }
        .content {
          padding: 30px;
          display: grid;
          grid-template-columns: 1fr auto;
          gap: 30px;
        }
        .info {
          flex: 1;
        }
        .event-title {
          font-size: 24px;
          font-weight: bold;
          margin-bottom: 20px;
          color: #1f2937;
        }
        .info-group {
          margin-bottom: 15px;
        }
        .info-label {
          font-size: 12px;
          color: #6b7280;
          text-transform: uppercase;
          margin-bottom: 4px;
        }
        .info-value {
          font-size: 16px;
          color: #1f2937;
          font-weight: 500;
        }
        .qr-section {
          text-align: center;
          border-left: 2px dashed #e5e7eb;
          padding-left: 30px;
        }
        .qr-code {
          width: 180px;
          height: 180px;
          margin-bottom: 10px;
          border: 2px solid #e5e7eb;
          border-radius: 8px;
        }
        .qr-text {
          font-size: 12px;
          color: #6b7280;
        }
        .divider {
          height: 2px;
          background: #e5e7eb;
          margin: 20px 0;
        }
        .footer {
          background: #f9fafb;
          padding: 20px;
          text-align: center;
          font-size: 12px;
          color: #6b7280;
          border-top: 2px dashed #e5e7eb;
        }
        @media print {
          body { padding: 0; }
          .ticket { border: none; box-shadow: none; }
        }
      </style>
    </head>
    <body>
      <div class="ticket">
        <div class="header">
          <div class="logo">ONEWAYTICKET</div>
        </div>

        <div class="content">
          <div class="info">
            <div class="event-title">${r.titre}</div>

            <div class="info-group">
              <div class="info-label">Date</div>
              <div class="info-value">${s}</div>
            </div>

            <div class="info-group">
              <div class="info-label">Lieu</div>
              <div class="info-value">${r.lieu}, ${r.ville}</div>
            </div>

            <div class="divider"></div>

            <div class="info-group">
              <div class="info-label">Participant</div>
              <div class="info-value">${t.nom_participant}</div>
            </div>

            <div class="info-group">
              <div class="info-label">Email</div>
              <div class="info-value">${t.email_participant}</div>
            </div>

            <div class="info-group">
              <div class="info-label">Code Billet</div>
              <div class="info-value">${t.code_billet}</div>
            </div>

            <div class="info-group">
              <div class="info-label">Prix</div>
              <div class="info-value">${t.prix_paye.toFixed(2)} </div>
            </div>
          </div>

          <div class="qr-section">
            <img src="${n}" alt="QR Code" class="qr-code">
            <div class="qr-text">
              Scannez ce QR code<br>
               l'entre de l'vnement
            </div>
          </div>
        </div>

        <div class="footer">
          Ce billet est personnel et non transfrable.<br>
          Prsentez-le  l'entre de l'vnement.
        </div>
      </div>
    </body>
    </html>
  `;return new Blob([a],{type:"text/html"})},Db=(e,t)=>{const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t.replace(".pdf",".html"),n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>{URL.revokeObjectURL(r)},100)},Ub=()=>{const{user:e}=ir(),[t,r]=w.useState([]),[n,s]=w.useState(!0),[a,o]=w.useState(null),[l,c]=w.useState("");w.useEffect(()=>{e&&u()},[e]);const u=async()=>{try{const{data:x,error:v}=await W.from("tickets").select(`
          *,
          ticket_types:type_billet_id (
            nom,
            prix,
            event_id,
            events:event_id (
              titre,
              date_debut,
              date_fin,
              lieu,
              ville,
              image_urls
            )
          )
        `).eq("user_id",e==null?void 0:e.id).order("date_achat",{ascending:!1});if(v)throw v;x&&r(x)}catch(x){console.error("Error fetching tickets:",x),K.error("Erreur lors du chargement des billets")}finally{s(!1)}},d=async x=>{try{const v=JSON.stringify({ticketId:x.id,code:x.code_qr,event:x.ticket_types.events.titre}),b=await gd(v);c(b),o(x)}catch(v){console.error("Error generating QR code:",v),K.error("Erreur lors de la gnration du QR code")}},h=async x=>{try{K.loading("Gnration du PDF...");const v=JSON.stringify({ticketId:x.id,code:x.code_qr,event:x.ticket_types.events.titre}),b=await gd(v),y=await $b({ticket:{id:x.id,code_billet:x.code_billet,nom_participant:x.nom_participant,email_participant:x.email_participant,prix_paye:x.prix_paye},event:{titre:x.ticket_types.events.titre,date_debut:x.ticket_types.events.date_debut,lieu:x.ticket_types.events.lieu,ville:x.ticket_types.events.ville},qrCodeDataURL:b}),m=`billet-${x.code_billet}.pdf`;Db(y,m),K.dismiss(),K.success("PDF tlcharg avec succs")}catch(v){console.error("Error generating PDF:",v),K.dismiss(),K.error("Erreur lors de la gnration du PDF")}},f=x=>{switch(x){case"valid":return"bg-green-100 text-green-800";case"used":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";case"refunded":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},p=x=>{switch(x){case"valid":return"Valide";case"used":return"Utilis";case"cancelled":return"Annul";case"refunded":return"Rembours";default:return x}};return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-secondary-500"})}):i.jsxs("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:[i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:"Mes Billets"}),i.jsx("p",{className:"text-lg text-gray-600",children:"Retrouvez tous vos billets achets"})]}),t.length===0?i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[i.jsx(ut,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Aucun billet pour le moment"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Dcouvrez nos vnements et rservez vos billets"}),i.jsx("a",{href:"/events",className:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all",children:i.jsx("span",{children:"Explorer les vnements"})})]}):i.jsx("div",{className:"space-y-6",children:t.map(x=>i.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"md:flex",children:[i.jsxs("div",{className:"md:w-1/3 relative h-48 md:h-auto bg-gradient-to-br from-gray-200 to-gray-300",children:[x.ticket_types.events.image_urls&&x.ticket_types.events.image_urls.length>0?i.jsx("img",{src:x.ticket_types.events.image_urls[0],alt:x.ticket_types.events.titre,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Le,{className:"w-16 h-16 text-gray-400"})}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f(x.statut)}`,children:p(x.statut)})})]}),i.jsxs("div",{className:"md:w-2/3 p-6",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:x.ticket_types.events.titre}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Le,{className:"w-5 h-5 text-secondary-500 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Date"}),i.jsx("div",{className:"font-semibold text-gray-900",children:pn(new Date(x.ticket_types.events.date_debut),"d MMMM yyyy '' HH'h'mm")})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Sn,{className:"w-5 h-5 text-secondary-500 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Lieu"}),i.jsxs("div",{className:"font-semibold text-gray-900",children:[x.ticket_types.events.lieu,", ",x.ticket_types.events.ville]})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(ut,{className:"w-5 h-5 text-secondary-500 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Type de billet"}),i.jsx("div",{className:"font-semibold text-gray-900",children:x.ticket_types.nom})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("span",{className:"w-5 h-5 text-secondary-500 mt-0.5 flex-shrink-0 font-bold",children:""}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Prix pay"}),i.jsxs("div",{className:"font-semibold text-gray-900",children:[parseFloat(x.prix_paye.toString()).toFixed(2)," "]})]})]})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[i.jsx("strong",{children:"Code:"})," ",i.jsx("span",{className:"font-mono",children:x.code_qr})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{onClick:()=>d(x),className:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg hover:from-secondary-600 hover:to-accent-600 transition-all",children:[i.jsx(ob,{className:"w-4 h-4"}),i.jsx("span",{children:"Voir QR Code"})]}),i.jsxs("button",{onClick:()=>h(x),className:"inline-flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx(np,{className:"w-4 h-4"}),i.jsx("span",{children:"Tlcharger PDF"})]})]})]})]})]})},x.id))})]}),a&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative",children:[i.jsx("button",{onClick:()=>{o(null),c("")},className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(kt,{className:"w-5 h-5"})}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4",children:"QR Code du billet"}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("p",{className:"text-gray-600 mb-2",children:a.ticket_types.events.titre}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Code: ",a.code_qr]})]}),l&&i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("img",{src:l,alt:"QR Code",className:"w-64 h-64 border-2 border-gray-200 rounded-lg"})}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-700",children:"Prsentez ce QR code  l'entre de l'vnement pour validation"})]})})]})},Mb=()=>{const e=vt(),{items:t,removeFromCart:r,updateQuantity:n,totalPrice:s,totalItems:a}=ya();return t.length===0?i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(En,{className:"w-20 h-20 text-gray-300 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-2",children:"Votre panier est vide"}),i.jsx("p",{className:"text-gray-600 mb-8",children:"Dcouvrez nos vnements et ajoutez des billets  votre panier"}),i.jsx("button",{onClick:()=>e("/events"),className:"px-6 py-3 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all",children:"Parcourir les vnements"})]})})}):i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900 mb-2",children:"Panier"}),i.jsxs("p",{className:"text-gray-600",children:[a," article",a>1?"s":""," dans votre panier"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(o=>i.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("img",{src:o.eventImage,alt:o.eventTitle,className:"w-24 h-24 rounded-lg object-cover"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:o.eventTitle}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:new Date(o.eventDate).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx("p",{className:"text-sm font-medium text-secondary-600",children:o.ticketTypeName}),i.jsx("p",{className:"text-lg font-bold text-gray-900 mt-2",children:o.price.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]}),i.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[i.jsx("button",{onClick:()=>r(o.ticketTypeId),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:i.jsx(dp,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg",children:[i.jsx("button",{onClick:()=>n(o.ticketTypeId,o.quantity-1),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded-l-lg transition-colors",children:i.jsx(op,{className:"w-4 h-4"})}),i.jsx("span",{className:"px-4 py-2 font-semibold text-gray-900",children:o.quantity}),i.jsx("button",{onClick:()=>n(o.ticketTypeId,o.quantity+1),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded-r-lg transition-colors",children:i.jsx(Vt,{className:"w-4 h-4"})})]})]})]})},o.ticketTypeId))}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 sticky top-4",children:[i.jsx("h2",{className:"text-xl font-display font-bold text-gray-900 mb-6",children:"Rcapitulatif"}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex justify-between text-gray-600",children:[i.jsx("span",{children:"Sous-total"}),i.jsx("span",{children:s.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]}),i.jsxs("div",{className:"flex justify-between text-gray-600",children:[i.jsx("span",{children:"Frais de service"}),i.jsx("span",{children:(s*.05).toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]}),i.jsx("div",{className:"pt-3 border-t border-gray-200",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total"}),i.jsx("span",{className:"text-2xl font-bold text-secondary-600",children:(s*1.05).toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]})})]}),i.jsxs("button",{onClick:()=>e("/checkout"),className:"w-full flex items-center justify-center space-x-2 px-6 py-4 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all shadow-lg",children:[i.jsx(rp,{className:"w-5 h-5"}),i.jsx("span",{children:"Procder au paiement"})]}),i.jsx("button",{onClick:()=>e("/events"),className:"w-full mt-4 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Continuer mes achats"}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Paiement scuris"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Vos donnes sont protges par SSL"})]})]})})]})})]})]})})},zb=()=>i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-gradient-to-br from-primary-900 via-secondary-600 to-secondary-500 text-white py-20 px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-full mb-6",children:i.jsx(ut,{className:"w-10 h-10 text-secondary-500"})}),i.jsx("h1",{className:"text-5xl font-display font-bold mb-6",children:" propos de ONEWAYTICKET"}),i.jsx("p",{className:"text-xl opacity-95",children:"Votre plateforme de billetterie vnementielle moderne et scurise"})]})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-12",children:[i.jsx("h2",{className:"text-3xl font-display font-bold text-gray-900 mb-6",children:"Notre Mission"}),i.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-4",children:"ONEWAYTICKET est n d'une vision simple : rendre l'accs aux vnements facile, rapide et scuris pour tous. Que vous soyez un passionn de concerts, un amateur de confrences ou un organisateur d'vnements, nous sommes l pour simplifier votre exprience."}),i.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Notre plateforme combine les dernires technologies web avec une interface intuitive pour offrir une exprience utilisateur exceptionnelle, de la dcouverte d'un vnement jusqu' l'entre avec votre billet numrique."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-secondary-100 rounded-full mb-6",children:i.jsx(fb,{className:"w-8 h-8 text-secondary-600"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Innovation"}),i.jsx("p",{className:"text-gray-600",children:"Nous utilisons les technologies les plus rcentes pour offrir une exprience moderne et performante."})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-accent-100 rounded-full mb-6",children:i.jsx(xa,{className:"w-8 h-8 text-accent-600"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Communaut"}),i.jsx("p",{className:"text-gray-600",children:"Nous crons des ponts entre les organisateurs d'vnements et les participants du monde entier."})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 rounded-full mb-6",children:i.jsx(Zw,{className:"w-8 h-8 text-primary-600"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Passion"}),i.jsx("p",{className:"text-gray-600",children:"Chaque vnement est unique, et nous mettons notre cur  rendre chaque exprience mmorable."})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-accent-50 to-secondary-50 rounded-xl p-8 mb-12",children:[i.jsx("h2",{className:"text-3xl font-display font-bold text-gray-900 mb-6",children:"Nos Valeurs"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Transparence"}),i.jsx("p",{className:"text-gray-600",children:"Des prix clairs, sans frais cachs. Vous savez toujours exactement ce que vous payez."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Scurit"}),i.jsx("p",{className:"text-gray-600",children:"Vos donnes et paiements sont protgs par les meilleures technologies de scurit."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Simplicit"}),i.jsx("p",{className:"text-gray-600",children:"Une interface intuitive qui rend la rservation de billets rapide et agrable."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Support"}),i.jsx("p",{className:"text-gray-600",children:"Une quipe ddie disponible pour vous aider  chaque tape de votre parcours."})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[i.jsx("h2",{className:"text-3xl font-display font-bold text-gray-900 mb-4",children:"Rejoignez-nous !"}),i.jsx("p",{className:"text-lg text-gray-600 mb-6 max-w-2xl mx-auto",children:"Que vous soyez un utilisateur  la recherche d'vnements passionnants ou un organisateur souhaitant partager vos crations, ONEWAYTICKET est fait pour vous."}),i.jsx("a",{href:"/register",className:"inline-flex items-center space-x-2 px-8 py-4 bg-gradient-to-r from-accent-500 to-secondary-500 text-white rounded-lg font-semibold hover:from-accent-600 hover:to-secondary-600 transition-all shadow-lg",children:i.jsx("span",{children:"Crer un compte gratuit"})})]})]})]}),Fb=()=>{const[e,t]=w.useState({name:"",email:"",subject:"",message:""}),[r,n]=w.useState(!1),s=async a=>{a.preventDefault(),n(!0),setTimeout(()=>{K.success("Message envoy avec succs !"),t({name:"",email:"",subject:"",message:""}),n(!1)},1e3)};return i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:"Contactez-nous"}),i.jsx("p",{className:"text-lg text-gray-600",children:"Une question ? Une suggestion ? Nous sommes l pour vous aider."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Envoyez-nous un message"}),i.jsxs("form",{onSubmit:s,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),i.jsx("input",{id:"name",type:"text",value:e.name,onChange:a=>t({...e,name:a.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"Jean Dupont"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),i.jsx("input",{id:"email",type:"email",value:e.email,onChange:a=>t({...e,email:a.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"jean.dupont@email.com"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Sujet *"}),i.jsx("input",{id:"subject",type:"text",value:e.subject,onChange:a=>t({...e,subject:a.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"Objet de votre message"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),i.jsx("textarea",{id:"message",value:e.message,onChange:a=>t({...e,message:a.target.value}),required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent resize-none",placeholder:"Votre message..."})]}),i.jsxs("button",{type:"submit",disabled:r,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(up,{className:"w-5 h-5"}),i.jsx("span",{children:r?"Envoi...":"Envoyer le message"})]})]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 bg-secondary-100 rounded-lg flex items-center justify-center",children:i.jsx(De,{className:"w-6 h-6 text-secondary-600"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Email"}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Support client"}),i.jsx("a",{href:"mailto:support@onewayticket.fr",className:"text-secondary-600 hover:text-secondary-700 text-sm block",children:"support@onewayticket.fr"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Contact gnral"}),i.jsx("a",{href:"mailto:contact@onewayticket.fr",className:"text-secondary-600 hover:text-secondary-700 text-sm block",children:"contact@onewayticket.fr"})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 bg-accent-100 rounded-lg flex items-center justify-center",children:i.jsx(mn,{className:"w-6 h-6 text-accent-600"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tlphone"}),i.jsx("a",{href:"tel:+33123456789",className:"text-secondary-600 hover:text-secondary-700",children:"+33 1 23 45 67 89"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Lun-Ven: 9h-18h"})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:i.jsx(Sn,{className:"w-6 h-6 text-primary-600"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Adresse"}),i.jsxs("p",{className:"text-gray-600",children:["123 Avenue des vnements",i.jsx("br",{}),"75001 Paris",i.jsx("br",{}),"France"]})]})]})})]})]})]})})},Bb=()=>i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-gradient-to-br from-primary-900 via-secondary-600 to-secondary-500 text-white py-16 px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx(ml,{className:"w-16 h-16 mx-auto mb-4"}),i.jsx("h1",{className:"text-4xl font-display font-bold mb-4",children:"Conditions Gnrales d'Utilisation"}),i.jsx("p",{className:"text-lg opacity-95",children:"Conditions rgissant l'utilisation de la plateforme ONEWAYTICKET"}),i.jsxs("p",{className:"text-sm mt-4 opacity-90",children:["Dernire mise  jour : ",new Date().toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(Ww,{className:"w-6 h-6 text-secondary-600"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Article 1 - Objet"})]}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"Les prsentes Conditions Gnrales d'Utilisation (CGU) rgissent l'accs et l'utilisation de la plateforme ONEWAYTICKET, accessible  l'adresse www.onewayticket.fr, dite par ONEWAYTICKET SAS."}),i.jsx("p",{className:"mt-4",children:"L'utilisation de la plateforme implique l'acceptation pleine et entire des prsentes CGU. Si vous n'acceptez pas ces conditions, veuillez ne pas utiliser nos services."})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(ml,{className:"w-6 h-6 text-secondary-600"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Article 2 - Dfinitions"})]}),i.jsxs("div",{className:"space-y-3 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Plateforme :"})," Le site web ONEWAYTICKET et ses services associs"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Utilisateur :"})," Toute personne utilisant la plateforme"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Client :"})," Utilisateur achetant des billets"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Organisateur :"})," Utilisateur crant et grant des vnements"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"vnement :"})," Manifestation propose par un organisateur sur la plateforme"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Billet :"})," Titre d'accs  un vnement achet via la plateforme"]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(En,{className:"w-6 h-6 text-secondary-600"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Article 3 - Inscription et Compte"})]}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-4 mb-2",children:"3.1 Cration de compte"}),i.jsx("p",{children:"Pour accder  certains services, l'utilisateur doit crer un compte en fournissant des informations exactes, compltes et  jour. L'utilisateur s'engage  maintenir la confidentialit de ses identifiants."}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-2",children:"3.2 Conditions d'inscription"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"tre g d'au moins 18 ans ou avoir l'autorisation d'un reprsentant lgal"}),i.jsx("li",{children:"Fournir des informations vridiques et compltes"}),i.jsx("li",{children:"Ne crer qu'un seul compte par personne"}),i.jsx("li",{children:"Ne pas usurper l'identit d'autrui"})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-2",children:"3.3 Responsabilit du compte"}),i.jsx("p",{children:"L'utilisateur est responsable de toutes les activits effectues depuis son compte. En cas d'utilisation non autorise, l'utilisateur doit immdiatement en informer ONEWAYTICKET."})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(rp,{className:"w-6 h-6 text-secondary-600"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Article 4 - Achat de Billets"})]}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-4 mb-2",children:"4.1 Processus d'achat"}),i.jsx("p",{children:"L'achat de billets s'effectue en ligne via la plateforme. Le client slectionne l'vnement, le type de billet et procde au paiement scuris."}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-2",children:"4.2 Prix et frais"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Les prix sont affichs en euros, toutes taxes comprises (TTC)"}),i.jsx("li",{children:"Des frais de service peuvent s'appliquer et seront clairement indiqus"}),i.jsx("li",{children:"Les prix peuvent varier selon les catgories de billets"})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-2",children:"4.3 Paiement"}),i.jsx("p",{children:"Les paiements sont scuriss et traits par notre partenaire Stripe. ONEWAYTICKET ne stocke aucune information bancaire. Les moyens de paiement accepts incluent : cartes bancaires, cartes de crdit."}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-2",children:"4.4 Confirmation et billet lectronique"}),i.jsx("p",{children:"Aprs validation du paiement, le client reoit par email :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Une confirmation de commande"}),i.jsx("li",{children:"Le(s) billet(s) lectronique(s) au format PDF avec QR code"}),i.jsx("li",{children:"Les conditions particulires de l'vnement"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(lb,{className:"w-6 h-6 text-secondary-600"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Article 5 - Annulation et Remboursement"})]}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-4 mb-2",children:"5.1 Droit de rtractation"}),i.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:i.jsxs("p",{className:"text-sm text-amber-800",children:[i.jsx("span",{className:"font-semibold",children:"Important :"})," Conformment  l'article L221-28 du Code de la consommation, le droit de rtractation de 14 jours ne s'applique pas aux billets d'vnements dont la date est fixe."]})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-2",children:"5.2 Annulation par le client"}),i.jsx("p",{children:"Les billets achets ne sont gnralement ni repris ni changs, sauf conditions particulires dfinies par l'organisateur de l'vnement."}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-2",children:"5.3 Annulation par l'organisateur"}),i.jsx("p",{children:"En cas d'annulation d'un vnement par l'organisateur :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Le client sera immdiatement inform par email"}),i.jsx("li",{children:"Le remboursement intgral sera effectu sous 14 jours ouvrs"}),i.jsx("li",{children:"Les frais de service seront galement rembourss"})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-2",children:"5.4 Report d'vnement"}),i.jsx("p",{children:"En cas de report, le billet reste valable pour la nouvelle date. Si le client ne peut y assister, les conditions de remboursement seront dtermines par l'organisateur."})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(cb,{className:"w-6 h-6 text-secondary-600"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Article 6 - Responsabilits"})]}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-4 mb-2",children:"6.1 Responsabilit de ONEWAYTICKET"}),i.jsx("p",{children:"ONEWAYTICKET agit en tant qu'intermdiaire entre les organisateurs et les clients. Notre responsabilit se limite  :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"La fourniture de la plateforme de billetterie"}),i.jsx("li",{children:"Le traitement scuris des paiements"}),i.jsx("li",{children:"L'mission des billets lectroniques"})]}),i.jsx("p",{className:"mt-4",children:"ONEWAYTICKET n'est pas responsable :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Du contenu, de la qualit ou du droulement des vnements"}),i.jsx("li",{children:"Des actions ou omissions des organisateurs"}),i.jsx("li",{children:"Des dommages directs ou indirects rsultant de l'utilisation de la plateforme"})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-2",children:"6.2 Responsabilit de l'utilisateur"}),i.jsx("p",{children:"L'utilisateur s'engage  :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Utiliser la plateforme de manire loyale et conforme  sa destination"}),i.jsx("li",{children:"Ne pas tenter de contourner les systmes de scurit"}),i.jsx("li",{children:"Ne pas revendre les billets  un prix suprieur (sauf autorisation)"}),i.jsx("li",{children:"Respecter les droits de proprit intellectuelle"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Article 7 - Proprit Intellectuelle"}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"Tous les lments de la plateforme (textes, images, logos, vidos, structure, etc.) sont protgs par le droit d'auteur, le droit des marques et/ou tout autre droit de proprit intellectuelle."}),i.jsx("p",{className:"mt-4",children:"Toute reproduction, reprsentation, modification ou exploitation non autorise est strictement interdite et pourra donner lieu  des poursuites judiciaires."})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Article 8 - Donnes Personnelles"}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsxs("p",{children:["Le traitement de vos donnes personnelles est rgi par notre"," ",i.jsx("a",{href:"/privacy",className:"text-secondary-600 underline font-medium",children:"Politique de Confidentialit"}),", qui fait partie intgrante des prsentes CGU."]}),i.jsx("p",{className:"mt-4",children:"Conformment au RGPD, vous disposez d'un droit d'accs, de rectification, de suppression et d'opposition concernant vos donnes personnelles."})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Article 9 - Modifications des CGU"}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"ONEWAYTICKET se rserve le droit de modifier les prsentes CGU  tout moment. Les nouvelles conditions entreront en vigueur ds leur publication sur la plateforme."}),i.jsx("p",{className:"mt-4",children:"Les utilisateurs seront informs des modifications substantielles par email ou notification sur la plateforme."})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Article 10 - Droit Applicable et Juridiction"}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"Les prsentes CGU sont rgies par le droit franais. En cas de litige, et  dfaut d'accord amiable, les tribunaux franais seront seuls comptents."}),i.jsxs("div",{className:"mt-6 p-4 bg-secondary-50 rounded-lg border border-secondary-200",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-semibold",children:"Mdiation :"})," Conformment  l'article L.612-1 du Code de la consommation, le client a le droit de recourir gratuitement  un mdiateur de la consommation en vue de la rsolution amiable du litige."]}),i.jsxs("p",{className:"text-sm mt-2",children:["Plateforme de rsolution des litiges en ligne de la Commission europenne :"," ",i.jsx("a",{href:"https://ec.europa.eu/consumers/odr",target:"_blank",rel:"noopener noreferrer",className:"text-secondary-600 underline",children:"https://ec.europa.eu/consumers/odr"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Contact"}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"Pour toute question concernant les prsentes CGU, vous pouvez nous contacter :"}),i.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"font-semibold",children:"ONEWAYTICKET SAS"}),i.jsx("p",{className:"text-sm mt-2",children:"123 Avenue des vnements, 75001 Paris, France"}),i.jsxs("p",{className:"text-sm mt-2",children:["Email : ",i.jsx("a",{href:"mailto:contact@onewayticket.fr",className:"text-secondary-600 underline",children:"contact@onewayticket.fr"})]}),i.jsx("p",{className:"text-sm mt-2",children:"Tlphone : +33 1 23 45 67 89"})]})]})]}),i.jsx("div",{className:"mt-8 p-6 bg-secondary-50 rounded-lg border border-secondary-200",children:i.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Une ralisation"," ",i.jsx("span",{className:"font-semibold text-secondary-600",children:"DigitBinary"})," ","- Shaping tomorrow, today"]})})]})]}),qb=()=>i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-gradient-to-br from-primary-900 via-secondary-600 to-secondary-500 text-white py-16 px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx(db,{className:"w-16 h-16 mx-auto mb-4"}),i.jsx("h1",{className:"text-4xl font-display font-bold mb-4",children:"Politique de Confidentialit"}),i.jsx("p",{className:"text-lg opacity-95",children:"Protection de vos donnes personnelles et respect de votre vie prive"}),i.jsxs("p",{className:"text-sm mt-4 opacity-90",children:["Dernire mise  jour : ",new Date().toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(ml,{className:"w-6 h-6 text-secondary-600"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Introduction"})]}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"ONEWAYTICKET SAS, socit par actions simplifie au capital de 50 000 euros, immatricule au RCS de Paris sous le numro 123 456 789, dont le sige social est situ 123 Avenue des vnements, 75001 Paris, France, accorde une grande importance  la protection de vos donnes personnelles."}),i.jsxs("p",{className:"mt-4",children:["La prsente politique de confidentialit a pour objectif de vous informer sur nos pratiques concernant la collecte, l'utilisation et le partage des informations que vous tes amens  nous fournir par l'intermdiaire de notre plateforme accessible  l'adresse"," ",i.jsx("span",{className:"font-semibold",children:"www.onewayticket.fr"}),"."]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(Gw,{className:"w-6 h-6 text-secondary-600"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Donnes Collectes"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Donnes d'identification"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[i.jsx("li",{children:"Nom et prnom"}),i.jsx("li",{children:"Adresse email"}),i.jsx("li",{children:"Numro de tlphone"}),i.jsx("li",{children:"Adresse postale"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Donnes de connexion"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[i.jsx("li",{children:"Adresse IP"}),i.jsx("li",{children:"Logs de connexion"}),i.jsx("li",{children:"Donnes de navigation"}),i.jsx("li",{children:"Type de navigateur et systme d'exploitation"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Donnes de transaction"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[i.jsx("li",{children:"Historique des achats"}),i.jsx("li",{children:"Informations de paiement (cryptes et scurises via Stripe)"}),i.jsx("li",{children:"Billets et rservations"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(sp,{className:"w-6 h-6 text-secondary-600"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Finalits d'Utilisation"})]}),i.jsxs("div",{className:"space-y-4 text-gray-700",children:[i.jsx("p",{children:"Vos donnes personnelles sont collectes et traites pour les finalits suivantes :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Gestion de votre compte utilisateur et authentification"}),i.jsx("li",{children:"Traitement de vos commandes et mission de billets"}),i.jsx("li",{children:"Service client et support technique"}),i.jsx("li",{children:"Envoi de communications relatives  vos rservations"}),i.jsx("li",{children:"Amlioration de nos services et personnalisation de votre exprience"}),i.jsx("li",{children:"Prvention de la fraude et scurit de la plateforme"}),i.jsx("li",{children:"Respect de nos obligations lgales et rglementaires"}),i.jsx("li",{children:"Statistiques et analyses (donnes anonymises)"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(Qi,{className:"w-6 h-6 text-secondary-600"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Scurit des Donnes"})]}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"Nous mettons en uvre des mesures techniques et organisationnelles appropries pour garantir la scurit de vos donnes personnelles :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4 ml-4",children:[i.jsx("li",{children:"Chiffrement SSL/TLS pour toutes les communications"}),i.jsx("li",{children:"Hbergement scuris chez Supabase avec certifications conformes"}),i.jsx("li",{children:"Authentification renforce et gestion des accs"}),i.jsx("li",{children:"Sauvegardes rgulires et plan de reprise d'activit"}),i.jsx("li",{children:"Surveillance et dtection des intrusions"}),i.jsx("li",{children:"Formation de nos quipes aux bonnes pratiques de scurit"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(pb,{className:"w-6 h-6 text-secondary-600"}),i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Vos Droits"})]}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"Conformment au Rglement Gnral sur la Protection des Donnes (RGPD) et  la loi Informatique et Liberts, vous disposez des droits suivants :"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit d'accs"}),i.jsx("p",{className:"text-sm",children:"Obtenir une copie de vos donnes personnelles"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit de rectification"}),i.jsx("p",{className:"text-sm",children:"Corriger vos donnes inexactes ou incompltes"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit  l'effacement"}),i.jsx("p",{className:"text-sm",children:"Demander la suppression de vos donnes"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit  la limitation"}),i.jsx("p",{className:"text-sm",children:"Limiter le traitement de vos donnes"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit  la portabilit"}),i.jsx("p",{className:"text-sm",children:"Rcuprer vos donnes dans un format structur"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit d'opposition"}),i.jsx("p",{className:"text-sm",children:"S'opposer au traitement de vos donnes"})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-secondary-50 rounded-lg border border-secondary-200",children:[i.jsxs("p",{className:"text-sm text-gray-700",children:[i.jsx("span",{className:"font-semibold",children:"Pour exercer vos droits,"})," contactez notre Dlgu  la Protection des Donnes (DPO) :"]}),i.jsxs("p",{className:"text-sm text-secondary-600 mt-2",children:["Sophie BERNARD - ",i.jsx("a",{href:"mailto:dpo@onewayticket.fr",className:"underline",children:"dpo@onewayticket.fr"})]}),i.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Vous disposez galement du droit d'introduire une rclamation auprs de la CNIL (Commission Nationale de l'Informatique et des Liberts)."})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Conservation des Donnes"}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"Vos donnes personnelles sont conserves pendant la dure ncessaire aux finalits pour lesquelles elles ont t collectes :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4 ml-4",children:[i.jsxs("li",{children:[i.jsx("span",{className:"font-semibold",children:"Donnes de compte :"})," Dure de vie du compte + 1 an"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-semibold",children:"Donnes de transaction :"})," 10 ans (obligations comptables)"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-semibold",children:"Donnes de connexion :"})," 1 an maximum"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-semibold",children:"Cookies :"})," 13 mois maximum"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Partage des Donnes"}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"Vos donnes personnelles peuvent tre partages avec :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4 ml-4",children:[i.jsxs("li",{children:[i.jsx("span",{className:"font-semibold",children:"Prestataires de services :"})," Stripe (paiements), Supabase (hbergement)"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-semibold",children:"Organisateurs d'vnements :"})," Uniquement les informations ncessaires  la gestion de votre participation"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-semibold",children:"Autorits lgales :"})," En cas de demande lgale ou pour protger nos droits"]})]}),i.jsx("p",{className:"mt-4",children:"Nous ne vendons jamais vos donnes personnelles  des tiers."})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Contact"}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"Pour toute question concernant cette politique de confidentialit ou le traitement de vos donnes personnelles, vous pouvez nous contacter :"}),i.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"font-semibold",children:"ONEWAYTICKET SAS"}),i.jsx("p",{className:"text-sm mt-2",children:"123 Avenue des vnements, 75001 Paris, France"}),i.jsxs("p",{className:"text-sm mt-2",children:["Email : ",i.jsx("a",{href:"mailto:dpo@onewayticket.fr",className:"text-secondary-600 underline",children:"dpo@onewayticket.fr"})]}),i.jsx("p",{className:"text-sm mt-2",children:"Tlphone : +33 1 23 45 67 89"})]})]})]}),i.jsx("div",{className:"mt-8 p-6 bg-secondary-50 rounded-lg border border-secondary-200",children:i.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Une ralisation"," ",i.jsx("span",{className:"font-semibold text-secondary-600",children:"DigitBinary"})," ","- Shaping tomorrow, today"]})})]})]}),Vb=()=>i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-gradient-to-br from-primary-900 via-secondary-600 to-secondary-500 text-white py-16 px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx(fd,{className:"w-16 h-16 mx-auto mb-4"}),i.jsx("h1",{className:"text-4xl font-display font-bold mb-4",children:"Mentions Lgales"}),i.jsx("p",{className:"text-lg opacity-95",children:"Informations lgales et contacts officiels"})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[i.jsx(fd,{className:"w-6 h-6 text-secondary-600"}),i.jsx("span",{children:"diteur du site"})]}),i.jsxs("div",{className:"space-y-4 text-gray-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Raison sociale :"}),i.jsx("p",{children:"ONEWAYTICKET SAS"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Capital social :"}),i.jsx("p",{children:"50 000 "})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"SIRET :"}),i.jsx("p",{children:"123 456 789 00010"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"RCS :"}),i.jsx("p",{children:"Paris B 123 456 789"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Numro TVA intracommunautaire :"}),i.jsx("p",{children:"FR 12 123456789"})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Sn,{className:"w-5 h-5 text-secondary-600 mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Sige social :"}),i.jsx("p",{children:"123 Avenue des vnements"}),i.jsx("p",{children:"75001 Paris, France"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[i.jsx(jr,{className:"w-6 h-6 text-secondary-600"}),i.jsx("span",{children:"Directeur de la publication"})]}),i.jsxs("div",{className:"space-y-4 text-gray-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Nom :"}),i.jsx("p",{children:"Marie DUBOIS"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Fonction :"}),i.jsx("p",{children:"Prsidente - Directrice Gnrale"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(De,{className:"w-5 h-5 text-secondary-600"}),i.jsx("a",{href:"mailto:direction@onewayticket.fr",className:"text-secondary-600 hover:text-secondary-700",children:"direction@onewayticket.fr"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[i.jsx(De,{className:"w-6 h-6 text-secondary-600"}),i.jsx("span",{children:"Contacts"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Support Client"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(De,{className:"w-4 h-4 text-secondary-600"}),i.jsx("a",{href:"mailto:support@onewayticket.fr",className:"text-secondary-600 hover:text-secondary-700",children:"support@onewayticket.fr"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(mn,{className:"w-4 h-4 text-secondary-600"}),i.jsx("a",{href:"tel:+33123456789",className:"text-secondary-600 hover:text-secondary-700",children:"+33 1 23 45 67 89"})]}),i.jsx("p",{className:"text-gray-600",children:"Lundi - Vendredi : 9h - 18h"})]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Service Commercial"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(De,{className:"w-4 h-4 text-secondary-600"}),i.jsx("a",{href:"mailto:commercial@onewayticket.fr",className:"text-secondary-600 hover:text-secondary-700",children:"commercial@onewayticket.fr"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(mn,{className:"w-4 h-4 text-secondary-600"}),i.jsx("a",{href:"tel:+33123456790",className:"text-secondary-600 hover:text-secondary-700",children:"+33 1 23 45 67 90"})]}),i.jsx("p",{className:"text-gray-600",children:"Lundi - Vendredi : 9h - 18h"})]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Webmaster / Support Technique"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jr,{className:"w-4 h-4 text-secondary-600"}),i.jsx("span",{children:"Thomas MARTIN"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(De,{className:"w-4 h-4 text-secondary-600"}),i.jsx("a",{href:"mailto:webmaster@onewayticket.fr",className:"text-secondary-600 hover:text-secondary-700",children:"webmaster@onewayticket.fr"})]})]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Dlgu  la Protection des Donnes (DPO)"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jr,{className:"w-4 h-4 text-secondary-600"}),i.jsx("span",{children:"Sophie BERNARD"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(De,{className:"w-4 h-4 text-secondary-600"}),i.jsx("a",{href:"mailto:dpo@onewayticket.fr",className:"text-secondary-600 hover:text-secondary-700",children:"dpo@onewayticket.fr"})]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[i.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[i.jsx(ub,{className:"w-6 h-6 text-secondary-600"}),i.jsx("span",{children:"Hbergement"})]}),i.jsxs("div",{className:"space-y-4 text-gray-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Hbergeur :"}),i.jsx("p",{children:"Supabase Inc."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Adresse :"}),i.jsx("p",{children:"970 Toa Payoh North, #07-04"}),i.jsx("p",{children:"Singapore 318992"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(De,{className:"w-5 h-5 text-secondary-600"}),i.jsx("a",{href:"https://supabase.com",target:"_blank",rel:"noopener noreferrer",className:"text-secondary-600 hover:text-secondary-700",children:"supabase.com"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Proprit intellectuelle"}),i.jsxs("div",{className:"prose prose-gray max-w-none text-gray-700",children:[i.jsx("p",{children:"L'ensemble du contenu du site ONEWAYTICKET (structure, textes, logos, images, vidos, etc.) est la proprit exclusive de ONEWAYTICKET SAS, sauf mention contraire."}),i.jsx("p",{className:"mt-4",children:"Toute reproduction, reprsentation, modification, publication, transmission, dnaturation, totale ou partielle du site ou de son contenu, par quelque procd que ce soit, et sur quelque support que ce soit est interdite sans l'autorisation crite pralable de ONEWAYTICKET SAS."}),i.jsx("p",{className:"mt-4",children:"Marques et logos ONEWAYTICKET sont des marques dposes. Toute reproduction totale ou partielle de ces marques sans autorisation pralable et crite de ONEWAYTICKET SAS est prohibe."})]})]}),i.jsx("div",{className:"mt-8 p-6 bg-secondary-50 rounded-lg border border-secondary-200",children:i.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Une ralisation"," ",i.jsx("span",{className:"font-semibold text-secondary-600",children:"DigitBinary"})," ","- Shaping tomorrow, today"]})})]})]}),yd=()=>{const e=vt(),{id:t}=zf(),{user:r}=ir(),[n,s]=w.useState(!1),[a,o]=w.useState([]),[l,c]=w.useState({titre:"",description:"",lieu:"",ville:"",date_debut:"",date_fin:"",category_id:"",image_urls:[""],capacite_totale:0,statut:"brouillon",tags:[]}),[u,d]=w.useState([{nom:"Standard",description:"",prix:0,quantite_disponible:0,avantages:[""]}]),[h,f]=w.useState("");w.useEffect(()=>{p(),t&&x()},[t]);const p=async()=>{try{const{data:N,error:$}=await W.from("categories").select("id, nom").order("nom");if($)throw $;o(N||[])}catch(N){console.error("Error fetching categories:",N),K.error("Erreur lors du chargement des catgories")}},x=async()=>{try{const{data:N,error:$}=await W.from("events").select("*").eq("id",t).single();if($)throw $;c({titre:N.titre,description:N.description,lieu:N.lieu,ville:N.ville,date_debut:N.date_debut,date_fin:N.date_fin,category_id:N.category_id,image_urls:N.image_urls||[""],capacite_totale:N.capacite_totale,statut:N.statut,tags:N.tags||[]});const{data:U,error:q}=await W.from("ticket_types").select("*").eq("event_id",t);if(q)throw q;U&&U.length>0&&d(U.map(fe=>({id:fe.id,nom:fe.nom,description:fe.description||"",prix:parseFloat(fe.prix),quantite_disponible:fe.quantite_disponible,avantages:fe.avantages||[""]})))}catch(N){console.error("Error fetching event:",N),K.error("Erreur lors du chargement de l'vnement")}},v=async N=>{N.preventDefault(),s(!0);try{const $={...l,organisateur_id:r==null?void 0:r.id,image_urls:l.image_urls.filter(q=>q.trim()!=="")};let U=t;if(t){const{error:q}=await W.from("events").update($).eq("id",t);if(q)throw q}else{const{data:q,error:fe}=await W.from("events").insert([$]).select().single();if(fe)throw fe;U=q.id}for(const q of u){const fe={event_id:U,nom:q.nom,description:q.description,prix:q.prix,quantite_disponible:q.quantite_disponible,quantite_vendue:0,avantages:q.avantages.filter(Xe=>Xe.trim()!=="")};if(q.id){const{error:Xe}=await W.from("ticket_types").update(fe).eq("id",q.id);if(Xe)throw Xe}else{const{error:Xe}=await W.from("ticket_types").insert([fe]);if(Xe)throw Xe}}K.success(t?"vnement mis  jour avec succs":"vnement cr avec succs"),e("/dashboard")}catch($){console.error("Error saving event:",$),K.error("Erreur lors de l'enregistrement")}finally{s(!1)}},b=()=>{c({...l,image_urls:[...l.image_urls,""]})},y=N=>{const $=l.image_urls.filter((U,q)=>q!==N);c({...l,image_urls:$})},m=(N,$)=>{const U=[...l.image_urls];U[N]=$,c({...l,image_urls:U})},g=()=>{d([...u,{nom:"",description:"",prix:0,quantite_disponible:0,avantages:[""]}])},j=N=>{d(u.filter(($,U)=>U!==N))},_=(N,$,U)=>{const q=[...u];q[N][$]=U,d(q)},k=N=>{const $=[...u];$[N].avantages.push(""),d($)},C=(N,$)=>{const U=[...u];U[N].avantages=U[N].avantages.filter((q,fe)=>fe!==$),d(U)},S=(N,$,U)=>{const q=[...u];q[N].avantages[$]=U,d(q)},O=()=>{h.trim()&&!l.tags.includes(h.trim())&&(c({...l,tags:[...l.tags,h.trim()]}),f(""))},A=N=>{c({...l,tags:l.tags.filter($=>$!==N)})};return i.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900",children:t?"Modifier l'vnement":"Crer un vnement"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Remplissez les informations de votre vnement"})]}),i.jsxs("form",{onSubmit:v,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-display font-bold text-gray-900 mb-6",children:"Informations gnrales"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de l'vnement *"}),i.jsx("input",{type:"text",value:l.titre,onChange:N=>c({...l,titre:N.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"Ex: Festival Jazz in Paris 2026"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),i.jsx("textarea",{value:l.description,onChange:N=>c({...l,description:N.target.value}),required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent resize-none",placeholder:"Dcrivez votre vnement..."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lieu *"}),i.jsx("input",{type:"text",value:l.lieu,onChange:N=>c({...l,lieu:N.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"Ex: Parc de la Villette"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville *"}),i.jsx("input",{type:"text",value:l.ville,onChange:N=>c({...l,ville:N.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"Ex: Paris"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de dbut *"}),i.jsx("input",{type:"datetime-local",value:l.date_debut,onChange:N=>c({...l,date_debut:N.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin *"}),i.jsx("input",{type:"datetime-local",value:l.date_fin,onChange:N=>c({...l,date_fin:N.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catgorie *"}),i.jsxs("select",{value:l.category_id,onChange:N=>c({...l,category_id:N.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Slectionner une catgorie"}),a.map(N=>i.jsx("option",{value:N.id,children:N.nom},N.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacit totale *"}),i.jsx("input",{type:"number",value:l.capacite_totale,onChange:N=>c({...l,capacite_totale:parseInt(N.target.value)}),required:!0,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"Ex: 5000"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),i.jsxs("select",{value:l.statut,onChange:N=>c({...l,statut:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",children:[i.jsx("option",{value:"brouillon",children:"Brouillon"}),i.jsx("option",{value:"publie",children:"Publi"}),i.jsx("option",{value:"annule",children:"Annul"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images (URLs)"}),l.image_urls.map((N,$)=>i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("input",{type:"url",value:N,onChange:U=>m($,U.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),l.image_urls.length>1&&i.jsx("button",{type:"button",onClick:()=>y($),className:"p-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(kt,{className:"w-5 h-5"})})]},$)),i.jsxs("button",{type:"button",onClick:b,className:"flex items-center space-x-2 text-secondary-600 hover:text-secondary-700 font-medium",children:[i.jsx(Vt,{className:"w-4 h-4"}),i.jsx("span",{children:"Ajouter une image"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:l.tags.map(N=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-secondary-100 text-secondary-700",children:[N,i.jsx("button",{type:"button",onClick:()=>A(N),className:"ml-2 text-secondary-600 hover:text-secondary-800",children:i.jsx(kt,{className:"w-3 h-3"})})]},N))}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:h,onChange:N=>f(N.target.value),onKeyPress:N=>N.key==="Enter"&&(N.preventDefault(),O()),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"Ajouter un tag"}),i.jsx("button",{type:"button",onClick:O,className:"px-4 py-3 bg-secondary-100 text-secondary-700 rounded-lg hover:bg-secondary-200 transition-colors",children:i.jsx(Vt,{className:"w-5 h-5"})})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-xl font-display font-bold text-gray-900",children:"Types de billets"}),i.jsxs("button",{type:"button",onClick:g,className:"flex items-center space-x-2 text-secondary-600 hover:text-secondary-700 font-medium",children:[i.jsx(Vt,{className:"w-4 h-4"}),i.jsx("span",{children:"Ajouter un type"})]})]}),i.jsx("div",{className:"space-y-6",children:u.map((N,$)=>i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("h3",{className:"font-semibold text-gray-900",children:["Type ",$+1]}),u.length>1&&i.jsx("button",{type:"button",onClick:()=>j($),className:"text-red-600 hover:text-red-700",children:i.jsx(kt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom *"}),i.jsx("input",{type:"text",value:N.nom,onChange:U=>_($,"nom",U.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"Ex: Standard, VIP"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix () *"}),i.jsx("input",{type:"number",value:N.prix,onChange:U=>_($,"prix",parseFloat(U.target.value)),required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantit disponible *"}),i.jsx("input",{type:"number",value:N.quantite_disponible,onChange:U=>_($,"quantite_disponible",parseInt(U.target.value)),required:!0,min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{value:N.description,onChange:U=>_($,"description",U.target.value),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent resize-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Avantages"}),N.avantages.map((U,q)=>i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("input",{type:"text",value:U,onChange:fe=>S($,q,fe.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary-500 focus:border-transparent",placeholder:"Ex: Accs VIP"}),N.avantages.length>1&&i.jsx("button",{type:"button",onClick:()=>C($,q),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(kt,{className:"w-4 h-4"})})]},q)),i.jsxs("button",{type:"button",onClick:()=>k($),className:"flex items-center space-x-2 text-secondary-600 hover:text-secondary-700 text-sm font-medium",children:[i.jsx(Vt,{className:"w-3 h-3"}),i.jsx("span",{children:"Ajouter un avantage"})]})]})]},$))})]}),i.jsxs("div",{className:"flex justify-end space-x-4",children:[i.jsx("button",{type:"button",onClick:()=>e("/dashboard"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Annuler"}),i.jsxs("button",{type:"submit",disabled:n,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(lp,{className:"w-5 h-5"}),i.jsx("span",{children:n?"Enregistrement...":t?"Mettre  jour":"Crer l'vnement"})]})]})]})]})})},Wb=()=>{const e=vt(),[t]=ax(),{clearCart:r}=ya(),n=t.get("session_id");return w.useEffect(()=>{n&&r()},[n,r]),i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 px-8 py-12 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-full mb-4",children:i.jsx(tp,{className:"w-12 h-12 text-green-500"})}),i.jsx("h1",{className:"text-3xl font-display font-bold text-white mb-2",children:"Paiement russi !"}),i.jsx("p",{className:"text-white/90 text-lg",children:"Votre commande a t confirme"})]}),i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(De,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold text-blue-900 mb-2",children:"Vrifiez votre bote email"}),i.jsx("p",{className:"text-sm text-blue-700",children:"Vos billets lectroniques vous ont t envoys par email. Si vous ne les voyez pas, pensez  vrifier vos spams."})]})]})})}),i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsxs("button",{onClick:()=>e("/my-tickets"),className:"w-full flex items-center justify-center space-x-2 px-6 py-4 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all shadow-lg",children:[i.jsx(np,{className:"w-5 h-5"}),i.jsx("span",{children:"Voir mes billets"})]}),i.jsx("button",{onClick:()=>e("/events"),className:"w-full px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Dcouvrir d'autres vnements"})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Prochaines tapes"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mt-0.5",children:i.jsx("span",{className:"text-xs font-bold text-green-600",children:"1"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Tlchargez vos billets"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Depuis votre email ou votre espace personnel"})]})]}),i.jsxs("li",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mt-0.5",children:i.jsx("span",{className:"text-xs font-bold text-green-600",children:"2"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Prsentez votre QR code"}),i.jsx("p",{className:"text-sm text-gray-600",children:" l'entre de l'vnement"})]})]}),i.jsxs("li",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mt-0.5",children:i.jsx("span",{className:"text-xs font-bold text-green-600",children:"3"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Profitez de l'vnement"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Et partagez votre exprience !"})]})]})]})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Des questions ? Consultez notre"," ",i.jsx("a",{href:"/contact",className:"text-secondary-600 hover:underline font-medium",children:"page de contact"})]})})]})]})})})},Hb=()=>{const e=vt();return i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 px-8 py-12 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-full mb-4",children:i.jsx(yb,{className:"w-12 h-12 text-orange-500"})}),i.jsx("h1",{className:"text-3xl font-display font-bold text-white mb-2",children:"Paiement annul"}),i.jsx("p",{className:"text-white/90 text-lg",children:"Votre commande n'a pas t finalise"})]}),i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"mb-8",children:i.jsx("p",{className:"text-gray-600 text-center",children:"Aucun montant n'a t dbit de votre compte. Vos articles sont toujours dans votre panier."})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>e("/cart"),className:"w-full flex items-center justify-center space-x-2 px-6 py-4 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all shadow-lg",children:[i.jsx(En,{className:"w-5 h-5"}),i.jsx("span",{children:"Retour au panier"})]}),i.jsx("button",{onClick:()=>e("/events"),className:"w-full px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Continuer mes achats"})]}),i.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-4 text-center",children:"Besoin d'aide ?"}),i.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[i.jsxs("p",{className:"flex items-start space-x-2",children:[i.jsx("span",{className:"text-secondary-600",children:""}),i.jsx("span",{children:"Si vous rencontrez des difficults de paiement, essayez une autre carte bancaire"})]}),i.jsxs("p",{className:"flex items-start space-x-2",children:[i.jsx("span",{className:"text-secondary-600",children:""}),i.jsx("span",{children:"Vrifiez que votre carte est active pour les paiements en ligne"})]}),i.jsxs("p",{className:"flex items-start space-x-2",children:[i.jsx("span",{className:"text-secondary-600",children:""}),i.jsx("span",{children:"Contactez votre banque en cas de problme persistant"})]})]})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Des questions ?"," ",i.jsx("a",{href:"/contact",className:"text-secondary-600 hover:underline font-medium",children:"Contactez-nous"})]})})]})]})})})},Kb=()=>{const[e,t]=w.useState(!1),{user:r,signOut:n}=ir(),{totalItems:s}=ya(),a=xt(),o=c=>a.pathname===c,l=async()=>{try{await n(),t(!1)}catch(c){console.error("Sign out error:",c)}};return i.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs(M,{to:"/",className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-secondary-500 to-accent-500 rounded-lg flex items-center justify-center",children:i.jsx(ut,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-xl font-display font-bold bg-gradient-to-r from-secondary-600 via-accent-500 to-primary-700 bg-clip-text text-transparent",children:"ONEWAYTICKET"})]}),i.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[i.jsx(M,{to:"/",className:`${o("/")?"text-secondary-600 font-semibold":"text-gray-700 hover:text-secondary-600"} transition-colors`,children:"Accueil"}),i.jsx(M,{to:"/events",className:`${o("/events")?"text-secondary-600 font-semibold":"text-gray-700 hover:text-secondary-600"} transition-colors`,children:"vnements"}),r&&i.jsxs(M,{to:"/my-tickets",className:`${o("/my-tickets")?"text-secondary-600 font-semibold":"text-gray-700 hover:text-secondary-600"} transition-colors flex items-center space-x-1`,children:[i.jsx(Le,{className:"w-4 h-4"}),i.jsx("span",{children:"Mes Billets"})]}),i.jsx(M,{to:"/about",className:`${o("/about")?"text-secondary-600 font-semibold":"text-gray-700 hover:text-secondary-600"} transition-colors`,children:" propos"}),i.jsx(M,{to:"/contact",className:`${o("/contact")?"text-secondary-600 font-semibold":"text-gray-700 hover:text-secondary-600"} transition-colors`,children:"Contact"})]}),i.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[i.jsxs(M,{to:"/cart",className:"relative p-2 text-gray-700 hover:text-secondary-600 hover:bg-gray-100 rounded-lg transition-colors",children:[i.jsx(En,{className:"w-5 h-5"}),s>0&&i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-secondary-600 text-white text-xs rounded-full flex items-center justify-center font-semibold",children:s})]}),r?i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(M,{to:"/dashboard",className:"flex items-center space-x-1 px-4 py-2 text-sm text-gray-700 hover:text-secondary-600 hover:bg-gray-100 rounded-lg transition-colors",children:[i.jsx(tb,{className:"w-4 h-4"}),i.jsx("span",{children:"Tableau de bord"})]}),i.jsxs(M,{to:"/profile",className:"flex items-center space-x-2 text-sm text-gray-700 hover:text-secondary-600 hover:bg-gray-100 px-3 py-2 rounded-lg transition-colors",children:[i.jsx(jr,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:r.prenom})]}),i.jsxs("button",{onClick:l,className:"flex items-center space-x-1 px-4 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:[i.jsx(nb,{className:"w-4 h-4"}),i.jsx("span",{children:"Dconnexion"})]})]}):i.jsxs(M,{to:"/login",className:"flex items-center space-x-1 px-4 py-2 text-sm bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg hover:from-secondary-600 hover:to-accent-600 transition-all",children:[i.jsx(ap,{className:"w-4 h-4"}),i.jsx("span",{children:"Connexion"})]})]}),i.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 rounded-lg text-gray-700 hover:bg-gray-100",children:e?i.jsx(kt,{className:"w-6 h-6"}):i.jsx(sb,{className:"w-6 h-6"})})]})}),e&&i.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:i.jsxs("div",{className:"px-4 py-3 space-y-3",children:[i.jsx(M,{to:"/",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Accueil"}),i.jsx(M,{to:"/events",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"vnements"}),i.jsxs(M,{to:"/cart",onClick:()=>t(!1),className:"flex items-center justify-between px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:[i.jsx("span",{children:"Panier"}),s>0&&i.jsx("span",{className:"ml-2 w-6 h-6 bg-secondary-600 text-white text-xs rounded-full flex items-center justify-center font-semibold",children:s})]}),r&&i.jsxs(i.Fragment,{children:[i.jsx(M,{to:"/dashboard",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Tableau de bord"}),i.jsx(M,{to:"/my-tickets",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Mes Billets"}),i.jsx(M,{to:"/profile",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Mon Profil"})]}),i.jsx(M,{to:"/about",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:" propos"}),i.jsx(M,{to:"/contact",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Contact"}),i.jsx("div",{className:"border-t border-gray-200 pt-3",children:r?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"px-3 py-2 text-sm text-gray-600",children:["Connect en tant que ",i.jsx("span",{className:"font-semibold",children:r.prenom})]}),i.jsx("button",{onClick:l,className:"w-full px-3 py-2 text-left text-red-600 hover:bg-red-50 rounded-lg",children:"Dconnexion"})]}):i.jsx(M,{to:"/login",onClick:()=>t(!1),className:"block px-3 py-2 text-center bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg",children:"Connexion"})})]})})]})},Jb=()=>{const e=new Date().getFullYear();return i.jsx("footer",{className:"bg-gray-900 text-gray-300",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-secondary-500 to-accent-500 rounded-lg flex items-center justify-center",children:i.jsx(ut,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-xl font-display font-bold text-white",children:"ONEWAYTICKET"})]}),i.jsx("p",{className:"text-sm text-gray-400",children:"Votre plateforme de billetterie vnementielle moderne et scurise."}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Propuls par ",i.jsx("span",{className:"text-secondary-400 font-semibold",children:"DigitBinary"})," - Shaping tomorrow, today"]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Navigation"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(M,{to:"/",className:"hover:text-secondary-400 transition-colors text-sm",children:"Accueil"})}),i.jsx("li",{children:i.jsx(M,{to:"/events",className:"hover:text-secondary-400 transition-colors text-sm",children:"vnements"})}),i.jsx("li",{children:i.jsx(M,{to:"/about",className:"hover:text-secondary-400 transition-colors text-sm",children:" propos"})}),i.jsx("li",{children:i.jsx(M,{to:"/contact",className:"hover:text-secondary-400 transition-colors text-sm",children:"Contact"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Lgal"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(M,{to:"/terms",className:"hover:text-secondary-400 transition-colors text-sm",children:"Conditions gnrales"})}),i.jsx("li",{children:i.jsx(M,{to:"/privacy",className:"hover:text-secondary-400 transition-colors text-sm",children:"Politique de confidentialit"})}),i.jsx("li",{children:i.jsx(M,{to:"/mentions",className:"hover:text-secondary-400 transition-colors text-sm",children:"Mentions lgales"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Contact"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(De,{className:"w-4 h-4 text-secondary-400"}),i.jsx("a",{href:"mailto:contact@onewayticket.fr",className:"hover:text-secondary-400 transition-colors",children:"contact@onewayticket.fr"})]}),i.jsxs("li",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(mn,{className:"w-4 h-4 text-secondary-400"}),i.jsx("a",{href:"tel:+33123456789",className:"hover:text-secondary-400 transition-colors",children:"+33 1 23 45 67 89"})]}),i.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[i.jsx(Sn,{className:"w-4 h-4 text-secondary-400 mt-1 flex-shrink-0"}),i.jsxs("span",{children:["123 Avenue des vnements",i.jsx("br",{}),"75001 Paris, France"]})]})]})]})]}),i.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[i.jsxs("p",{className:"text-sm text-gray-400",children:[" ",e," ONEWAYTICKET by DigitBinary. Tous droits rservs."]}),i.jsxs("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[i.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-secondary-400 transition-colors",children:i.jsx(Yw,{className:"w-5 h-5"})}),i.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-secondary-400 transition-colors",children:i.jsx(mb,{className:"w-5 h-5"})}),i.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-secondary-400 transition-colors",children:i.jsx(eb,{className:"w-5 h-5"})}),i.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-secondary-400 transition-colors",children:i.jsx(rb,{className:"w-5 h-5"})})]})]})]})})},Dn=({children:e,requireOrganizer:t=!1})=>{const{user:r,loading:n}=ir();return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-secondary-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):r?t&&r.role!=="organisateur"&&r.role!=="admin"?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Accs refus"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Cette section est rserve aux organisateurs d'vnements."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("a",{href:"/",className:"block w-full px-4 py-2 bg-gradient-to-r from-secondary-500 to-accent-500 text-white rounded-lg font-semibold hover:from-secondary-600 hover:to-accent-600 transition-all",children:"Retour  l'accueil"}),i.jsx("a",{href:"/contact",className:"block w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Devenir organisateur"})]})]})}):i.jsx(i.Fragment,{children:e}):i.jsx(Ty,{to:"/login",replace:!0})};Rf(document.getElementById("root")).render(i.jsx(w.StrictMode,{children:i.jsx(tx,{children:i.jsx(Fw,{children:i.jsx(Bw,{children:i.jsx(fx,{children:i.jsxs("div",{className:"flex flex-col min-h-screen",children:[i.jsx(Kb,{}),i.jsx("main",{className:"flex-1",children:i.jsxs(Oy,{children:[i.jsx(ae,{path:"/",element:i.jsx(kb,{})}),i.jsx(ae,{path:"/events",element:i.jsx(Sb,{})}),i.jsx(ae,{path:"/events/:id",element:i.jsx(Tb,{})}),i.jsx(ae,{path:"/login",element:i.jsx(Pb,{})}),i.jsx(ae,{path:"/register",element:i.jsx(Ob,{})}),i.jsx(ae,{path:"/profile",element:i.jsx(Dn,{children:i.jsx(Rb,{})})}),i.jsx(ae,{path:"/dashboard",element:i.jsx(Dn,{requireOrganizer:!0,children:i.jsx(Ab,{})})}),i.jsx(ae,{path:"/dashboard/events/new",element:i.jsx(Dn,{requireOrganizer:!0,children:i.jsx(yd,{})})}),i.jsx(ae,{path:"/dashboard/events/:id/edit",element:i.jsx(Dn,{requireOrganizer:!0,children:i.jsx(yd,{})})}),i.jsx(ae,{path:"/my-tickets",element:i.jsx(Dn,{children:i.jsx(Ub,{})})}),i.jsx(ae,{path:"/cart",element:i.jsx(Mb,{})}),i.jsx(ae,{path:"/about",element:i.jsx(zb,{})}),i.jsx(ae,{path:"/contact",element:i.jsx(Fb,{})}),i.jsx(ae,{path:"/terms",element:i.jsx(Bb,{})}),i.jsx(ae,{path:"/privacy",element:i.jsx(qb,{})}),i.jsx(ae,{path:"/mentions",element:i.jsx(Vb,{})}),i.jsx(ae,{path:"/success",element:i.jsx(Nb,{})}),i.jsx(ae,{path:"/checkout/success",element:i.jsx(Wb,{})}),i.jsx(ae,{path:"/checkout/cancel",element:i.jsx(Hb,{})}),i.jsx(ae,{path:"/old-app",element:i.jsx(_b,{})})]})}),i.jsx(Jb,{})]})})})})})}));
